{"version":3,"sources":["app/common/form/MyTextInput.jsx","app/config/firebase.js","app/firebase/authService.js","app/common/modals/ModalWrapper.jsx","app/common/modals/modalReducer.js","features/auth/LoginForm.jsx","app/common/modals/ModalManager.jsx","app/common/utils/NowLoading.jsx","app/common/errors/ErrorComponent.jsx","features/auth/AuthContainer.jsx","features/home/HomePage.jsx","features/nav/MasterMenu.jsx","app/common/utils/textFormstUtils.js","features/nav/PeriodMonthMenu.jsx","features/nav/SignedInMenu.jsx","features/nav/NavBar.jsx","features/period/periodReducer.js","features/dashboard/Dashboard.jsx","features/profiles/profilePage/ProfilePage.jsx","features/assign/AssignPage.jsx","features/assign/assignData.js","features/assign/columnsOptions.js","app/async/asyncReducer.js","app/firestore/firestoreService.js","app/firestore/memberTagService.js","features/master/memberTags/memberTagReducer.js","app/common/form/MySelectInput.jsx","app/options/availableOptions.js","app/hooks/useFirestoreDoc.js","app/firestore/clientService.js","features/master/clients/clientReducer.js","features/master/clients/ClientForm.jsx","app/common/form/SpreadSheet.jsx","features/master/clients/columnsOptions.js","features/master/clients/ClientList.jsx","features/master/clients/ClientDashboard.jsx","app/firestore/memberAffiliationService.js","features/master/memberAffiliations/memberAffiliationReducer.js","app/firestore/memberHubCostSalesService.js","features/master/memberHubCostSaless/memberHubCostSalesReducer.js","app/firestore/memberHubService.js","features/master/memberHubs/memberHubReducer.js","app/firestore/memberRankService.js","features/master/memberRanks/memberRankReducer.js","app/firestore/memberService.js","features/master/members/memberReducer.js","app/options/memberHubOptionsFactory.js","app/options/memberRankOptionsFactory.js","app/options/memberAffiliationOptionsFactory.js","app/options/memberTagOptionsFactory.js","features/master/members/MemberForm.jsx","features/master/members/columnsOptions.js","features/master/members/MemberList.jsx","features/master/members/MemberDashboard.jsx","app/firestore/accDepartmentService.js","features/master/accDepartments/accDepartmentReducer.js","app/firestore/accSubjectService.js","features/master/accSubjects/accSubjectReducer.js","app/firestore/projectService.js","features/master/projects/projectReducer.js","app/options/clientOptionsFactory.js","app/options/accDepartmentOptionsFactory.js","app/options/accSubjectOptionsFactory.js","features/master/projects/ProjectForm.jsx","features/master/projects/columnsOptions.js","features/master/projects/ProjectList.jsx","features/master/projects/ProjectDashboard.jsx","app/options/useCostSalesOptions.js","features/master/memberTags/MemberTagForm.jsx","features/master/memberTags/columnsOptions.js","features/master/memberTags/MemberTagList.jsx","features/master/memberTags/MemberTagDashboard.jsx","features/master/memberRanks/MemberRankForm.jsx","features/master/memberRanks/columnsOptions.js","features/master/memberRanks/MemberRankList.jsx","features/master/memberRanks/MemberRankDashboard.jsx","features/master/memberAffiliations/MemberAffiliationForm.jsx","features/master/memberAffiliations/columnsOptions.js","features/master/memberAffiliations/MemberAffiliationList.jsx","features/master/memberAffiliations/MemberAffiliationDashboard.jsx","features/master/memberHubs/MemberHubForm.jsx","features/master/memberHubs/columnsOptions.js","features/master/memberHubs/MemberHubList.jsx","features/master/memberHubs/MemberHubDashboard.jsx","app/options/hubCostSalesKindOptions.js","features/master/memberHubCostSaless/MemberHubCostSalesForm.jsx","features/master/memberHubCostSaless/columnsOptions.js","features/master/memberHubCostSaless/MemberHubCostSalesList.jsx","features/master/memberHubCostSaless/MemberHubCostSalesDashboard.jsx","features/master/accDepartments/AccDepartmentForm.jsx","features/master/accDepartments/columnsOptions.js","features/master/accDepartments/AccDepartmentList.jsx","features/master/accDepartments/AccDepartmentDashboard.jsx","app/options/canInputSalesOptions.js","features/master/accSubjects/AccSubjectForm.jsx","features/master/accSubjects/columnsOptions.js","features/master/accSubjects/AccSubjectList.jsx","features/master/accSubjects/AccSubjectDashboard.jsx","app/layout/App.jsx","serviceWorker.js","features/auth/authReducer.js","app/store/rootReducer.js","features/auth/authConstants.js","index.js","app/store/configureStore.js","features/auth/authAction.js"],"names":["MyTextInput","label","props","useField","field","meta","FormField","error","touched","Label","pointing","color","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","signOutFirebase","auth","signOut","ModalWrapper","children","size","header","dispatch","useDispatch","Modal","open","onClose","type","Header","Content","LoginForm","history","useHistory","onSubmit","values","a","setSubmitting","setErrors","creds","signInWithEmailAndPassword","email","password","push","initialValues","validationSchema","Yup","required","isSubmitting","dirty","isValid","errors","className","name","placeholder","basic","style","marginBottom","content","Button","loading","disabled","fluid","ModalManager","renderModal","modalLookup","currentModal","useSelector","state","modals","modalType","modalProps","ModalComponent","NowLoading","inverted","Dimmer","active","Loader","ErrorComponent","async","Segment","textAlign","message","as","Link","to","primary","marginTop","AuthContainer","authenticated","HomePage","vertical","Container","Image","src","marginRight","onClick","Icon","MasterMenu","Menu","Item","Dropdown","text","icon","Divider","displayYYYYMMJp","yyyyMM","strYYYYMM","length","substr","PeriodMonthMenu","period","currentPeriod","periods","yearMonth","SignedInMenu","currentUser","toast","avatar","spaced","photoURL","NavBar","fixed","alt","position","initialState","creating","isOpen","Dashboard","secondary","Group","Grid","columns","Column","filter","n","map","key","e","payload","close","Input","value","width","Select","compact","options","defaultValue","ProfilePage","data","title","readOnly","source","id","autocomplete","filters","allowComments","contextMenu","obj","x","y","items","onclick","alert","AssignPage","useState","visible","setVisible","jexcelRef","useRef","useEffect","jexcel","current","Sidebar","Pushable","animation","onHide","direction","Pusher","ref","asyncActionError","initialized","dataFromSnapshot","snapshot","exists","prop","hasOwnProperty","Timestamp","toDate","db","fetchMemberTagsFromFirestore","collection","where","orderBy","addMemberTagToFirestore","memberTag","user","now","FieldValue","serverTimestamp","doc","closing_year_month","cuid","set","created_at","created_user","updated_at","updated_user","updateMemberTagToFirestore","update","lo","omit","createMemberTag","updateMemberTag","fetchMemberTags","get","docs","ret","href","memberTags","selectedMemberTag","MySelectInput","helpers","onChange","d","setValue","onBlur","setTouched","availableOptions","useFirestoreDoc","query","deps","shouldExecute","unsubscribe","onSnapshot","code","fetchClientsFromFirestore","addClientToFirestore","client","updateClientToFirestore","createClient","updateClient","fetchClients","clients","selectedClient","ClientForm","clientId","setVisibleDetail","handleRefresh","available","loadFromClientFromFirestore","item","enableReinitialize","validateOnBlur","resetForm","positive","negative","SpreadSheet","setData","initialOptions","defaultColAlign","onchange","getData","opt","columnsOptions","align","ClientList","refresh","ClientDashboard","location","hash","replace","visibleDetail","setRefresh","dimmed","fetchMemberAffiliationsFromFirestore","addMemberAffiliationToFirestore","memberAffiliation","updateMemberAffiliationToFirestore","createMemberAffiliation","updateMemberAffiliation","fetchMemberAffiliations","memberAffiliations","selectedMemberAffiliation","fetchMemberHubCostSalessFromFirestore","addMemberHubCostSalesToFirestore","memberHubCostSales","updateMemberHubCostSalesToFirestore","createMemberHubCostSales","updateMemberHubCostSales","fetchMemberHubCostSaless","getCostAndSales","memberHubCostSaless","memberHubId","memberRankId","costs","hub","rank","cost_sales_kind","saless","cost","parseInt","cost_sales","sales","selectedMemberHubCostSales","fetchMemberHubsFromFirestore","addMemberHubToFirestore","memberHub","updateMemberHubToFirestore","createMemberHub","updateMemberHub","fetchMemberHubs","memberHubs","selectedMemberHub","fetchMemberRanksFromFirestore","addMemberRankToFirestore","memberRank","updateMemberRankToFirestore","createMemberRank","updateMemberRank","fetchMemberRanks","memberRanks","selectedMemberRank","fetchMembersFromFirestore","addMemberToFirestore","member","updateMemberToFirestore","createMember","updateMember","members","selectedMember","memberHubOptionsFactory","memberRankOptionsFactory","memberAffiliationOptionsFactory","affiliation","memberTagOptionsFactory","use_cost_sales","tag","includes","MemberForm","memberId","notRequired","loadFromMemberFromFirestore","setFieldValue","search","clearable","target","mask","MemberList","MemberDashboard","fetchAccDepartmentsFromFirestore","addAccDepartmentToFirestore","accDepartment","updateAccDepartmentToFirestore","createAccDepartment","updateAccDepartment","fetchAccDepartments","accDepartments","selectedAccDepartment","fetchAccSubjectsFromFirestore","addAccSubjectToFirestore","accSubject","updateAccSubjectToFirestore","createAccSubject","updateAccSubject","fetchAccSubjects","accSubjects","selectedAccSubject","fetchProjectsFromFirestore","addProjectToFirestore","project","updateProjectToFirestore","createProject","updateProject","projects","selectedProject","clientOptionsFactory","accDepartmentOptionsFactory","accSubjectOptionsFactory","ProjectForm","note","loadFromProjectFromFirestore","ProjectList","ProjectDashboard","useCostSalesOptions","MemberTagForm","memberTagId","loadFromMemberTagFromFirestore","MemberTagList","MemberTagDashboard","MemberRankForm","loadFromMemberRankFromFirestore","MemberRankList","MemberRankDashboard","MemberAffiliationForm","memberAffiliationId","loadFromMemberAffiliationFromFirestore","MemberAffiliationList","MemberAffiliationDashboard","MemberHubForm","loadFromMemberHubFromFirestore","MemberHubList","MemberHubDashboard","hubCostSalesKindOptions","MemberHubCostSalesForm","memberHubCostSalesId","typeError","loadFromMemberHubCostSalesFromFirestore","MemberHubCostSalesList","MemberHubCostSalesDashboard","AccDepartmentForm","accDepartmentId","loadFromAccDepartmentFromFirestore","AccDepartmentList","AccDepartmentDashboard","accDepartmentkId","canInputSalesOptions","AccSubjectForm","accSubjectId","can_input_sales","loadFromAccSubjectFromFirestore","AccSubjectDashboard","App","hideProgressBar","exact","path","component","render","Boolean","window","hostname","match","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","onAuthStateChanged","signOutUser","configureStore","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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BACA,WACA,eACA,KACA,KACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,gBAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,2BACA,2BACA,eACA,iCACA,QACA,cACA,GACA,MACA,cACA,eACA,OACA,KACA,gBACA,gBAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,QACA,MACA,2BACA,2BACA,cACA,cACA,GACA,MACA,cACA,aACA,OACA,KACA,gBACA,gBAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,6BACA,KACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,cAEF,CACE,iCACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,gBACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,gBACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,KACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,gBACA,gBAEF,CACE,qBACA,eACA,2BACA,WACA,eACA,WACA,QACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,gBAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,KACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,SAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,QACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,WACA,QACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,cAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,qBACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,qBACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,uCACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,gBD1tDFjB,QEOqB,CACrB,CAAEkB,MAAO,eAAM1H,KAAM,OAAQmH,MAAO,QAASQ,UAAU,GACvD,CAAED,MAAO,kBAA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","file":"static/js/main.dc2a5598.chunk.js","sourcesContent":["import { useField } from \"formik\";\r\nimport React from \"react\";\r\nimport { FormField, Label } from \"semantic-ui-react\";\r\n\r\nexport default function MyTextInput({ label, ...props }) {\r\n  const [field, meta] = useField(props);\r\n\r\n  return (\r\n    <FormField error={meta.touched && !!meta.error}>\r\n      <label>{label}</label>\r\n      <input {...field} {...props} />\r\n      {meta.touched && meta.error ? (\r\n        <Label pointing color=\"red\">\r\n          {meta.error}\r\n        </Label>\r\n      ) : null}\r\n    </FormField>\r\n  );\r\n}\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/database\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDZ04kYbwSRlCebBOrF_7VlCFauBSaR5_o\",\r\n  authDomain: \"system-forecast.firebaseapp.com\",\r\n  databaseURL: \"https://system-forecast.firebaseio.com\",\r\n  projectId: \"system-forecast\",\r\n  storageBucket: \"system-forecast.appspot.com\",\r\n  messagingSenderId: \"300878264992\",\r\n  appId: \"1:300878264992:web:2c36eb34294ca6ed2b27c5\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.firestore();\r\n\r\nexport default firebase;\r\n","import firebase from \"../config/firebase\";\r\n\r\nexport function signInFirebaseWithEmail(creds) {\r\n  return firebase\r\n    .auth()\r\n    .signInWithEmailAndPassword(creds.email, creds.password);\r\n}\r\n\r\nexport function signOutFirebase() {\r\n  return firebase.auth().signOut();\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Modal } from \"semantic-ui-react\";\r\nimport { closeModal } from \"./modalReducer\";\r\n\r\nexport default function ModalWrapper({ children, size, header }) {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <Modal open={true} onClose={() => dispatch(closeModal())} size={size}>\r\n      {header && <Modal.Header>{header}</Modal.Header>}\r\n      <Modal.Content>{children}</Modal.Content>\r\n    </Modal>\r\n  );\r\n}\r\n","const OPEN_MODAL = \"modal/open\";\r\nconst CLOSE_MODAL = \"modal/close\";\r\n\r\nexport function openModal(payload) {\r\n  return {\r\n    type: OPEN_MODAL,\r\n    payload,\r\n  };\r\n}\r\n\r\nexport function closeModal() {\r\n  return {\r\n    type: CLOSE_MODAL,\r\n  };\r\n}\r\n\r\nconst initialState = null;\r\n\r\nexport default function modalReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case OPEN_MODAL:\r\n      const { modalType, modalProps } = payload;\r\n      return { modalType, modalProps };\r\n    case CLOSE_MODAL:\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Button, Label } from \"semantic-ui-react\";\r\nimport { Form, Formik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../app/common/form/MyTextInput\";\r\nimport { signInFirebaseWithEmail } from \"../../app/firebase/authService\";\r\nimport ModalWrapper from \"../../app/common/modals/ModalWrapper\";\r\n\r\nexport default function LoginForm() {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <ModalWrapper size=\"mini\" header=\"\">\r\n      <Formik\r\n        onSubmit={async (values, { setSubmitting, setErrors }) => {\r\n          setSubmitting(true);\r\n          try {\r\n            await signInFirebaseWithEmail(values);\r\n            history.push(\"/dashboard\");\r\n          } catch (error) {\r\n            setErrors({\r\n              auth: \"\",\r\n            });\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}\r\n        initialValues={{ email: \"\", password: \"\" }}\r\n        validationSchema={Yup.object({\r\n          email: Yup.string()\r\n            .required(\"Email Address \")\r\n            .email(\"Email \"),\r\n          password: Yup.string().required(\"\"),\r\n        })}>\r\n        {({ isSubmitting, dirty, isValid, errors }) => (\r\n          <Form className=\"ui form\">\r\n            <MyTextInput name=\"email\" placeholder=\"Email Address\" />\r\n            <MyTextInput\r\n              name=\"password\"\r\n              placeholder=\"password\"\r\n              type=\"password\"\r\n            />\r\n            {errors.auth && (\r\n              <Label\r\n                basic\r\n                color=\"red\"\r\n                style={{ marginBottom: 10 }}\r\n                content={errors.auth}\r\n              />\r\n            )}\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              fluid\r\n              size=\"large\"\r\n              color=\"teal\"\r\n              content=\"\"\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </ModalWrapper>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoginForm from \"../../../features/auth/LoginForm\";\r\n\r\nexport default function ModalManager() {\r\n  const modalLookup = {\r\n    LoginForm,\r\n  };\r\n  const currentModal = useSelector((state) => state.modals);\r\n  let renderModal;\r\n  if (currentModal) {\r\n    const { modalType, modalProps } = currentModal;\r\n    const ModalComponent = modalLookup[modalType];\r\n    renderModal = <ModalComponent {...modalProps} />;\r\n  }\r\n  return <span>{renderModal}</span>;\r\n}\r\n","import React from \"react\";\r\nimport { Dimmer, Loader } from \"semantic-ui-react\";\r\n\r\nexport default function NowLoading({\r\n  inverted = true,\r\n  content = \"Loading...\",\r\n}) {\r\n  return (\r\n    <Dimmer inverted={inverted} active={true}>\r\n      <Loader content={content} />\r\n    </Dimmer>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { Segment, Header, Button } from \"semantic-ui-react\";\n\nexport default function ErrorComponent() {\n  const { error } = useSelector((state) => state.async);\n\n  return (\n    <Segment placeholder basic>\n      <Header\n        textAlign=\"center\"\n        content={error?.message || \"\"}\n      />\n      <Button\n        as={Link}\n        to=\"/dashboard\"\n        primary\n        style={{ marginTop: 20 }}\n        content=\"\"\n      />\n    </Segment>\n  );\n}\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nexport default function AuthContainer({ children }) {\r\n  const { authenticated } = useSelector((state) => state.auth);\r\n  return <>{authenticated === true ? children : <LoginForm />}</>;\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Header,\r\n  Icon,\r\n  Image,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\n\r\nexport default function HomePage({ history }) {\r\n  return (\r\n    <Segment inverted textAlign=\"center\" vertical className=\"masthead\">\r\n      <Container>\r\n        <Header as=\"h1\" inverted style={{ marginBottom: 50 }}>\r\n          <Image\r\n            size=\"massive\"\r\n            src=\"/assets/logo.png\"\r\n            style={{ marginBottom: 12, marginRight: 12 }}\r\n          />\r\n          Forecast\r\n        </Header>\r\n        <Button\r\n          onClick={() => history.push(\"/dashboard\")}\r\n          size=\"huge\"\r\n          color=\"teal\">\r\n          Get Started\r\n          <Icon name=\"right arrow\" />\r\n        </Button>\r\n      </Container>\r\n    </Segment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Dropdown, Menu } from \"semantic-ui-react\";\r\n\r\nexport default function MasterMenu() {\r\n  return (\r\n    <Menu.Item>\r\n      <Dropdown pointing=\"top right\" text=\"\">\r\n        <Dropdown.Menu>\r\n          <Dropdown.Item as={Link} to=\"/members\" text=\"\" icon=\"users\" />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/memberaffiliations\"\r\n            text=\"\"\r\n            icon=\"users\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/membertags\"\r\n            text=\"\"\r\n            icon=\"users\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/memberranks\"\r\n            text=\"\"\r\n            icon=\"users\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/memberhubs\"\r\n            text=\"\"\r\n            icon=\"users\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/memberhubcostsaless\"\r\n            text=\"\"\r\n            icon=\"users\"\r\n          />\r\n          <Dropdown.Divider />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/clients\"\r\n            text=\"\"\r\n            icon=\"building outline\"\r\n          />\r\n          <Dropdown.Divider />\r\n          <Dropdown.Item as={Link} to=\"/projects\" text=\"\" icon=\"inbox\" />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/accdepartments\"\r\n            text=\"\"\r\n            icon=\"chart bar\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/accsubjects\"\r\n            text=\"\"\r\n            icon=\"chart bar\"\r\n          />\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    </Menu.Item>\r\n  );\r\n}\r\n","export function displayYYYYMMJp(yyyyMM) {\r\n  const strYYYYMM = \"\" + yyyyMM;\r\n  if (strYYYYMM.length !== 6) {\r\n    return strYYYYMM;\r\n  }\r\n  return strYYYYMM.substr(0, 4) + \"\" + strYYYYMM.substr(4, 2) + \"\";\r\n}\r\n\r\nexport function stripYYYYMMJp(YYYYMM) {\r\n  return YYYYMM.replace(//g, \"\");\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Menu } from \"semantic-ui-react\";\r\nimport { displayYYYYMMJp } from \"../../app/common/utils/textFormstUtils\";\r\n\r\nexport default function PeriodMonthMenu() {\r\n  const { currentPeriod, periods } = useSelector((state) => state.period);\r\n\r\n  return (\r\n    <>\r\n      {periods.length !== 0 && (\r\n        <Menu.Item>{displayYYYYMMJp(currentPeriod.yearMonth)}</Menu.Item>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Dropdown, Image, Menu } from \"semantic-ui-react\";\r\nimport { signOutFirebase } from \"../../app/firebase/authService\";\r\n\r\nexport default function SignedInMenu() {\r\n  const { currentUser } = useSelector((state) => state.auth);\r\n  const history = useHistory();\r\n\r\n  async function handleSignOut() {\r\n    try {\r\n      history.push(\"/\");\r\n      await signOutFirebase();\r\n    } catch (error) {\r\n      toast.error(error.message);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Menu.Item>\r\n      <Image\r\n        avatar\r\n        spaced=\"right\"\r\n        src={currentUser?.photoURL || \"/assets/user.png\"}\r\n      />\r\n      <Dropdown pointing=\"top right\" text={currentUser?.email}>\r\n        <Dropdown.Menu>\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/profile\"\r\n            text=\"\"\r\n            icon=\"user\"\r\n          />\r\n          <Dropdown.Item\r\n            onClick={handleSignOut}\r\n            text=\"\"\r\n            icon=\"power\"\r\n          />\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    </Menu.Item>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Container, Menu } from \"semantic-ui-react\";\r\nimport MasterMenu from \"./MasterMenu\";\r\nimport PeriodMonthMenu from \"./PeriodMonthMenu\";\r\nimport SignedInMenu from \"./SignedInMenu\";\r\n\r\nexport default function NavBar() {\r\n  return (\r\n    <Menu inverted fixed=\"top\">\r\n      <Container>\r\n        <Menu.Item header as={Link} to=\"/dashboard\">\r\n          <img src=\"/assets/logo.png\" alt=\"logo\" style={{ marginRight: 15 }} />\r\n          Forecast\r\n        </Menu.Item>\r\n        <PeriodMonthMenu />\r\n        <Menu.Item as={Link} to=\"/assign/latest\" name=\"assign\">\r\n          Assign\r\n        </Menu.Item>\r\n        <Menu.Menu position=\"right\">\r\n          <MasterMenu />\r\n          <SignedInMenu />\r\n        </Menu.Menu>\r\n      </Container>\r\n    </Menu>\r\n  );\r\n}\r\n","export const PERIOD_LATEST = \"period/latest\";\r\nexport const PERIOD_CHANGE_CURRENT = \"period/change_current\";\r\nexport const PERIOD_CREATE_START = \"period/create_start\";\r\nexport const PERIOD_CREATE_FINISHED = \"period/create_finished\";\r\nexport const PERIOD_REMOVE = \"period/remove\";\r\nexport const PERIOD_CLOSE = \"period/close\";\r\nexport const PERIOD_OPEN = \"period/opeb\";\r\n\r\n/**  */\r\nexport function latestPeriod() {\r\n  return function (dispatch) {\r\n    // datastore \r\n    const latest = [\r\n      { yearMonth: 202011, close: false },\r\n      { yearMonth: 202010, close: false },\r\n      { yearMonth: 202009, close: true },\r\n      { yearMonth: 202008, close: true },\r\n      { yearMonth: 202007, close: true },\r\n      { yearMonth: 202006, close: true },\r\n      { yearMonth: 202005, close: true },\r\n    ];\r\n\r\n    dispatch({ type: PERIOD_LATEST, payload: latest });\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function changeCurrentPeriod(yearMonth) {\r\n  return {\r\n    type: PERIOD_CHANGE_CURRENT,\r\n    payload: yearMonth,\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function createPeriodStart(yearMonth) {\r\n  return {\r\n    type: PERIOD_CREATE_START,\r\n    payload: yearMonth,\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function createPeriodFinished() {\r\n  return {\r\n    type: PERIOD_CREATE_FINISHED,\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function removePeriod(yearMonth) {\r\n  return {\r\n    type: PERIOD_REMOVE,\r\n    payload: yearMonth,\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function closePeriod(yearMonth) {\r\n  return {\r\n    type: PERIOD_CLOSE,\r\n    payload: yearMonth,\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function openPeriod(yearMonth) {\r\n  return {\r\n    type: PERIOD_OPEN,\r\n    payload: yearMonth,\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  creating: false,\r\n  periods: [],\r\n  currentPeriod: null,\r\n  isOpen: false,\r\n};\r\n\r\nexport default function periodReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case PERIOD_LATEST:\r\n      return {\r\n        ...state,\r\n        periods: payload,\r\n        currentPeriod: payload.length === 0 ? null : payload[0],\r\n      };\r\n    case PERIOD_CHANGE_CURRENT:\r\n      return {\r\n        ...state,\r\n        currentPeriod: state.periods.filter((n) => n.yearMonth === payload)[0],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Button,\r\n  Divider,\r\n  Dropdown,\r\n  Grid,\r\n  Header,\r\n  Icon,\r\n  Input,\r\n  Menu,\r\n  Segment,\r\n  Select,\r\n} from \"semantic-ui-react\";\r\nimport { displayYYYYMMJp } from \"../../app/common/utils/textFormstUtils\";\r\nimport { changeCurrentPeriod } from \"../period/periodReducer\";\r\n\r\nexport default function Dashboard() {\r\n  const { currentPeriod, periods } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const monthOptions = [\r\n    { key: \"1\", text: \"1\", value: \"01\" },\r\n    { key: \"2\", text: \"2\", value: \"02\" },\r\n    { key: \"3\", text: \"3\", value: \"03\" },\r\n    { key: \"4\", text: \"4\", value: \"04\" },\r\n    { key: \"5\", text: \"5\", value: \"05\" },\r\n    { key: \"6\", text: \"6\", value: \"06\" },\r\n    { key: \"7\", text: \"7\", value: \"07\" },\r\n    { key: \"8\", text: \"8\", value: \"08\" },\r\n    { key: \"9\", text: \"9\", value: \"09\" },\r\n    { key: \"10\", text: \"10\", value: \"10\" },\r\n    { key: \"11\", text: \"11\", value: \"11\" },\r\n    { key: \"12\", text: \"12\", value: \"12\" },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>DashBoard</Menu.Item>\r\n      </Menu>\r\n      <Segment.Group>\r\n        <Segment>\r\n          <Header as=\"h3\"></Header>\r\n        </Segment>\r\n        <Segment>\r\n          <Grid columns={2} textAlign=\"center\">\r\n            <Grid.Column>\r\n              <p> </p>\r\n              <Dropdown\r\n                pointing=\"top left\"\r\n                text={displayYYYYMMJp(currentPeriod.yearMonth)}>\r\n                <Dropdown.Menu>\r\n                  {periods\r\n                    .filter((n) => n.yearMonth !== currentPeriod.yearMonth)\r\n                    .map((period) => (\r\n                      <Dropdown.Item\r\n                        key={period.yearMonth}\r\n                        onClick={(e) => {\r\n                          dispatch(changeCurrentPeriod(period.yearMonth));\r\n                        }}>\r\n                        <Icon name={period.close ? \"lock\" : \"clock outline\"} />\r\n                        {displayYYYYMMJp(period.yearMonth)}\r\n                      </Dropdown.Item>\r\n                    ))}\r\n                </Dropdown.Menu>\r\n              </Dropdown>\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <p></p>\r\n              <Input type=\"text\">\r\n                <input value=\"2020\" style={{ width: \"5em\" }} />\r\n                <Select compact options={monthOptions} defaultValue=\"12\" />\r\n                <Button color=\"teal\"></Button>\r\n              </Input>\r\n            </Grid.Column>\r\n          </Grid>\r\n          <Divider vertical>Or</Divider>\r\n        </Segment>\r\n      </Segment.Group>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Icon } from \"semantic-ui-react\";\r\n\r\nexport default function ProfilePage() {\r\n  return (\r\n    <h1>\r\n      <Icon name=\"user\" style={{ marginRight: \"0.5em\" }} />\r\n      \r\n    </h1>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Icon, Input, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport jexcel from \"jexcel\";\r\nimport \"jexcel/dist/jexcel.css\";\r\nimport columnsOptions from \"./columnsOptions\";\r\nimport data from \"./assignData\";\r\n\r\nconst options = {\r\n  data: data,\r\n  columns: columnsOptions,\r\n  filters: true,\r\n  allowComments: true,\r\n  contextMenu: function (obj, x, y, e) {\r\n    const items = [];\r\n\r\n    if (x && y) {\r\n      items.push({\r\n        title: \"\",\r\n        onclick: function () {\r\n          alert(\"CELL\" + x + \":\" + y);\r\n        },\r\n      });\r\n    }\r\n\r\n    return items;\r\n  },\r\n};\r\n\r\nexport default function AssignPage() {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const jexcelRef = useRef(null);\r\n  useEffect(() => {\r\n    jexcel(jexcelRef.current, options);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          as={Menu}\r\n          animation=\"push\"\r\n          visible={visible}\r\n          onHide={() => setVisible(false)}\r\n          vertical\r\n          direction=\"left\">\r\n          <Menu.Item>\r\n            <Input type=\"text\" icon=\"filter\" />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n        <Sidebar.Pusher className={\"jpusher\"}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>Assign</Menu.Item>\r\n            <Menu.Item\r\n              active={visible}\r\n              onClick={() => setVisible(!visible)}\r\n              color=\"green\">\r\n              <Icon name=\"filter\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                alert(\"save\");\r\n              }}>\r\n              <Icon name=\"save\" />\r\n              /\r\n            </Menu.Item>\r\n          </Menu>\r\n          <div ref={jexcelRef} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","const data = [\r\n  [\r\n    \"\",\r\n    \"PT\",\r\n    \"\",\r\n    \"2020/8/1\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"550,000\",\r\n    \"\",\r\n    \"500,000\",\r\n    \"100%\",\r\n    \"500,000\",\r\n    \"50,000\",\r\n    \"9.1%\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"NIPPO\",\r\n    \"BBS\",\r\n    \"\",\r\n    \"\",\r\n    \"960,000\",\r\n    \"700,000\",\r\n    \"\",\r\n    \"80%\",\r\n    \"560,000\",\r\n    \"400,000\",\r\n    \"41.7%\",\r\n    \"\",\r\n    \"1,080,000\",\r\n    \"96,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"0\",\r\n    \"700,000\",\r\n    \"\",\r\n    \"20%\",\r\n    \"140,000\",\r\n    \"-140,000\",\r\n    \"0.0%\",\r\n    \"\",\r\n    \"1,080,000\",\r\n    \"-216,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"0\",\r\n    \"770,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"770,000\",\r\n    \"-770,000\",\r\n    \"0.0%\",\r\n    \"SD\",\r\n    \"1,200,000\",\r\n    \"-1,200,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"RS\",\r\n    \"RS\",\r\n    \"\",\r\n    \"\",\r\n    \"751,653\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"181,653\",\r\n    \"24.2%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"-128,347\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"0\",\r\n    \"850,000\",\r\n    \"\",\r\n    \"20%\",\r\n    \"170,000\",\r\n    \"-170,000\",\r\n    \"0.0%\",\r\n    \"SD\",\r\n    \"1,200,000\",\r\n    \"-240,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"NIPPO\",\r\n    \"BBS\",\r\n    \"\",\r\n    \"\",\r\n    \"720,000\",\r\n    \"850,000\",\r\n    \"\",\r\n    \"80%\",\r\n    \"680,000\",\r\n    \"40,000\",\r\n    \"5.6%\",\r\n    \"SD\",\r\n    \"1,200,000\",\r\n    \"-240,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"UA\",\r\n    \"UA\",\r\n    \"\",\r\n    \"\",\r\n    \"900,000\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"330,000\",\r\n    \"36.7%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"20,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"1,200,000\",\r\n    \"680,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"680,000\",\r\n    \"520,000\",\r\n    \"43.3%\",\r\n    \"DR\",\r\n    \"1,050,000\",\r\n    \"150,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"SGW\",\r\n    \"FA\",\r\n    \"\",\r\n    \"\",\r\n    \"950,000\",\r\n    \"680,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"680,000\",\r\n    \"270,000\",\r\n    \"28.4%\",\r\n    \"DR\",\r\n    \"1,050,000\",\r\n    \"-100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"Dynamics\",\r\n    \"NTSOL\",\r\n    \"\",\r\n    \"\",\r\n    \"703,975\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"133,975\",\r\n    \"19.0%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"-176,025\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"LSX\",\r\n    \"FA\",\r\n    \"\",\r\n    \"\",\r\n    \"880,000\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"310,000\",\r\n    \"35.2%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"0\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"LBZ\",\r\n    \"LBZ\",\r\n    \"\",\r\n    \"\",\r\n    \"840,000\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"270,000\",\r\n    \"32.1%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"-40,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"NIPPO\",\r\n    \"BBS\",\r\n    \"\",\r\n    \"\",\r\n    \"820,000\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"250,000\",\r\n    \"30.5%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"-60,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"807,550\",\r\n    \"450,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"450,000\",\r\n    \"357,550\",\r\n    \"44.3%\",\r\n    \"AM\",\r\n    \"700,000\",\r\n    \"107,550\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"Dynamics\",\r\n    \"NTSOL\",\r\n    \"\",\r\n    \"\",\r\n    \"600,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"230,000\",\r\n    \"38.3%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"50,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n];\r\n\r\nexport default data;\r\n","const project = [\r\n  { id: \"001\", name: \"BBS\" },\r\n  { id: \"002\", name: \" \" },\r\n  { id: \"003\", name: \"Dynamics\" },\r\n  { id: \"004\", name: \"WRD\" },\r\n  { id: \"005\", name: \"LSX\" },\r\n  { id: \"006\", name: \"PPT\" },\r\n  { id: \"007\", name: \"LBZ\" },\r\n  { id: \"008\", name: \"\" },\r\n  { id: \"009\", name: \"RS\" },\r\n  { id: \"010\", name: \"\" },\r\n  { id: \"011\", name: \"NIPPO\" },\r\n  { id: \"012\", name: \"\" },\r\n  { id: \"013\", name: \"UA\" },\r\n];\r\n\r\nconst columnsOptions = [\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"/PT\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"//\", type: \"text\", width: \"140px\", readOnly: true },\r\n  {\r\n    title: \"\",\r\n    type: \"dropdown\",\r\n    width: \"140px\",\r\n    source: project,\r\n    autocomplete: true,\r\n  },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"\", type: \"url\", width: \"140px\" },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"PT\", type: \"text\", width: \"140px\" },\r\n  { title: \"\", type: \"text\", width: \"140px\" },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n];\r\n\r\nexport default columnsOptions;\r\n","const ASYNC_ACTION_START = \"async/action_start\";\r\nconst ASYNC_ACTION_FINISH = \"async/action_finish\";\r\nconst ASYNC_ACTION_ERROR = \"async/action_error\";\r\nexport const APP_LOADED = \"app/loaded\";\r\n\r\nexport function asyncActionStart() {\r\n  return {\r\n    type: ASYNC_ACTION_START,\r\n  };\r\n}\r\n\r\nexport function asyncActionFinish() {\r\n  return {\r\n    type: ASYNC_ACTION_FINISH,\r\n  };\r\n}\r\n\r\nexport function asyncActionError(error) {\r\n  return {\r\n    type: ASYNC_ACTION_ERROR,\r\n    payload: error,\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  initialized: false,\r\n};\r\n\r\nexport default function asyncReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case ASYNC_ACTION_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n      };\r\n    case ASYNC_ACTION_FINISH:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    case ASYNC_ACTION_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: payload,\r\n      };\r\n    case APP_LOADED:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import firebase from \"../config/firebase\";\r\n\r\nexport function dataFromSnapshot(snapshot) {\r\n  if (!snapshot.exists) {\r\n    return undefined;\r\n  }\r\n  const data = snapshot.data();\r\n  for (const prop in data) {\r\n    if (data.hasOwnProperty(prop)) {\r\n      if (data[prop] instanceof firebase.firestore.Timestamp) {\r\n        data[prop] = data[prop].toDate();\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    ...data,\r\n    id: snapshot.id,\r\n  };\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member_tag\";\r\n\r\nexport function fetchMemberTagsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberTagFromFirestore(memberTagId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberTagId);\r\n}\r\n\r\nexport function addMemberTagToFirestore(memberTag) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberTag.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...memberTag,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberTagToFirestore(memberTag) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberTag.id)\r\n    .update({\r\n      ...lo.omit(memberTag, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberTagToFirestore,\r\n  fetchMemberTagsFromFirestore,\r\n  updateMemberTagToFirestore,\r\n} from \"../../../app/firestore/memberTagService\";\r\n\r\nexport const MEMBERTAG_CREATE = \"memberTag/create\";\r\nexport const MEMBERTAG_UPDATE = \"memberTag/update\";\r\nexport const MEMBERTAGS_FETCH = \"memberTag/fetch\";\r\nexport const MEMBERTAG_LISTEN = \"memberTag/listen\";\r\nexport const MEMBERTAG_SELECTED = \"memberTag/selected\";\r\n\r\nexport function selectMemberTag(memberTag) {\r\n  return {\r\n    type: MEMBERTAG_SELECTED,\r\n    payload: memberTag,\r\n  };\r\n}\r\n\r\nexport function createMemberTag(memberTag) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberTagToFirestore(memberTag);\r\n      dispatch({\r\n        type: MEMBERTAG_CREATE,\r\n        payload: memberTag,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMemberTag(memberTag) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberTagToFirestore(memberTag);\r\n      dispatch({\r\n        type: MEMBERTAG_UPDATE,\r\n        payload: memberTag,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMemberTags(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMemberTagsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERTAGS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  memberTags: [],\r\n  selectedMemberTag: null,\r\n};\r\n\r\nexport default function memberTagReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case MEMBERTAG_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMemberTag: payload,\r\n      };\r\n    case MEMBERTAG_CREATE:\r\n      return state;\r\n    case MEMBERTAG_UPDATE:\r\n      return state;\r\n    case MEMBERTAGS_FETCH:\r\n      return {\r\n        ...state,\r\n        memberTags: payload,\r\n      };\r\n    case MEMBERTAG_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMemberTag: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\nimport { useField } from \"formik\";\nimport { FormField, Label, Select } from \"semantic-ui-react\";\n\nexport default function MySelectInput({ label, ...props }) {\n  const [field, meta, helpers] = useField(props);\n\n  return (\n    <FormField error={meta.touched && !!meta.error}>\n      <label>{label}</label>\n      <Select\n        value={field.value || null}\n        onChange={(e, d) => helpers.setValue(d.value)}\n        onBlur={() => helpers.setTouched(true)}\n        {...props}\n      />\n      {meta.touched && meta.error ? (\n        <Label pointing color=\"red\">\n          {meta.error}\n        </Label>\n      ) : null}\n    </FormField>\n  );\n}\n","export const availableOptions = [\r\n  { key: \"true\", id: \"true\", text: \"\", name: \"\", value: \"true\" },\r\n  { key: \"false\", id: \"false\", text: \"\", name: \"\", value: \"false\" },\r\n];\r\n","import { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  asyncActionStart,\n  asyncActionError,\n  asyncActionFinish,\n} from \"../async/asyncReducer\";\nimport { dataFromSnapshot } from \"../firestore/firestoreService\";\n\nexport default function useFirestoreDoc({\n  query,\n  data,\n  deps,\n  shouldExecute = true,\n}) {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!shouldExecute) {\n      data(null);\n      return;\n    }\n\n    dispatch(asyncActionStart());\n    const unsubscribe = query().onSnapshot(\n      (snapshot) => {\n        if (!snapshot.exists) {\n          dispatch(\n            asyncActionError({\n              code: \"not-found\",\n              message: \"Could not find document\",\n            })\n          );\n          return;\n        }\n        data(dataFromSnapshot(snapshot));\n        dispatch(asyncActionFinish());\n      },\n      (error) => dispatch(asyncActionError(error))\n    );\n    return () => {\n      unsubscribe();\n    };\n  }, deps); // eslint-disable-line react-hooks/exhaustive-deps\n}\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"client\";\r\n\r\nexport function fetchClientsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromClientFromFirestore(clientId) {\r\n  return db.collection(COLLECTION_NAME).doc(clientId);\r\n}\r\n\r\nexport function addClientToFirestore(client) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(client.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...client,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateClientToFirestore(client) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(client.id)\r\n    .update({\r\n      ...lo.omit(client, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addClientToFirestore,\r\n  fetchClientsFromFirestore,\r\n  updateClientToFirestore,\r\n} from \"../../../app/firestore/clientService\";\r\n\r\nexport const CLIENT_CREATE = \"client/create\";\r\nexport const CLIENT_UPDATE = \"client/update\";\r\nexport const CLIENTS_FETCH = \"client/fetch\";\r\nexport const CLIENT_LISTEN = \"client/listen\";\r\nexport const CLIENT_SELECTED = \"client/selected\";\r\n\r\nexport function selectClient(client) {\r\n  return {\r\n    type: CLIENT_SELECTED,\r\n    payload: client,\r\n  };\r\n}\r\n\r\nexport function createClient(client) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addClientToFirestore(client);\r\n      dispatch({\r\n        type: CLIENT_CREATE,\r\n        payload: client,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateClient(client) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateClientToFirestore(client);\r\n      dispatch({\r\n        type: CLIENT_UPDATE,\r\n        payload: client,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchClients(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchClientsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: CLIENTS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  clients: [],\r\n  selectedClient: null,\r\n};\r\n\r\nexport default function clientReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case CLIENT_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedClient: payload,\r\n      };\r\n    case CLIENT_CREATE:\r\n      return state;\r\n    case CLIENT_UPDATE:\r\n      return state;\r\n    case CLIENTS_FETCH:\r\n      return {\r\n        ...state,\r\n        clients: payload,\r\n      };\r\n    case CLIENT_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedClient: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromClientFromFirestore } from \"../../../app/firestore/clientService\";\r\nimport { createClient, selectClient, updateClient } from \"./clientReducer\";\r\n\r\nexport default function ClientForm({\r\n  clientId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedClient } = useSelector((state) => state.client);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedClient ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!clientId,\r\n    query: () => loadFromClientFromFirestore(clientId),\r\n    data: (item) => dispatch(selectClient(item)),\r\n    deps: [clientId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            clientId\r\n              ? dispatch(updateClient(values))\r\n              : dispatch(createClient(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/clients\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput\r\n              label=\"\"\r\n              name=\"name\"\r\n              placeholder=\"\"\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/clients\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport jexcel from \"jexcel\";\r\nimport \"jexcel/dist/jexcel.css\";\r\n\r\nexport default function SpreadSheet({ options, data, setData = null }) {\r\n  const jexcelRef = useRef(null);\r\n\r\n  const handleOnChange = () => {\r\n    if (setData) {\r\n      setData(jexcelRef.current.jexcel.getData());\r\n    }\r\n  };\r\n\r\n  const initialOptions = useRef({\r\n    filters: true,\r\n    allowComments: false,\r\n    defaultColAlign: \"left\",\r\n    contextMenu: () => [],\r\n    onchange: handleOnChange,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const opt = { ...initialOptions.current, ...options.current };\r\n    jexcel(jexcelRef.current, opt);\r\n  }, [options]);\r\n\r\n  useEffect(() => {\r\n    jexcelRef.current.jexcel.setData(data);\r\n  }, [data]);\r\n\r\n  return <div ref={jexcelRef} />;\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"300px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function ClientList({ refresh }) {\r\n  const { clients } = useSelector((state) => state.client);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={clients} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchMemberTags } from \"../memberTags/memberTagReducer\";\r\nimport ClientForm from \"./ClientForm\";\r\nimport ClientList from \"./ClientList\";\r\nimport { fetchClients } from \"./clientReducer\";\r\n\r\nexport default function ClientDashboard({ location }) {\r\n  const clientId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (clientId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [clientId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberTags(currentPeriod.yearMonth));\r\n    dispatch(fetchClients(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <ClientForm\r\n              clientId={clientId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <ClientList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member_affiliation\";\r\n\r\nexport function fetchMemberAffiliationsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberAffiliationFromFirestore(memberAffiliationId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberAffiliationId);\r\n}\r\n\r\nexport function addMemberAffiliationToFirestore(memberAffiliation) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberAffiliation.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...memberAffiliation,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberAffiliationToFirestore(memberAffiliation) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberAffiliation.id)\r\n    .update({\r\n      ...lo.omit(memberAffiliation, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberAffiliationToFirestore,\r\n  fetchMemberAffiliationsFromFirestore,\r\n  updateMemberAffiliationToFirestore,\r\n} from \"../../../app/firestore/memberAffiliationService\";\r\n\r\nexport const MEMBERAFFILIATION_CREATE = \"memberAffiliation/create\";\r\nexport const MEMBERAFFILIATION_UPDATE = \"memberAffiliation/update\";\r\nexport const MEMBERAFFILIATIONS_FETCH = \"memberAffiliation/fetch\";\r\nexport const MEMBERAFFILIATION_LISTEN = \"memberAffiliation/listen\";\r\nexport const MEMBERAFFILIATION_SELECTED = \"memberAffiliation/selected\";\r\n\r\nexport function selectMemberAffiliation(memberAffiliation) {\r\n  return {\r\n    type: MEMBERAFFILIATION_SELECTED,\r\n    payload: memberAffiliation,\r\n  };\r\n}\r\n\r\nexport function createMemberAffiliation(memberAffiliation) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberAffiliationToFirestore(memberAffiliation);\r\n      dispatch({\r\n        type: MEMBERAFFILIATION_CREATE,\r\n        payload: memberAffiliation,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMemberAffiliation(memberAffiliation) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberAffiliationToFirestore(memberAffiliation);\r\n      dispatch({\r\n        type: MEMBERAFFILIATION_UPDATE,\r\n        payload: memberAffiliation,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMemberAffiliations(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMemberAffiliationsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERAFFILIATIONS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  memberAffiliations: [],\r\n  selectedMemberAffiliation: null,\r\n};\r\n\r\nexport default function memberAffiliationReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case MEMBERAFFILIATION_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMemberAffiliation: payload,\r\n      };\r\n    case MEMBERAFFILIATION_CREATE:\r\n      return state;\r\n    case MEMBERAFFILIATION_UPDATE:\r\n      return state;\r\n    case MEMBERAFFILIATIONS_FETCH:\r\n      return {\r\n        ...state,\r\n        memberAffiliations: payload,\r\n      };\r\n    case MEMBERAFFILIATION_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMemberAffiliation: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member_hub_cost_sales\";\r\n\r\nexport function fetchMemberHubCostSalessFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberHubCostSalesFromFirestore(memberHubCostSalesId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberHubCostSalesId);\r\n}\r\n\r\nexport function addMemberHubCostSalesToFirestore(memberHubCostSales) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberHubCostSales.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...memberHubCostSales,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberHubCostSalesToFirestore(memberHubCostSales) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberHubCostSales.id)\r\n    .update({\r\n      ...lo.omit(memberHubCostSales, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberHubCostSalesToFirestore,\r\n  fetchMemberHubCostSalessFromFirestore,\r\n  updateMemberHubCostSalesToFirestore,\r\n} from \"../../../app/firestore/memberHubCostSalesService\";\r\n\r\nexport const MEMBERHUB_COST_SALES_CREATE = \"memberHubCostSales/create\";\r\nexport const MEMBERHUB_COST_SALES_UPDATE = \"memberHubCostSales/update\";\r\nexport const MEMBERHUB_COST_SALESS_FETCH = \"memberHubCostSales/fetch\";\r\nexport const MEMBERHUB_COST_SALES_LISTEN = \"memberHubCostSales/listen\";\r\nexport const MEMBERHUB_COST_SALES_SELECTED = \"memberHubCostSales/selected\";\r\n\r\nexport function selectMemberHubCostSales(memberHubCostSales) {\r\n  return {\r\n    type: MEMBERHUB_COST_SALES_SELECTED,\r\n    payload: memberHubCostSales,\r\n  };\r\n}\r\n\r\nexport function createMemberHubCostSales(memberHubCostSales) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberHubCostSalesToFirestore(memberHubCostSales);\r\n      dispatch({\r\n        type: MEMBERHUB_COST_SALES_CREATE,\r\n        payload: memberHubCostSales,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMemberHubCostSales(memberHubCostSales) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberHubCostSalesToFirestore(memberHubCostSales);\r\n      dispatch({\r\n        type: MEMBERHUB_COST_SALES_UPDATE,\r\n        payload: memberHubCostSales,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMemberHubCostSaless(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMemberHubCostSalessFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERHUB_COST_SALESS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param {*} memberHubCostSaless\r\n * @param {*} memberHubId\r\n * @param {*} memberRankId\r\n */\r\nexport function getCostAndSales(\r\n  memberHubCostSaless,\r\n  memberHubId,\r\n  memberRankId\r\n) {\r\n  const costs = memberHubCostSaless.filter(\r\n    (item) =>\r\n      item.hub === memberHubId &&\r\n      item.rank === memberRankId &&\r\n      item.cost_sales_kind === \"1\" &&\r\n      item.available === \"true\"\r\n  );\r\n  const saless = memberHubCostSaless.filter(\r\n    (item) =>\r\n      item.hub === memberHubId &&\r\n      item.rank === memberRankId &&\r\n      item.cost_sales_kind === \"2\" &&\r\n      item.available === \"true\"\r\n  );\r\n\r\n  const cost = costs.length > 0 ? parseInt(costs[0].cost_sales, 10) : 0;\r\n  const sales = saless.length > 0 ? parseInt(saless[0].cost_sales, 10) : 0;\r\n  return { cost, sales };\r\n}\r\n\r\nconst initialState = {\r\n  memberHubCostSaless: [],\r\n  selectedMemberHubCostSales: null,\r\n};\r\n\r\nexport default function memberHubCostSalesReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case MEMBERHUB_COST_SALES_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMemberHubCostSales: payload,\r\n      };\r\n    case MEMBERHUB_COST_SALES_CREATE:\r\n      return state;\r\n    case MEMBERHUB_COST_SALES_UPDATE:\r\n      return state;\r\n    case MEMBERHUB_COST_SALESS_FETCH:\r\n      return {\r\n        ...state,\r\n        memberHubCostSaless: payload,\r\n      };\r\n    case MEMBERHUB_COST_SALES_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMemberHubCostSales: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member_hub\";\r\n\r\nexport function fetchMemberHubsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberHubFromFirestore(memberHubId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberHubId);\r\n}\r\n\r\nexport function addMemberHubToFirestore(memberHub) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberHub.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...memberHub,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberHubToFirestore(memberHub) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberHub.id)\r\n    .update({\r\n      ...lo.omit(memberHub, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberHubToFirestore,\r\n  fetchMemberHubsFromFirestore,\r\n  updateMemberHubToFirestore,\r\n} from \"../../../app/firestore/memberHubService\";\r\n\r\nexport const MEMBERHUB_CREATE = \"memberHub/create\";\r\nexport const MEMBERHUB_UPDATE = \"memberHub/update\";\r\nexport const MEMBERHUBS_FETCH = \"memberHub/fetch\";\r\nexport const MEMBERHUB_LISTEN = \"memberHub/listen\";\r\nexport const MEMBERHUB_SELECTED = \"memberHub/selected\";\r\n\r\nexport function selectMemberHub(memberHub) {\r\n  return {\r\n    type: MEMBERHUB_SELECTED,\r\n    payload: memberHub,\r\n  };\r\n}\r\n\r\nexport function createMemberHub(memberHub) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberHubToFirestore(memberHub);\r\n      dispatch({\r\n        type: MEMBERHUB_CREATE,\r\n        payload: memberHub,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMemberHub(memberHub) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberHubToFirestore(memberHub);\r\n      dispatch({\r\n        type: MEMBERHUB_UPDATE,\r\n        payload: memberHub,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMemberHubs(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMemberHubsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERHUBS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  memberHubs: [],\r\n  selectedMemberHub: null,\r\n};\r\n\r\nexport default function memberHubReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case MEMBERHUB_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMemberHub: payload,\r\n      };\r\n    case MEMBERHUB_CREATE:\r\n      return state;\r\n    case MEMBERHUB_UPDATE:\r\n      return state;\r\n    case MEMBERHUBS_FETCH:\r\n      return {\r\n        ...state,\r\n        memberHubs: payload,\r\n      };\r\n    case MEMBERHUB_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMemberHub: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member_rank\";\r\n\r\nexport function fetchMemberRanksFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberRankFromFirestore(memberRankId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberRankId);\r\n}\r\n\r\nexport function addMemberRankToFirestore(memberRank) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberRank.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...memberRank,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberRankToFirestore(memberRank) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberRank.id)\r\n    .update({\r\n      ...lo.omit(memberRank, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberRankToFirestore,\r\n  fetchMemberRanksFromFirestore,\r\n  updateMemberRankToFirestore,\r\n} from \"../../../app/firestore/memberRankService\";\r\n\r\nexport const MEMBERRANK_CREATE = \"memberRank/create\";\r\nexport const MEMBERRANK_UPDATE = \"memberRank/update\";\r\nexport const MEMBERRANKS_FETCH = \"memberRank/fetch\";\r\nexport const MEMBERRANK_LISTEN = \"memberRank/listen\";\r\nexport const MEMBERRANK_SELECTED = \"memberRank/selected\";\r\n\r\nexport function selectMemberRank(memberRank) {\r\n  return {\r\n    type: MEMBERRANK_SELECTED,\r\n    payload: memberRank,\r\n  };\r\n}\r\n\r\nexport function createMemberRank(memberRank) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberRankToFirestore(memberRank);\r\n      dispatch({\r\n        type: MEMBERRANK_CREATE,\r\n        payload: memberRank,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMemberRank(memberRank) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberRankToFirestore(memberRank);\r\n      dispatch({\r\n        type: MEMBERRANK_UPDATE,\r\n        payload: memberRank,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMemberRanks(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMemberRanksFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERRANKS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  memberRanks: [],\r\n  selectedMemberRank: null,\r\n};\r\n\r\nexport default function memberRankReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case MEMBERRANK_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMemberRank: payload,\r\n      };\r\n    case MEMBERRANK_CREATE:\r\n      return state;\r\n    case MEMBERRANK_UPDATE:\r\n      return state;\r\n    case MEMBERRANKS_FETCH:\r\n      return {\r\n        ...state,\r\n        memberRanks: payload,\r\n      };\r\n    case MEMBERRANK_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMemberRank: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member\";\r\n\r\nexport function fetchMembersFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberFromFirestore(memberId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberId);\r\n}\r\n\r\nexport function addMemberToFirestore(member) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(member.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...member,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberToFirestore(member) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(member.id)\r\n    .update({\r\n      ...lo.omit(member, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberToFirestore,\r\n  fetchMembersFromFirestore,\r\n  updateMemberToFirestore,\r\n} from \"../../../app/firestore/memberService\";\r\n\r\nexport const MEMBER_CREATE = \"member/create\";\r\nexport const MEMBER_UPDATE = \"member/update\";\r\nexport const MEMBERS_FETCH = \"member/fetch\";\r\nexport const MEMBER_LISTEN = \"member/listen\";\r\nexport const MEMBER_SELECTED = \"member/selected\";\r\n\r\nexport function selectMember(member) {\r\n  return {\r\n    type: MEMBER_SELECTED,\r\n    payload: member,\r\n  };\r\n}\r\n\r\nexport function createMember(member) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberToFirestore(member);\r\n      dispatch({\r\n        type: MEMBER_CREATE,\r\n        payload: member,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMember(member) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberToFirestore(member);\r\n      dispatch({\r\n        type: MEMBER_UPDATE,\r\n        payload: member,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMembers(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMembersFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  members: [],\r\n  selectedMember: null,\r\n};\r\n\r\nexport default function memberReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case MEMBER_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMember: payload,\r\n      };\r\n    case MEMBER_CREATE:\r\n      return state;\r\n    case MEMBER_UPDATE:\r\n      return state;\r\n    case MEMBERS_FETCH:\r\n      return {\r\n        ...state,\r\n        members: payload,\r\n      };\r\n    case MEMBER_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMember: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const memberHubOptionsFactory = (memberHubs, available = \"true\") => {\r\n  return memberHubs\r\n    .filter((hub) => hub.available === available)\r\n    .map((hub) => ({\r\n      key: hub.id,\r\n      id: hub.id,\r\n      text: hub.name,\r\n      name: hub.name,\r\n      value: hub.id,\r\n    }));\r\n};\r\n","export const memberRankOptionsFactory = (memberRanks, available = \"true\") => {\r\n  return memberRanks\r\n    .filter((rank) => rank.available === available)\r\n    .map((rank) => ({\r\n      key: rank.id,\r\n      id: rank.id,\r\n      text: rank.name,\r\n      name: rank.name,\r\n      value: rank.id,\r\n    }));\r\n};\r\n","export const memberAffiliationOptionsFactory = (\r\n  memberAffiliations,\r\n  available = \"true\"\r\n) => {\r\n  return memberAffiliations\r\n    .filter((affiliation) => affiliation.available === available)\r\n    .map((affiliation) => ({\r\n      key: affiliation.id,\r\n      id: affiliation.id,\r\n      text: affiliation.name,\r\n      name: affiliation.name,\r\n      value: affiliation.id,\r\n    }));\r\n};\r\n","export const memberTagOptionsFactory = (\r\n  memberTags,\r\n  available = \"true\",\r\n  use_cost_sales = [\"true\", \"false\"]\r\n) => {\r\n  return memberTags\r\n    .filter(\r\n      (tag) =>\r\n        tag.available === available &&\r\n        use_cost_sales.includes(tag.use_cost_sales)\r\n    )\r\n    .map((tag) => ({\r\n      key: tag.id,\r\n      id: tag.id,\r\n      text: tag.name,\r\n      name: tag.name,\r\n      value: tag.id,\r\n    }));\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberFromFirestore } from \"../../../app/firestore/memberService\";\r\nimport { createMember, selectMember, updateMember } from \"./memberReducer\";\r\nimport { memberHubOptionsFactory } from \"../../../app/options/memberHubOptionsFactory\";\r\nimport { memberRankOptionsFactory } from \"../../../app/options/memberRankOptionsFactory\";\r\nimport { memberAffiliationOptionsFactory } from \"../../../app/options/memberAffiliationOptionsFactory\";\r\nimport { memberTagOptionsFactory } from \"../../../app/options/memberTagOptionsFactory\";\r\nimport { getCostAndSales } from \"../memberHubCostSaless/memberHubCostSalesReducer\";\r\n\r\nexport default function MemberForm({\r\n  memberId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { memberTags } = useSelector((state) => state.memberTag);\r\n  const { memberAffiliations } = useSelector(\r\n    (state) => state.memberAffiliation\r\n  );\r\n  const { memberHubs } = useSelector((state) => state.memberHub);\r\n  const { memberRanks } = useSelector((state) => state.memberRank);\r\n  const { memberHubCostSaless } = useSelector(\r\n    (state) => state.memberHubCostSales\r\n  );\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMember } = useSelector((state) => state.member);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMember ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    tag: \"\",\r\n    affiliation: \"\",\r\n    hub: \"\",\r\n    rank: \"\",\r\n    cost: 0,\r\n    sales: 0,\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    tag: Yup.string().required(\"\"),\r\n    affiliation: Yup.string().required(\"\"),\r\n    hub: Yup.string().notRequired(),\r\n    rank: Yup.string().notRequired(),\r\n    cost: Yup.number().required(\"\"),\r\n    sales: Yup.number().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberId,\r\n    query: () => loadFromMemberFromFirestore(memberId),\r\n    data: (item) => dispatch(selectMember(item)),\r\n    deps: [memberId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberId\r\n              ? dispatch(updateMember(values))\r\n              : dispatch(createMember(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/members\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({\r\n          isSubmitting,\r\n          dirty,\r\n          isValid,\r\n          resetForm,\r\n          setFieldValue,\r\n          values,\r\n        }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"tag\"\r\n              options={memberTagOptionsFactory(memberTags)}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"affiliation\"\r\n              options={memberAffiliationOptionsFactory(memberAffiliations)}\r\n              search\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"hub\"\r\n              options={memberHubOptionsFactory(memberHubs)}\r\n              clearable\r\n              onChange={(e) => {\r\n                // onChangeFormik\r\n                // e.target.id ID\r\n                setFieldValue(\"hub\", e.target.id);\r\n                // \r\n                const { cost, sales } = getCostAndSales(\r\n                  memberHubCostSaless,\r\n                  e.target.id,\r\n                  values.rank\r\n                );\r\n                setFieldValue(\"cost\", cost);\r\n                setFieldValue(\"sales\", sales);\r\n              }}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"rank\"\r\n              options={memberRankOptionsFactory(memberRanks)}\r\n              clearable\r\n              onChange={(e) => {\r\n                // onChangeFormik\r\n                // e.target.id ID\r\n                setFieldValue(\"rank\", e.target.id);\r\n                // \r\n                const { cost, sales } = getCostAndSales(\r\n                  memberHubCostSaless,\r\n                  values.hub,\r\n                  e.target.id\r\n                );\r\n                setFieldValue(\"cost\", cost);\r\n                setFieldValue(\"sales\", sales);\r\n              }}\r\n            />\r\n            <MyTextInput label=\"\" name=\"cost\" placeholder=\"\" />\r\n            <MyTextInput label=\"\" name=\"sales\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/members\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport { memberAffiliationOptionsFactory } from \"../../../app/options/memberAffiliationOptionsFactory\";\r\nimport { memberHubOptionsFactory } from \"../../../app/options/memberHubOptionsFactory\";\r\nimport { memberRankOptionsFactory } from \"../../../app/options/memberRankOptionsFactory\";\r\nimport { memberTagOptionsFactory } from \"../../../app/options/memberTagOptionsFactory\";\r\n\r\nconst columnsOptions = (\r\n  memberTags,\r\n  memberAffiliations,\r\n  memberHubs,\r\n  memberRanks\r\n) => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"120px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"tag\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberTagOptionsFactory(memberTags),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"affiliation\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberAffiliationOptionsFactory(memberAffiliations),\r\n      width: \"250px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"hub\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberHubOptionsFactory(memberHubs),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"rank\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberRankOptionsFactory(memberRanks),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"cost\",\r\n      title: \"\",\r\n      type: \"numeric\",\r\n      width: \"120px\",\r\n      readOnly: true,\r\n      align: \"right\",\r\n      mask: \"[-]#,##\",\r\n    },\r\n    {\r\n      name: \"sales\",\r\n      title: \"\",\r\n      type: \"numeric\",\r\n      width: \"120px\",\r\n      readOnly: true,\r\n      align: \"right\",\r\n      mask: \"[-]#,##\",\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberList({ refresh }) {\r\n  const { memberTags } = useSelector((state) => state.memberTag);\r\n  const { memberAffiliations } = useSelector(\r\n    (state) => state.memberAffiliation\r\n  );\r\n  const { memberHubs } = useSelector((state) => state.memberHub);\r\n  const { memberRanks } = useSelector((state) => state.memberRank);\r\n  const { members } = useSelector((state) => state.member);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(\r\n      memberTags,\r\n      memberAffiliations,\r\n      memberHubs,\r\n      memberRanks\r\n    ),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={members} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchMemberAffiliations } from \"../memberAffiliations/memberAffiliationReducer\";\r\nimport { fetchMemberHubCostSaless } from \"../memberHubCostSaless/memberHubCostSalesReducer\";\r\nimport { fetchMemberHubs } from \"../memberHubs/memberHubReducer\";\r\nimport { fetchMemberRanks } from \"../memberRanks/memberRankReducer\";\r\nimport { fetchMemberTags } from \"../memberTags/memberTagReducer\";\r\nimport MemberForm from \"./MemberForm\";\r\nimport MemberList from \"./MemberList\";\r\nimport { fetchMembers } from \"./memberReducer\";\r\n\r\nexport default function MemberDashboard({ location }) {\r\n  const memberId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberTags(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberAffiliations(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberHubs(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberRanks(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberHubCostSaless(currentPeriod.yearMonth));\r\n    dispatch(fetchMembers(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"very wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberForm\r\n              memberId={memberId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"acc_department\";\r\n\r\nexport function fetchAccDepartmentsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromAccDepartmentFromFirestore(accDepartmentId) {\r\n  return db.collection(COLLECTION_NAME).doc(accDepartmentId);\r\n}\r\n\r\nexport function addAccDepartmentToFirestore(accDepartment) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(accDepartment.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...accDepartment,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateAccDepartmentToFirestore(accDepartment) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(accDepartment.id)\r\n    .update({\r\n      ...lo.omit(accDepartment, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addAccDepartmentToFirestore,\r\n  fetchAccDepartmentsFromFirestore,\r\n  updateAccDepartmentToFirestore,\r\n} from \"../../../app/firestore/accDepartmentService\";\r\n\r\nexport const ACC_DEPARTMENT_CREATE = \"accDepartment/create\";\r\nexport const ACC_DEPARTMENT_UPDATE = \"accDepartment/update\";\r\nexport const ACC_DEPARTMENTS_FETCH = \"accDepartment/fetch\";\r\nexport const ACC_DEPARTMENT_LISTEN = \"accDepartment/listen\";\r\nexport const ACC_DEPARTMENT_SELECTED = \"accDepartment/selected\";\r\n\r\nexport function selectAccDepartment(accDepartment) {\r\n  return {\r\n    type: ACC_DEPARTMENT_SELECTED,\r\n    payload: accDepartment,\r\n  };\r\n}\r\n\r\nexport function createAccDepartment(accDepartment) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addAccDepartmentToFirestore(accDepartment);\r\n      dispatch({\r\n        type: ACC_DEPARTMENT_CREATE,\r\n        payload: accDepartment,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateAccDepartment(accDepartment) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateAccDepartmentToFirestore(accDepartment);\r\n      dispatch({\r\n        type: ACC_DEPARTMENT_UPDATE,\r\n        payload: accDepartment,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchAccDepartments(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchAccDepartmentsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: ACC_DEPARTMENTS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  accDepartments: [],\r\n  selectedAccDepartment: null,\r\n};\r\n\r\nexport default function accDepartmentReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case ACC_DEPARTMENT_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedAccDepartment: payload,\r\n      };\r\n    case ACC_DEPARTMENT_CREATE:\r\n      return state;\r\n    case ACC_DEPARTMENT_UPDATE:\r\n      return state;\r\n    case ACC_DEPARTMENTS_FETCH:\r\n      return {\r\n        ...state,\r\n        accDepartments: payload,\r\n      };\r\n    case ACC_DEPARTMENT_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedAccDepartment: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"acc_subject\";\r\n\r\nexport function fetchAccSubjectsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromAccSubjectFromFirestore(accSubjectId) {\r\n  return db.collection(COLLECTION_NAME).doc(accSubjectId);\r\n}\r\n\r\nexport function addAccSubjectToFirestore(accSubject) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(accSubject.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...accSubject,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateAccSubjectToFirestore(accSubject) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(accSubject.id)\r\n    .update({\r\n      ...lo.omit(accSubject, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addAccSubjectToFirestore,\r\n  fetchAccSubjectsFromFirestore,\r\n  updateAccSubjectToFirestore,\r\n} from \"../../../app/firestore/accSubjectService\";\r\n\r\nexport const ACC_SUBJECT_CREATE = \"accSubject/create\";\r\nexport const ACC_SUBJECT_UPDATE = \"accSubject/update\";\r\nexport const ACC_SUBJECTS_FETCH = \"accSubject/fetch\";\r\nexport const ACC_SUBJECT_LISTEN = \"accSubject/listen\";\r\nexport const ACC_SUBJECT_SELECTED = \"accSubject/selected\";\r\n\r\nexport function selectAccSubject(accSubject) {\r\n  return {\r\n    type: ACC_SUBJECT_SELECTED,\r\n    payload: accSubject,\r\n  };\r\n}\r\n\r\nexport function createAccSubject(accSubject) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addAccSubjectToFirestore(accSubject);\r\n      dispatch({\r\n        type: ACC_SUBJECT_CREATE,\r\n        payload: accSubject,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateAccSubject(accSubject) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateAccSubjectToFirestore(accSubject);\r\n      dispatch({\r\n        type: ACC_SUBJECT_UPDATE,\r\n        payload: accSubject,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchAccSubjects(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchAccSubjectsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: ACC_SUBJECTS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  accSubjects: [],\r\n  selectedAccSubject: null,\r\n};\r\n\r\nexport default function accSubjectReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case ACC_SUBJECT_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedAccSubject: payload,\r\n      };\r\n    case ACC_SUBJECT_CREATE:\r\n      return state;\r\n    case ACC_SUBJECT_UPDATE:\r\n      return state;\r\n    case ACC_SUBJECTS_FETCH:\r\n      return {\r\n        ...state,\r\n        accSubjects: payload,\r\n      };\r\n    case ACC_SUBJECT_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedAccSubject: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"project\";\r\n\r\nexport function fetchProjectsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromProjectFromFirestore(projectId) {\r\n  return db.collection(COLLECTION_NAME).doc(projectId);\r\n}\r\n\r\nexport function addProjectToFirestore(project) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(project.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...project,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateProjectToFirestore(project) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(project.id)\r\n    .update({\r\n      ...lo.omit(project, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addProjectToFirestore,\r\n  fetchProjectsFromFirestore,\r\n  updateProjectToFirestore,\r\n} from \"../../../app/firestore/projectService\";\r\n\r\nexport const PROJECT_CREATE = \"project/create\";\r\nexport const PROJECT_UPDATE = \"project/update\";\r\nexport const PROJECTS_FETCH = \"project/fetch\";\r\nexport const PROJECT_LISTEN = \"project/listen\";\r\nexport const PROJECT_SELECTED = \"project/selected\";\r\n\r\nexport function selectProject(project) {\r\n  return {\r\n    type: PROJECT_SELECTED,\r\n    payload: project,\r\n  };\r\n}\r\n\r\nexport function createProject(project) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addProjectToFirestore(project);\r\n      dispatch({\r\n        type: PROJECT_CREATE,\r\n        payload: project,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateProject(project) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateProjectToFirestore(project);\r\n      dispatch({\r\n        type: PROJECT_UPDATE,\r\n        payload: project,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchProjects(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchProjectsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: PROJECTS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  projects: [],\r\n  selectedProject: null,\r\n};\r\n\r\nexport default function projectReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case PROJECT_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedProject: payload,\r\n      };\r\n    case PROJECT_CREATE:\r\n      return state;\r\n    case PROJECT_UPDATE:\r\n      return state;\r\n    case PROJECTS_FETCH:\r\n      return {\r\n        ...state,\r\n        projects: payload,\r\n      };\r\n    case PROJECT_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedProject: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const clientOptionsFactory = (clients, available = \"true\") => {\r\n  return clients\r\n    .filter((client) => client.available === available)\r\n    .map((client) => ({\r\n      key: client.id,\r\n      id: client.id,\r\n      text: client.name,\r\n      name: client.name,\r\n      value: client.id,\r\n    }));\r\n};\r\n","export const accDepartmentOptionsFactory = (\r\n  accDepartments,\r\n  available = \"true\"\r\n) => {\r\n  return accDepartments\r\n    .filter((accDepartment) => accDepartment.available === available)\r\n    .map((accDepartment) => ({\r\n      key: accDepartment.id,\r\n      id: accDepartment.id,\r\n      text: accDepartment.name,\r\n      name: accDepartment.name,\r\n      value: accDepartment.id,\r\n    }));\r\n};\r\n","export const accSubjectOptionsFactory = (accSubjects, available = \"true\") => {\r\n  return accSubjects\r\n    .filter((accSubject) => accSubject.available === available)\r\n    .map((accSubject) => ({\r\n      key: accSubject.id,\r\n      id: accSubject.id,\r\n      text: accSubject.name,\r\n      name: accSubject.name,\r\n      value: accSubject.id,\r\n    }));\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromProjectFromFirestore } from \"../../../app/firestore/projectService\";\r\nimport { createProject, selectProject, updateProject } from \"./projectReducer\";\r\nimport { clientOptionsFactory } from \"../../../app/options/clientOptionsFactory\";\r\nimport { accDepartmentOptionsFactory } from \"../../../app/options/accDepartmentOptionsFactory\";\r\nimport { accSubjectOptionsFactory } from \"../../../app/options/accSubjectOptionsFactory\";\r\n\r\nexport default function ProjectForm({\r\n  projectId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { clients } = useSelector((state) => state.client);\r\n  const { accDepartments } = useSelector((state) => state.accDepartment);\r\n  const { accSubjects } = useSelector((state) => state.accSubject);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedProject } = useSelector((state) => state.project);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedProject ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    client: \"\",\r\n    accDepartment: \"\",\r\n    accSubject: \"\",\r\n    note: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    client: Yup.string().required(\"\"),\r\n    accDepartment: Yup.string().required(\"\"),\r\n    accSubject: Yup.string().notRequired(\"\"),\r\n    note: Yup.string().notRequired(),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!projectId,\r\n    query: () => loadFromProjectFromFirestore(projectId),\r\n    data: (item) => dispatch(selectProject(item)),\r\n    deps: [projectId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            projectId\r\n              ? dispatch(updateProject(values))\r\n              : dispatch(createProject(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/projects\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"client\"\r\n              options={clientOptionsFactory(clients)}\r\n              search\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"accDepartment\"\r\n              options={accDepartmentOptionsFactory(accDepartments)}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"accSubject\"\r\n              options={accSubjectOptionsFactory(accSubjects)}\r\n            />\r\n            <MyTextInput label=\"\" name=\"note\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/projects\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { accDepartmentOptionsFactory } from \"../../../app/options/accDepartmentOptionsFactory\";\r\nimport { accSubjectOptionsFactory } from \"../../../app/options/accSubjectOptionsFactory\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport { clientOptionsFactory } from \"../../../app/options/clientOptionsFactory\";\r\n\r\nconst columnsOptions = (clients, accDepartments, accSubjects) => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"client\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: clientOptionsFactory(clients),\r\n      width: \"250px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"accDepartment\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: accDepartmentOptionsFactory(accDepartments),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"accSubject\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: accSubjectOptionsFactory(accSubjects),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"note\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function ProjectList({ refresh }) {\r\n  const { clients } = useSelector((state) => state.client);\r\n  const { accDepartments } = useSelector((state) => state.accDepartment);\r\n  const { accSubjects } = useSelector((state) => state.accSubject);\r\n  const { projects } = useSelector((state) => state.project);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(clients, accDepartments, accSubjects),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={projects} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchAccDepartments } from \"../accDepartments/accDepartmentReducer\";\r\nimport { fetchAccSubjects } from \"../accSubjects/accSubjectReducer\";\r\nimport { fetchClients } from \"../clients/clientReducer\";\r\nimport ProjectForm from \"./ProjectForm\";\r\nimport ProjectList from \"./ProjectList\";\r\nimport { fetchProjects } from \"./projectReducer\";\r\n\r\nexport default function ProjectDashboard({ location }) {\r\n  const projectId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (projectId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [projectId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchClients(currentPeriod.yearMonth));\r\n    dispatch(fetchAccDepartments(currentPeriod.yearMonth));\r\n    dispatch(fetchAccSubjects(currentPeriod.yearMonth));\r\n    dispatch(fetchProjects(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"very wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <ProjectForm\r\n              projectId={projectId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <ProjectList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","export const useCostSalesOptions = [\r\n  {\r\n    key: \"true\",\r\n    id: \"true\",\r\n    text: \"\",\r\n    name: \"\",\r\n    value: \"true\",\r\n  },\r\n  {\r\n    key: \"false\",\r\n    id: \"false\",\r\n    text: \"\",\r\n    name: \"\",\r\n    value: \"false\",\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { useCostSalesOptions } from \"../../../app/options/useCostSalesOptions\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberTagFromFirestore } from \"../../../app/firestore/memberTagService\";\r\nimport {\r\n  createMemberTag,\r\n  selectMemberTag,\r\n  updateMemberTag,\r\n} from \"./memberTagReducer\";\r\n\r\nexport default function MemberTagForm({\r\n  memberTagId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMemberTag } = useSelector((state) => state.memberTag);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMemberTag ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    use_cost_sales: \"true\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    closing_year_month: Yup.string().required(\"\"),\r\n    name: Yup.string().required(\"\"),\r\n    use_cost_sales: Yup.string().required(\r\n      \"\"\r\n    ),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberTagId,\r\n    query: () => loadFromMemberTagFromFirestore(memberTagId),\r\n    data: (item) => dispatch(selectMemberTag(item)),\r\n    deps: [memberTagId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberTagId\r\n              ? dispatch(updateMemberTag(values))\r\n              : dispatch(createMemberTag(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/membertags\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"use_cost_sales\"\r\n              options={useCostSalesOptions}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/membertags\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { useCostSalesOptions } from \"../../../app/options/useCostSalesOptions\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"use_cost_sales\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: useCostSalesOptions,\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberTagList({ refresh }) {\r\n  const { memberTags } = useSelector((state) => state.memberTag);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={memberTags} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport MemberTagForm from \"./MemberTagForm\";\r\nimport MemberTagList from \"./MemberTagList\";\r\nimport { fetchMemberTags } from \"./memberTagReducer\";\r\n\r\nexport default function MemberTagDashboard({ location }) {\r\n  const memberTagId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberTagId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberTagId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberTags(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberTagForm\r\n              memberTagId={memberTagId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberTagList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberRankFromFirestore } from \"../../../app/firestore/memberRankService\";\r\nimport {\r\n  createMemberRank,\r\n  selectMemberRank,\r\n  updateMemberRank,\r\n} from \"./memberRankReducer\";\r\n\r\nexport default function MemberRankForm({\r\n  memberRankId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMemberRank } = useSelector((state) => state.memberRank);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMemberRank ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberRankId,\r\n    query: () => loadFromMemberRankFromFirestore(memberRankId),\r\n    data: (item) => dispatch(selectMemberRank(item)),\r\n    deps: [memberRankId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberRankId\r\n              ? dispatch(updateMemberRank(values))\r\n              : dispatch(createMemberRank(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/memberranks\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/memberranks\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberRankList({ refresh }) {\r\n  const { memberRanks } = useSelector((state) => state.memberRank);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={memberRanks} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport MemberRankForm from \"./MemberRankForm\";\r\nimport MemberRankList from \"./MemberRankList\";\r\nimport { fetchMemberRanks } from \"./memberRankReducer\";\r\n\r\nexport default function MemberRankDashboard({ location }) {\r\n  const memberRankId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberRankId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberRankId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberRanks(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberRankForm\r\n              memberRankId={memberRankId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberRankList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberAffiliationFromFirestore } from \"../../../app/firestore/memberAffiliationService\";\r\nimport {\r\n  createMemberAffiliation,\r\n  selectMemberAffiliation,\r\n  updateMemberAffiliation,\r\n} from \"./memberAffiliationReducer\";\r\n\r\nexport default function MemberAffiliationForm({\r\n  memberAffiliationId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMemberAffiliation } = useSelector(\r\n    (state) => state.memberAffiliation\r\n  );\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMemberAffiliation ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberAffiliationId,\r\n    query: () => loadFromMemberAffiliationFromFirestore(memberAffiliationId),\r\n    data: (item) => dispatch(selectMemberAffiliation(item)),\r\n    deps: [memberAffiliationId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberAffiliationId\r\n              ? dispatch(updateMemberAffiliation(values))\r\n              : dispatch(createMemberAffiliation(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/memberaffiliations\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/memberaffiliations\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"300px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberAffiliationList({ refresh }) {\r\n  const { memberAffiliations } = useSelector(\r\n    (state) => state.memberAffiliation\r\n  );\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={memberAffiliations} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport MemberAffiliationForm from \"./MemberAffiliationForm\";\r\nimport MemberAffiliationList from \"./MemberAffiliationList\";\r\nimport { fetchMemberAffiliations } from \"./memberAffiliationReducer\";\r\n\r\nexport default function MemberAffiliationDashboard({ location }) {\r\n  const memberAffiliationId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberAffiliationId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberAffiliationId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberAffiliations(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberAffiliationForm\r\n              memberAffiliationId={memberAffiliationId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberAffiliationList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberHubFromFirestore } from \"../../../app/firestore/memberHubService\";\r\nimport {\r\n  createMemberHub,\r\n  selectMemberHub,\r\n  updateMemberHub,\r\n} from \"./memberHubReducer\";\r\n\r\nexport default function MemberHubForm({\r\n  memberHubId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMemberHub } = useSelector((state) => state.memberHub);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMemberHub ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberHubId,\r\n    query: () => loadFromMemberHubFromFirestore(memberHubId),\r\n    data: (item) => dispatch(selectMemberHub(item)),\r\n    deps: [memberHubId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberHubId\r\n              ? dispatch(updateMemberHub(values))\r\n              : dispatch(createMemberHub(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/memberhubs\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/memberhubs\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberHubList({ refresh }) {\r\n  const { memberTags } = useSelector((state) => state.memberTag);\r\n  const { memberHubs } = useSelector((state) => state.memberHub);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(memberTags),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={memberHubs} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport MemberHubForm from \"./MemberHubForm\";\r\nimport MemberHubList from \"./MemberHubList\";\r\nimport { fetchMemberHubs } from \"./memberHubReducer\";\r\n\r\nexport default function MemberHubDashboard({ location }) {\r\n  const memberHubId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberHubId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberHubId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberHubs(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberHubForm\r\n              memberHubId={memberHubId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberHubList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","export const hubCostSalesKindOptions = [\r\n  { key: \"1\", id: \"1\", text: \"\", name: \"\", value: \"1\" },\r\n  { key: \"2\", id: \"2\", text: \"\", name: \"\", value: \"2\" },\r\n];\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberHubCostSalesFromFirestore } from \"../../../app/firestore/memberHubCostSalesService\";\r\nimport {\r\n  createMemberHubCostSales,\r\n  selectMemberHubCostSales,\r\n  updateMemberHubCostSales,\r\n} from \"./memberHubCostSalesReducer\";\r\nimport { memberHubOptionsFactory } from \"../../../app/options/memberHubOptionsFactory\";\r\nimport { hubCostSalesKindOptions } from \"../../../app/options/hubCostSalesKindOptions\";\r\nimport { memberRankOptionsFactory } from \"../../../app/options/memberRankOptionsFactory\";\r\n\r\nexport default function MemberHubCostSalesForm({\r\n  memberHubCostSalesId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { memberHubs } = useSelector((state) => state.memberHub);\r\n  const { memberRanks } = useSelector((state) => state.memberRank);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMemberHubCostSales } = useSelector(\r\n    (state) => state.memberHubCostSales\r\n  );\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMemberHubCostSales ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    cost_sales_kind: \"\",\r\n    hub: \"\",\r\n    rank: \"\",\r\n    cost_sales: 0,\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    cost_sales_kind: Yup.string().required(\"\"),\r\n    hub: Yup.string().required(\"\"),\r\n    rank: Yup.string().required(\"\"),\r\n    cost_sales: Yup.number()\r\n      .required(\"\")\r\n      .typeError(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberHubCostSalesId,\r\n    query: () => loadFromMemberHubCostSalesFromFirestore(memberHubCostSalesId),\r\n    data: (item) => dispatch(selectMemberHubCostSales(item)),\r\n    deps: [memberHubCostSalesId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberHubCostSalesId\r\n              ? dispatch(updateMemberHubCostSales(values))\r\n              : dispatch(createMemberHubCostSales(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/memberhubcostsaless\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"cost_sales_kind\"\r\n              options={hubCostSalesKindOptions}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"hub\"\r\n              options={memberHubOptionsFactory(memberHubs)}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"rank\"\r\n              options={memberRankOptionsFactory(memberRanks)}\r\n            />\r\n            <MyTextInput label=\"\" name=\"cost_sales\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/memberhubcostsaless\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport { hubCostSalesKindOptions } from \"../../../app/options/hubCostSalesKindOptions\";\r\nimport { memberHubOptionsFactory } from \"../../../app/options/memberHubOptionsFactory\";\r\nimport { memberRankOptionsFactory } from \"../../../app/options/memberRankOptionsFactory\";\r\n\r\nconst columnsOptions = (memberHubs, memberRanks) => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"cost_sales_kind\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: hubCostSalesKindOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"hub\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberHubOptionsFactory(memberHubs),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"rank\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberRankOptionsFactory(memberRanks),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"cost_sales\",\r\n      title: \"\",\r\n      type: \"numeric\",\r\n      width: \"120px\",\r\n      readOnly: true,\r\n      align: \"right\",\r\n      mask: \"[-]#,##\",\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberHubCostSalesList({ refresh }) {\r\n  const { memberHubs } = useSelector((state) => state.memberHub);\r\n  const { memberRanks } = useSelector((state) => state.memberRank);\r\n  const { memberHubCostSaless } = useSelector(\r\n    (state) => state.memberHubCostSales\r\n  );\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(memberHubs, memberRanks),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={memberHubCostSaless} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchMemberHubs } from \"../memberHubs/memberHubReducer\";\r\nimport { fetchMemberRanks } from \"../memberRanks/memberRankReducer\";\r\nimport MemberHubCostSalesForm from \"./MemberHubCostSalesForm\";\r\nimport MemberHubCostSalesList from \"./MemberHubCostSalesList\";\r\nimport { fetchMemberHubCostSaless } from \"./memberHubCostSalesReducer\";\r\n\r\nexport default function MemberHubCostSalesDashboard({ location }) {\r\n  const memberHubCostSalesId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberHubCostSalesId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberHubCostSalesId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberHubs(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberRanks(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberHubCostSaless(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberHubCostSalesForm\r\n              memberHubCostSalesId={memberHubCostSalesId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberHubCostSalesList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromAccDepartmentFromFirestore } from \"../../../app/firestore/accDepartmentService\";\r\nimport {\r\n  createAccDepartment,\r\n  selectAccDepartment,\r\n  updateAccDepartment,\r\n} from \"./accDepartmentReducer\";\r\n\r\nexport default function AccDepartmentForm({\r\n  accDepartmentId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedAccDepartment } = useSelector((state) => state.accDepartment);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedAccDepartment ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!accDepartmentId,\r\n    query: () => loadFromAccDepartmentFromFirestore(accDepartmentId),\r\n    data: (item) => dispatch(selectAccDepartment(item)),\r\n    deps: [accDepartmentId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            accDepartmentId\r\n              ? dispatch(updateAccDepartment(values))\r\n              : dispatch(createAccDepartment(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/accdepartments\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/accdepartments\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function AccDepartmentList({ refresh }) {\r\n  const { accDepartments } = useSelector((state) => state.accDepartment);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={accDepartments} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchMemberTags } from \"../memberTags/memberTagReducer\";\r\nimport AccDepartmentForm from \"./AccDepartmentForm\";\r\nimport AccDepartmentList from \"./AccDepartmentList\";\r\nimport { fetchAccDepartments } from \"./accDepartmentReducer\";\r\n\r\nexport default function AccDepartmentDashboard({ location }) {\r\n  const accDepartmentkId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (accDepartmentkId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [accDepartmentkId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberTags(currentPeriod.yearMonth));\r\n    dispatch(fetchAccDepartments(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <AccDepartmentForm\r\n              accDepartmentkId={accDepartmentkId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <AccDepartmentList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","export const canInputSalesOptions = [\r\n  { key: \"true\", id: \"true\", text: \"\", name: \"\", value: \"true\" },\r\n  {\r\n    key: \"false\",\r\n    id: \"false\",\r\n    text: \"\",\r\n    name: \"\",\r\n    value: \"false\",\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromAccSubjectFromFirestore } from \"../../../app/firestore/accSubjectService\";\r\nimport {\r\n  createAccSubject,\r\n  selectAccSubject,\r\n  updateAccSubject,\r\n} from \"./accSubjectReducer\";\r\nimport { canInputSalesOptions } from \"../../../app/options/canInputSalesOptions\";\r\n\r\nexport default function AccSubjectForm({\r\n  accSubjectId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedAccSubject } = useSelector((state) => state.accSubject);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedAccSubject ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    can_input_sales: \"true\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    can_input_sales: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!accSubjectId,\r\n    query: () => loadFromAccSubjectFromFirestore(accSubjectId),\r\n    data: (item) => dispatch(selectAccSubject(item)),\r\n    deps: [accSubjectId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            accSubjectId\r\n              ? dispatch(updateAccSubject(values))\r\n              : dispatch(createAccSubject(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/accsubjects\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"can_input_sales\"\r\n              options={canInputSalesOptions}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/accsubjects\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport { canInputSalesOptions } from \"../../../app/options/canInputSalesOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"can_input_sales\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: canInputSalesOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function AccDepartmentList({ refresh }) {\r\n  const { accSubjects } = useSelector((state) => state.accSubject);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={accSubjects} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchMemberTags } from \"../memberTags/memberTagReducer\";\r\nimport AccSubjectForm from \"./AccSubjectForm\";\r\nimport AccSubjectList from \"./AccSubjectList\";\r\nimport { fetchAccSubjects } from \"./accSubjectReducer\";\r\n\r\nexport default function AccSubjectDashboard({ location }) {\r\n  const accSubjectId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (accSubjectId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [accSubjectId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberTags(currentPeriod.yearMonth));\r\n    dispatch(fetchAccSubjects(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <AccSubjectForm\r\n              accSubjectId={accSubjectId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <AccSubjectList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport { Container } from \"semantic-ui-react\";\nimport ModalManager from \"../common/modals/ModalManager\";\nimport NowLoading from \"../common/utils/NowLoading\";\nimport ErrorComponent from \"../common/errors/ErrorComponent\";\nimport AuthContainer from \"../../features/auth/AuthContainer\";\nimport HomePage from \"../../features/home/HomePage\";\nimport NavBar from \"../../features/nav/NavBar\";\nimport Dashboard from \"../../features/dashboard/Dashboard\";\nimport ProfilePage from \"../../features/profiles/profilePage/ProfilePage\";\nimport AssignPage from \"../../features/assign/AssignPage\";\nimport ClientDashboard from \"../../features/master/clients/ClientDashboard\";\nimport MemberDashboard from \"../../features/master/members/MemberDashboard\";\nimport ProjectDashboard from \"../../features/master/projects/ProjectDashboard\";\nimport MemberTagDashboard from \"../../features/master/memberTags/MemberTagDashboard\";\nimport MemberRankDashboard from \"../../features/master/memberRanks/MemberRankDashboard\";\nimport MemberAffiliationDashboard from \"../../features/master/memberAffiliations/MemberAffiliationDashboard\";\nimport MemberHubDashboard from \"../../features/master/memberHubs/MemberHubDashboard\";\nimport MemberHubCostSalesDashboard from \"../../features/master/memberHubCostSaless/MemberHubCostSalesDashboard\";\nimport AccDepartmentDashboard from \"../../features/master/accDepartments/AccDepartmentDashboard\";\nimport AccSubjectDashboard from \"../../features/master/accSubjects/AccSubjectDashboard\";\n\nfunction App() {\n  const { initialized } = useSelector((state) => state.async);\n\n  if (!initialized) {\n    return <NowLoading content=\"Loading Application...\" />;\n  }\n\n  return (\n    <>\n      <ModalManager />\n      <ToastContainer position=\"bottom-right\" hideProgressBar />\n      <Route exact path=\"/\" component={HomePage} />\n      <Route\n        path={\"/(.+)\"}\n        render={() => (\n          <AuthContainer>\n            <NavBar />\n            <Container className=\"wide\">\n              <Route exact path=\"/error\" component={ErrorComponent} />\n              <Route exact path=\"/dashboard\" component={Dashboard} />\n              <Route path=\"/assign/:month\" component={AssignPage} />\n              <Route exact path=\"/profile\" component={ProfilePage} />\n              <Route exact path=\"/clients\" component={ClientDashboard} />\n              <Route exact path=\"/members\" component={MemberDashboard} />\n              <Route exact path=\"/projects\" component={ProjectDashboard} />\n              <Route exact path=\"/membertags\" component={MemberTagDashboard} />\n              <Route\n                exact\n                path=\"/memberranks\"\n                component={MemberRankDashboard}\n              />\n              <Route\n                exact\n                path=\"/memberaffiliations\"\n                component={MemberAffiliationDashboard}\n              />\n              <Route exact path=\"/memberhubs\" component={MemberHubDashboard} />\n              <Route\n                exact\n                path=\"/memberhubcostsaless\"\n                component={MemberHubCostSalesDashboard}\n              />\n              <Route\n                exact\n                path=\"/accdepartments\"\n                component={AccDepartmentDashboard}\n              />\n              <Route\n                exact\n                path=\"/accsubjects\"\n                component={AccSubjectDashboard}\n              />\n            </Container>\n          </AuthContainer>\n        )}\n      />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { SIGN_IN_USER, SIGN_OUT_USER } from \"./authConstants\";\r\n\r\nconst initialState = {\r\n  authenticated: false,\r\n  currentUser: {\r\n    email: \"\",\r\n    photoURL: \"/assets/user.png\",\r\n  },\r\n};\r\n\r\nexport default function authReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case SIGN_IN_USER:\r\n      return {\r\n        ...state,\r\n        authenticated: true,\r\n        currentUser: {\r\n          email: payload.email,\r\n          photoURL: \"/assets/user.png\",\r\n        },\r\n      };\r\n    case SIGN_OUT_USER:\r\n      return {\r\n        ...state,\r\n        authenticated: false,\r\n        currentUser: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"../../features/auth/authReducer\";\r\nimport accDepartmentReducer from \"../../features/master/accDepartments/accDepartmentReducer\";\r\nimport accSubjectReducer from \"../../features/master/accSubjects/accSubjectReducer\";\r\nimport clientReducer from \"../../features/master/clients/clientReducer\";\r\nimport memberAffiliationReducer from \"../../features/master/memberAffiliations/memberAffiliationReducer\";\r\nimport memberHubCostSalesReducer from \"../../features/master/memberHubCostSaless/memberHubCostSalesReducer\";\r\nimport memberHubReducer from \"../../features/master/memberHubs/memberHubReducer\";\r\nimport memberRankReducer from \"../../features/master/memberRanks/memberRankReducer\";\r\nimport memberReducer from \"../../features/master/members/memberReducer\";\r\nimport memberTagReducer from \"../../features/master/memberTags/memberTagReducer\";\r\nimport projectReducer from \"../../features/master/projects/projectReducer\";\r\nimport periodReducer from \"../../features/period/periodReducer\";\r\nimport asyncReducer from \"../async/asyncReducer\";\r\nimport modalReducer from \"../common/modals/modalReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  modals: modalReducer,\r\n  auth: authReducer,\r\n  async: asyncReducer,\r\n  period: periodReducer,\r\n  member: memberReducer,\r\n  memberTag: memberTagReducer,\r\n  memberRank: memberRankReducer,\r\n  memberAffiliation: memberAffiliationReducer,\r\n  memberHub: memberHubReducer,\r\n  memberHubCostSales: memberHubCostSalesReducer,\r\n  accDepartment: accDepartmentReducer,\r\n  accSubject: accSubjectReducer,\r\n  client: clientReducer,\r\n  project: projectReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","export const SIGN_IN_USER = \"auth/sign_in_user\";\r\nexport const SIGN_OUT_USER = \"auth/sign_out_user\";\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"./app/layout/styles.css\";\r\nimport App from \"./app/layout/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { configureStore } from \"./app/store/configureStore\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nconst store = configureStore();\r\n\r\nconst render = () => {\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>,\r\n    document.getElementById(\"root\")\r\n  );\r\n};\r\n\r\nif (module.hot) {\r\n  module.hot.accept(\"./app/layout/App\", function () {\r\n    setTimeout(render);\r\n  });\r\n}\r\n\r\nrender();\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import { applyMiddleware, createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport { verifyAuth } from \"../../features/auth/authAction\";\r\nimport { latestPeriod } from \"../../features/period/periodReducer\";\r\nimport rootReducer from \"./rootReducer\";\r\n\r\nexport function configureStore() {\r\n  const store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n  );\r\n  store.dispatch(verifyAuth());\r\n  store.dispatch(latestPeriod());\r\n  return store;\r\n}\r\n","import firebase from \"../../app/config/firebase\";\r\nimport { SIGN_IN_USER, SIGN_OUT_USER } from \"./authConstants\";\r\nimport { APP_LOADED } from \"../../app/async/asyncReducer\";\r\n\r\nexport function signInUser(payload) {\r\n  return {\r\n    type: SIGN_IN_USER,\r\n    payload,\r\n  };\r\n}\r\n\r\nexport function signOutUser(payload) {\r\n  return {\r\n    type: SIGN_OUT_USER,\r\n    payload,\r\n  };\r\n}\r\n\r\nexport function verifyAuth() {\r\n  return function (dispatch) {\r\n    return firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        dispatch(signInUser(user));\r\n      } else {\r\n        dispatch(signOutUser());\r\n      }\r\n      dispatch({ type: APP_LOADED });\r\n    });\r\n  };\r\n}\r\n"],"sourceRoot":""}