{"version":3,"sources":["app/common/form/MyTextInput.jsx","app/config/firebase.js","app/firebase/authService.js","app/common/modals/ModalWrapper.jsx","app/common/modals/modalReducer.js","features/auth/LoginForm.jsx","app/common/modals/ModalManager.jsx","app/common/utils/NowLoading.jsx","app/common/errors/ErrorComponent.jsx","features/auth/AuthContainer.jsx","features/home/HomePage.jsx","features/nav/MasterMenu.jsx","app/common/utils/textFormstUtils.js","features/nav/PeriodMonthMenu.jsx","features/nav/SignedInMenu.jsx","features/nav/NavBar.jsx","features/period/periodReducer.js","features/dashboard/Dashboard.jsx","features/profiles/profilePage/ProfilePage.jsx","app/async/asyncReducer.js","app/firestore/firestoreService.js","app/firestore/memberService.js","features/master/members/memberReducer.js","app/firestore/projectService.js","features/master/projects/projectReducer.js","app/options/memberOptionsFactory.js","app/options/projectOptionsFactory.js","app/options/ymjOptions.js","features/assign/columnsOptions.js","features/assign/assignData.js","app/common/form/SpreadSheet.jsx","features/assign/AssignList.jsx","features/assign/AssignDashboard.jsx","app/firestore/memberTagService.js","features/master/memberTags/memberTagReducer.js","app/common/form/MySelectInput.jsx","app/options/availableOptions.js","app/hooks/useFirestoreDoc.js","app/firestore/clientService.js","features/master/clients/clientReducer.js","features/master/clients/ClientForm.jsx","features/master/clients/columnsOptions.js","features/master/clients/ClientList.jsx","features/master/clients/ClientDashboard.jsx","app/firestore/memberAffiliationService.js","features/master/memberAffiliations/memberAffiliationReducer.js","app/firestore/memberAssignManagerService.js","features/master/memberAssignManagers/memberAssignManagerReducer.js","app/firestore/memberHubCostSalesService.js","features/master/memberHubCostSaless/memberHubCostSalesReducer.js","app/firestore/memberHubService.js","features/master/memberHubs/memberHubReducer.js","app/firestore/memberRankService.js","features/master/memberRanks/memberRankReducer.js","app/options/memberHubOptionsFactory.js","app/options/memberRankOptionsFactory.js","app/options/memberAffiliationOptionsFactory.js","app/options/memberTagOptionsFactory.js","app/options/memberAssignManagerOptionsFactory.js","features/master/members/MemberForm.jsx","features/master/members/columnsOptions.js","features/master/members/MemberList.jsx","features/master/members/MemberDashboard.jsx","app/firestore/accDepartmentService.js","features/master/accDepartments/accDepartmentReducer.js","app/firestore/accSubjectService.js","features/master/accSubjects/accSubjectReducer.js","app/options/clientOptionsFactory.js","app/options/accDepartmentOptionsFactory.js","app/options/accSubjectOptionsFactory.js","features/master/projects/ProjectForm.jsx","features/master/projects/columnsOptions.js","features/master/projects/ProjectList.jsx","features/master/projects/ProjectDashboard.jsx","app/options/useCostSalesOptions.js","features/master/memberTags/MemberTagForm.jsx","features/master/memberTags/columnsOptions.js","features/master/memberTags/MemberTagList.jsx","features/master/memberTags/MemberTagDashboard.jsx","features/master/memberRanks/MemberRankForm.jsx","features/master/memberRanks/columnsOptions.js","features/master/memberRanks/MemberRankList.jsx","features/master/memberRanks/MemberRankDashboard.jsx","features/master/memberAffiliations/MemberAffiliationForm.jsx","features/master/memberAffiliations/columnsOptions.js","features/master/memberAffiliations/MemberAffiliationList.jsx","features/master/memberAffiliations/MemberAffiliationDashboard.jsx","features/master/memberHubs/MemberHubForm.jsx","features/master/memberHubs/columnsOptions.js","features/master/memberHubs/MemberHubList.jsx","features/master/memberHubs/MemberHubDashboard.jsx","app/options/hubCostSalesKindOptions.js","features/master/memberHubCostSaless/MemberHubCostSalesForm.jsx","features/master/memberHubCostSaless/columnsOptions.js","features/master/memberHubCostSaless/MemberHubCostSalesList.jsx","features/master/memberHubCostSaless/MemberHubCostSalesDashboard.jsx","features/master/accDepartments/AccDepartmentForm.jsx","features/master/accDepartments/columnsOptions.js","features/master/accDepartments/AccDepartmentList.jsx","features/master/accDepartments/AccDepartmentDashboard.jsx","app/options/canInputSalesOptions.js","features/master/accSubjects/AccSubjectForm.jsx","features/master/accSubjects/columnsOptions.js","features/master/accSubjects/AccSubjectList.jsx","features/master/accSubjects/AccSubjectDashboard.jsx","features/master/memberAssignManagers/MemberAssignManagerForm.jsx","features/master/memberAssignManagers/columnsOptions.js","features/master/memberAssignManagers/MemberAssignManagerList.jsx","features/master/memberAssignManagers/MemberAssignManagerDashboard.jsx","app/common/form/MyTextArea.jsx","app/firestore/precisionService.js","features/master/precisions/precisionReducer.js","features/master/precisions/PrecisionForm.jsx","features/master/precisions/columnsOptions.js","features/master/precisions/PrecisionList.jsx","features/master/precisions/PrecisionDashboard.jsx","app/layout/App.jsx","serviceWorker.js","features/auth/authReducer.js","app/store/rootReducer.js","features/auth/authConstants.js","index.js","app/store/configureStore.js","features/auth/authAction.js"],"names":["MyTextInput","label","props","useField","field","meta","FormField","error","touched","Label","pointing","color","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","signOutFirebase","auth","signOut","ModalWrapper","children","size","header","dispatch","useDispatch","Modal","open","onClose","type","Header","Content","LoginForm","history","useHistory","onSubmit","values","a","setSubmitting","setErrors","creds","signInWithEmailAndPassword","email","password","push","initialValues","validationSchema","Yup","required","isSubmitting","dirty","isValid","errors","className","name","placeholder","basic","style","marginBottom","content","Button","loading","disabled","fluid","ModalManager","renderModal","modalLookup","currentModal","useSelector","state","modals","modalType","modalProps","ModalComponent","NowLoading","inverted","Dimmer","active","Loader","ErrorComponent","async","Segment","textAlign","message","as","Link","to","primary","marginTop","AuthContainer","authenticated","HomePage","vertical","Container","Image","src","marginRight","onClick","Icon","MasterMenu","Menu","Item","Dropdown","text","icon","Divider","displayYYYYMMJp","yyyyMM","strYYYYMM","length","substr","PeriodMonthMenu","period","currentPeriod","periods","yearMonth","SignedInMenu","currentUser","toast","avatar","spaced","photoURL","NavBar","fixed","alt","position","initialState","creating","isOpen","Dashboard","secondary","Group","Grid","columns","Column","filter","n","map","key","e","payload","close","Input","value","width","Select","compact","options","defaultValue","ProfilePage","asyncActionError","initialized","dataFromSnapshot","snapshot","exists","data","prop","hasOwnProperty","Timestamp","toDate","id","db","fetchMembersFromFirestore","collection","where","orderBy","addMemberToFirestore","member","user","now","FieldValue","serverTimestamp","doc","closing_year_month","cuid","set","created_at","created_user","updated_at","updated_user","updateMemberToFirestore","update","lo","omit","createMember","updateMember","fetchMembers","get","docs","ret","href","members","selectedMember","fetchProjectsFromFirestore","addProjectToFirestore","project","updateProjectToFirestore","createProject","updateProject","fetchProjects","projects","selectedProject","memberOptionsFactory","available","projectOptionsFactory","ymjOptions","columnsOptions","title","source","autocomplete","readOnly","SpreadSheet","setData","jexcelRef","useRef","initialOptions","filters","allowComments","defaultColAlign","contextMenu","onchange","current","jexcel","getData","useEffect","opt","ref","AssignPage","onbeforechange","instance","cell","x","y","console","log","AssignDashboard","memberHubId","location","hash","replace","useState","visibleDetail","setVisibleDetail","refresh","setRefresh","Sidebar","Pushable","Pusher","dimmed","fetchMemberTagsFromFirestore","addMemberTagToFirestore","memberTag","updateMemberTagToFirestore","createMemberTag","updateMemberTag","fetchMemberTags","memberTags","selectedMemberTag","MySelectInput","helpers","onChange","d","setValue","onBlur","setTouched","availableOptions","useFirestoreDoc","query","deps","shouldExecute","unsubscribe","onSnapshot","code","fetchClientsFromFirestore","addClientToFirestore","client","updateClientToFirestore","createClient","updateClient","fetchClients","clients","selectedClient","ClientForm","clientId","handleRefresh","loadFromClientFromFirestore","item","enableReinitialize","validateOnBlur","resetForm","positive","negative","align","ClientList","ClientDashboard","animation","direction","visible","fetchMemberAffiliationsFromFirestore","addMemberAffiliationToFirestore","memberAffiliation","updateMemberAffiliationToFirestore","createMemberAffiliation","updateMemberAffiliation","fetchMemberAffiliations","memberAffiliations","selectedMemberAffiliation","fetchMemberAssignManagersFromFirestore","addMemberAssignManagerToFirestore","memberAssignManager","updateMemberAssignManagerToFirestore","createMemberAssignManager","updateMemberAssignManager","fetchMemberAssignManagers","memberAssignManagers","selectedMemberAssignManager","fetchMemberHubCostSalessFromFirestore","addMemberHubCostSalesToFirestore","memberHubCostSales","updateMemberHubCostSalesToFirestore","createMemberHubCostSales","updateMemberHubCostSales","fetchMemberHubCostSaless","getCostAndSales","memberHubCostSaless","memberRankId","costs","hub","rank","cost_sales_kind","saless","cost","parseInt","cost_sales","sales","selectedMemberHubCostSales","fetchMemberHubsFromFirestore","addMemberHubToFirestore","memberHub","updateMemberHubToFirestore","createMemberHub","updateMemberHub","fetchMemberHubs","memberHubs","selectedMemberHub","fetchMemberRanksFromFirestore","addMemberRankToFirestore","memberRank","updateMemberRankToFirestore","createMemberRank","updateMemberRank","fetchMemberRanks","memberRanks","selectedMemberRank","memberHubOptionsFactory","memberRankOptionsFactory","memberAffiliationOptionsFactory","affiliation","memberTagOptionsFactory","use_cost_sales","tag","includes","memberAssignManagerOptionsFactory","assignManager","MemberForm","memberId","notRequired","assign_manager","loadFromMemberFromFirestore","setFieldValue","search","clearable","target","mask","MemberList","MemberDashboard","fetchAccDepartmentsFromFirestore","addAccDepartmentToFirestore","accDepartment","updateAccDepartmentToFirestore","createAccDepartment","updateAccDepartment","fetchAccDepartments","accDepartments","selectedAccDepartment","fetchAccSubjectsFromFirestore","addAccSubjectToFirestore","accSubject","updateAccSubjectToFirestore","createAccSubject","updateAccSubject","fetchAccSubjects","accSubjects","selectedAccSubject","clientOptionsFactory","accDepartmentOptionsFactory","accSubjectOptionsFactory","ProjectForm","note","loadFromProjectFromFirestore","ProjectList","ProjectDashboard","useCostSalesOptions","MemberTagForm","memberTagId","loadFromMemberTagFromFirestore","MemberTagList","MemberTagDashboard","MemberRankForm","loadFromMemberRankFromFirestore","MemberRankList","MemberRankDashboard","MemberAffiliationForm","memberAffiliationId","loadFromMemberAffiliationFromFirestore","MemberAffiliationList","MemberAffiliationDashboard","MemberHubForm","loadFromMemberHubFromFirestore","MemberHubList","MemberHubDashboard","hubCostSalesKindOptions","MemberHubCostSalesForm","memberHubCostSalesId","typeError","loadFromMemberHubCostSalesFromFirestore","MemberHubCostSalesList","MemberHubCostSalesDashboard","AccDepartmentForm","accDepartmentId","loadFromAccDepartmentFromFirestore","AccDepartmentList","AccDepartmentDashboard","accDepartmentkId","canInputSalesOptions","AccSubjectForm","accSubjectId","can_input_sales","loadFromAccSubjectFromFirestore","AccSubjectDashboard","MemberAssignManagerForm","memberAssignManagerId","loadFromMemberAssignManagerFromFirestore","MemberAssignManagerList","MemberAssignManagerDashboard","MyTextArea","fetchPrecisionsFromFirestore","addPrecisionToFirestore","precision","updatePrecisionToFirestore","createPrecision","updatePrecision","precisions","selectedPrecision","PrecisionForm","precisionId","loadFromPrecisionFromFirestore","rows","render","PrecisionList","PrecisionDashboard","App","hideProgressBar","exact","path","component","Boolean","window","hostname","match","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","onAuthStateChanged","signOutUser","configureStore","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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A,eACA,gBACA,cAEF,CACE,2BACA,eACA,eACA,WACA,eACA,2BACA,2BACA,eACA,iCACA,QACA,cACA,GACA,MACA,cACA,eACA,OACA,eACA,gBACA,gBAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,uCACA,uCACA,2BACA,iCACA,QACA,cACA,GACA,OACA,cACA,eACA,OACA,KACA,gBACA,kBAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,KACA,KACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,gBAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,2BACA,2BACA,eACA,iCACA,QACA,cACA,GACA,MACA,cACA,eACA,OACA,KACA,gBACA,gBAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,QACA,MACA,2BACA,2BACA,cACA,cACA,GACA,MACA,cACA,aACA,OACA,KACA,gBACA,gBAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,6BACA,KACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,cAEF,CACE,iCACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,gBACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,gBACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,KACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,gBACA,gBAEF,CACE,qBACA,eACA,2BACA,WACA,eACA,WACA,QACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,gBAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,KACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,SAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,QACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,WACA,QACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,cAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,2BACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,qBACA,eACA,2BACA,WACA,eACA,MACA,MACA,2BACA,2BACA,cACA,cACA,GACA,OACA,cACA,cACA,QACA,KACA,cACA,eAEF,CACE,qBACA,eACA,2BACA,WACA,eACA,MACA,MACA,2B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","file":"static/js/main.c743d2d7.chunk.js","sourcesContent":["import { useField } from \"formik\";\r\nimport React from \"react\";\r\nimport { FormField, Label } from \"semantic-ui-react\";\r\n\r\nexport default function MyTextInput({ label, ...props }) {\r\n  const [field, meta] = useField(props);\r\n\r\n  return (\r\n    <FormField error={meta.touched && !!meta.error}>\r\n      <label>{label}</label>\r\n      <input {...field} {...props} />\r\n      {meta.touched && meta.error ? (\r\n        <Label pointing color=\"red\">\r\n          {meta.error}\r\n        </Label>\r\n      ) : null}\r\n    </FormField>\r\n  );\r\n}\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/database\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDZ04kYbwSRlCebBOrF_7VlCFauBSaR5_o\",\r\n  authDomain: \"system-forecast.firebaseapp.com\",\r\n  databaseURL: \"https://system-forecast.firebaseio.com\",\r\n  projectId: \"system-forecast\",\r\n  storageBucket: \"system-forecast.appspot.com\",\r\n  messagingSenderId: \"300878264992\",\r\n  appId: \"1:300878264992:web:2c36eb34294ca6ed2b27c5\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.firestore();\r\n\r\nexport default firebase;\r\n","import firebase from \"../config/firebase\";\r\n\r\nexport function signInFirebaseWithEmail(creds) {\r\n  return firebase\r\n    .auth()\r\n    .signInWithEmailAndPassword(creds.email, creds.password);\r\n}\r\n\r\nexport function signOutFirebase() {\r\n  return firebase.auth().signOut();\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Modal } from \"semantic-ui-react\";\r\nimport { closeModal } from \"./modalReducer\";\r\n\r\nexport default function ModalWrapper({ children, size, header }) {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <Modal open={true} onClose={() => dispatch(closeModal())} size={size}>\r\n      {header && <Modal.Header>{header}</Modal.Header>}\r\n      <Modal.Content>{children}</Modal.Content>\r\n    </Modal>\r\n  );\r\n}\r\n","const OPEN_MODAL = \"modal/open\";\r\nconst CLOSE_MODAL = \"modal/close\";\r\n\r\nexport function openModal(payload) {\r\n  return {\r\n    type: OPEN_MODAL,\r\n    payload,\r\n  };\r\n}\r\n\r\nexport function closeModal() {\r\n  return {\r\n    type: CLOSE_MODAL,\r\n  };\r\n}\r\n\r\nconst initialState = null;\r\n\r\nexport default function modalReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case OPEN_MODAL:\r\n      const { modalType, modalProps } = payload;\r\n      return { modalType, modalProps };\r\n    case CLOSE_MODAL:\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Button, Label } from \"semantic-ui-react\";\r\nimport { Form, Formik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../app/common/form/MyTextInput\";\r\nimport { signInFirebaseWithEmail } from \"../../app/firebase/authService\";\r\nimport ModalWrapper from \"../../app/common/modals/ModalWrapper\";\r\n\r\nexport default function LoginForm() {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <ModalWrapper size=\"mini\" header=\"\">\r\n      <Formik\r\n        onSubmit={async (values, { setSubmitting, setErrors }) => {\r\n          setSubmitting(true);\r\n          try {\r\n            await signInFirebaseWithEmail(values);\r\n            history.push(\"/dashboard\");\r\n          } catch (error) {\r\n            setErrors({\r\n              auth: \"\",\r\n            });\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}\r\n        initialValues={{ email: \"\", password: \"\" }}\r\n        validationSchema={Yup.object({\r\n          email: Yup.string()\r\n            .required(\"Email Address \")\r\n            .email(\"Email \"),\r\n          password: Yup.string().required(\"\"),\r\n        })}>\r\n        {({ isSubmitting, dirty, isValid, errors }) => (\r\n          <Form className=\"ui form\">\r\n            <MyTextInput name=\"email\" placeholder=\"Email Address\" />\r\n            <MyTextInput\r\n              name=\"password\"\r\n              placeholder=\"password\"\r\n              type=\"password\"\r\n            />\r\n            {errors.auth && (\r\n              <Label\r\n                basic\r\n                color=\"red\"\r\n                style={{ marginBottom: 10 }}\r\n                content={errors.auth}\r\n              />\r\n            )}\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              fluid\r\n              size=\"large\"\r\n              color=\"teal\"\r\n              content=\"\"\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </ModalWrapper>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoginForm from \"../../../features/auth/LoginForm\";\r\n\r\nexport default function ModalManager() {\r\n  const modalLookup = {\r\n    LoginForm,\r\n  };\r\n  const currentModal = useSelector((state) => state.modals);\r\n  let renderModal;\r\n  if (currentModal) {\r\n    const { modalType, modalProps } = currentModal;\r\n    const ModalComponent = modalLookup[modalType];\r\n    renderModal = <ModalComponent {...modalProps} />;\r\n  }\r\n  return <span>{renderModal}</span>;\r\n}\r\n","import React from \"react\";\r\nimport { Dimmer, Loader } from \"semantic-ui-react\";\r\n\r\nexport default function NowLoading({\r\n  inverted = true,\r\n  content = \"Loading...\",\r\n}) {\r\n  return (\r\n    <Dimmer inverted={inverted} active={true}>\r\n      <Loader content={content} />\r\n    </Dimmer>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { Segment, Header, Button } from \"semantic-ui-react\";\n\nexport default function ErrorComponent() {\n  const { error } = useSelector((state) => state.async);\n\n  return (\n    <Segment placeholder basic>\n      <Header\n        textAlign=\"center\"\n        content={error?.message || \"\"}\n      />\n      <Button\n        as={Link}\n        to=\"/dashboard\"\n        primary\n        style={{ marginTop: 20 }}\n        content=\"\"\n      />\n    </Segment>\n  );\n}\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nexport default function AuthContainer({ children }) {\r\n  const { authenticated } = useSelector((state) => state.auth);\r\n  return <>{authenticated === true ? children : <LoginForm />}</>;\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Header,\r\n  Icon,\r\n  Image,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\n\r\nexport default function HomePage({ history }) {\r\n  return (\r\n    <Segment inverted textAlign=\"center\" vertical className=\"masthead\">\r\n      <Container>\r\n        <Header as=\"h1\" inverted style={{ marginBottom: 50 }}>\r\n          <Image\r\n            size=\"massive\"\r\n            src=\"/assets/logo.png\"\r\n            style={{ marginBottom: 12, marginRight: 12 }}\r\n          />\r\n          Forecast\r\n        </Header>\r\n        <Button\r\n          onClick={() => history.push(\"/dashboard\")}\r\n          size=\"huge\"\r\n          color=\"teal\">\r\n          Get Started\r\n          <Icon name=\"right arrow\" />\r\n        </Button>\r\n      </Container>\r\n    </Segment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Dropdown, Menu } from \"semantic-ui-react\";\r\n\r\nexport default function MasterMenu() {\r\n  return (\r\n    <Menu.Item>\r\n      <Dropdown pointing=\"top right\" text=\"\">\r\n        <Dropdown.Menu>\r\n          <Dropdown.Item as={Link} to=\"/members\" text=\"\" icon=\"users\" />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/memberaffiliations\"\r\n            text=\"\"\r\n            icon=\"users\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/membertags\"\r\n            text=\"\"\r\n            icon=\"users\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/memberranks\"\r\n            text=\"\"\r\n            icon=\"users\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/memberassignmanagers\"\r\n            text=\"\"\r\n            icon=\"users\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/memberhubs\"\r\n            text=\"\"\r\n            icon=\"users\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/memberhubcostsaless\"\r\n            text=\"\"\r\n            icon=\"users\"\r\n          />\r\n          <Dropdown.Divider />\r\n          <Dropdown.Item as={Link} to=\"/projects\" text=\"\" icon=\"inbox\" />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/clients\"\r\n            text=\"\"\r\n            icon=\"building outline\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/accdepartments\"\r\n            text=\"\"\r\n            icon=\"chart bar\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/accsubjects\"\r\n            text=\"\"\r\n            icon=\"chart bar\"\r\n          />\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/precisions\"\r\n            text=\"\"\r\n            icon=\"chart bar\"\r\n          />\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    </Menu.Item>\r\n  );\r\n}\r\n","export function displayYYYYMMJp(yyyyMM) {\r\n  const strYYYYMM = \"\" + yyyyMM;\r\n  if (strYYYYMM.length !== 6) {\r\n    return strYYYYMM;\r\n  }\r\n  return strYYYYMM.substr(0, 4) + \"\" + strYYYYMM.substr(4, 2) + \"\";\r\n}\r\n\r\nexport function stripYYYYMMJp(YYYYMM) {\r\n  return YYYYMM.replace(//g, \"\");\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Menu } from \"semantic-ui-react\";\r\nimport { displayYYYYMMJp } from \"../../app/common/utils/textFormstUtils\";\r\n\r\nexport default function PeriodMonthMenu() {\r\n  const { currentPeriod, periods } = useSelector((state) => state.period);\r\n\r\n  return (\r\n    <>\r\n      {periods.length !== 0 && (\r\n        <Menu.Item>{displayYYYYMMJp(currentPeriod.yearMonth)}</Menu.Item>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Dropdown, Image, Menu } from \"semantic-ui-react\";\r\nimport { signOutFirebase } from \"../../app/firebase/authService\";\r\n\r\nexport default function SignedInMenu() {\r\n  const { currentUser } = useSelector((state) => state.auth);\r\n  const history = useHistory();\r\n\r\n  async function handleSignOut() {\r\n    try {\r\n      history.push(\"/\");\r\n      await signOutFirebase();\r\n    } catch (error) {\r\n      toast.error(error.message);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Menu.Item>\r\n      <Image\r\n        avatar\r\n        spaced=\"right\"\r\n        src={currentUser?.photoURL || \"/assets/user.png\"}\r\n      />\r\n      <Dropdown pointing=\"top right\" text={currentUser?.email}>\r\n        <Dropdown.Menu>\r\n          <Dropdown.Item\r\n            as={Link}\r\n            to=\"/profile\"\r\n            text=\"\"\r\n            icon=\"user\"\r\n          />\r\n          <Dropdown.Item\r\n            onClick={handleSignOut}\r\n            text=\"\"\r\n            icon=\"power\"\r\n          />\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    </Menu.Item>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Container, Menu } from \"semantic-ui-react\";\r\nimport MasterMenu from \"./MasterMenu\";\r\nimport PeriodMonthMenu from \"./PeriodMonthMenu\";\r\nimport SignedInMenu from \"./SignedInMenu\";\r\n\r\nexport default function NavBar() {\r\n  return (\r\n    <Menu inverted fixed=\"top\">\r\n      <Container>\r\n        <Menu.Item header as={Link} to=\"/dashboard\">\r\n          <img src=\"/assets/logo.png\" alt=\"logo\" style={{ marginRight: 15 }} />\r\n          Forecast\r\n        </Menu.Item>\r\n        <PeriodMonthMenu />\r\n        <Menu.Item as={Link} to=\"/assign/latest\" name=\"assign\">\r\n          Assign\r\n        </Menu.Item>\r\n        <Menu.Menu position=\"right\">\r\n          <MasterMenu />\r\n          <SignedInMenu />\r\n        </Menu.Menu>\r\n      </Container>\r\n    </Menu>\r\n  );\r\n}\r\n","export const PERIOD_LATEST = \"period/latest\";\r\nexport const PERIOD_CHANGE_CURRENT = \"period/change_current\";\r\nexport const PERIOD_CREATE_START = \"period/create_start\";\r\nexport const PERIOD_CREATE_FINISHED = \"period/create_finished\";\r\nexport const PERIOD_REMOVE = \"period/remove\";\r\nexport const PERIOD_CLOSE = \"period/close\";\r\nexport const PERIOD_OPEN = \"period/opeb\";\r\n\r\n/**  */\r\nexport function latestPeriod() {\r\n  return function (dispatch) {\r\n    // datastore \r\n    const latest = [\r\n      { yearMonth: 202011, close: false },\r\n      { yearMonth: 202010, close: false },\r\n      { yearMonth: 202009, close: true },\r\n      { yearMonth: 202008, close: true },\r\n      { yearMonth: 202007, close: true },\r\n      { yearMonth: 202006, close: true },\r\n      { yearMonth: 202005, close: true },\r\n    ];\r\n\r\n    dispatch({ type: PERIOD_LATEST, payload: latest });\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function changeCurrentPeriod(yearMonth) {\r\n  return {\r\n    type: PERIOD_CHANGE_CURRENT,\r\n    payload: yearMonth,\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function createPeriodStart(yearMonth) {\r\n  return {\r\n    type: PERIOD_CREATE_START,\r\n    payload: yearMonth,\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function createPeriodFinished() {\r\n  return {\r\n    type: PERIOD_CREATE_FINISHED,\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function removePeriod(yearMonth) {\r\n  return {\r\n    type: PERIOD_REMOVE,\r\n    payload: yearMonth,\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function closePeriod(yearMonth) {\r\n  return {\r\n    type: PERIOD_CLOSE,\r\n    payload: yearMonth,\r\n  };\r\n}\r\n\r\n/**  */\r\nexport function openPeriod(yearMonth) {\r\n  return {\r\n    type: PERIOD_OPEN,\r\n    payload: yearMonth,\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  creating: false,\r\n  periods: [],\r\n  currentPeriod: null,\r\n  isOpen: false,\r\n};\r\n\r\nexport default function periodReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case PERIOD_LATEST:\r\n      return {\r\n        ...state,\r\n        periods: payload,\r\n        currentPeriod: payload.length === 0 ? null : payload[0],\r\n      };\r\n    case PERIOD_CHANGE_CURRENT:\r\n      return {\r\n        ...state,\r\n        currentPeriod: state.periods.filter((n) => n.yearMonth === payload)[0],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Button,\r\n  Divider,\r\n  Dropdown,\r\n  Grid,\r\n  Header,\r\n  Icon,\r\n  Input,\r\n  Menu,\r\n  Segment,\r\n  Select,\r\n} from \"semantic-ui-react\";\r\nimport { displayYYYYMMJp } from \"../../app/common/utils/textFormstUtils\";\r\nimport { changeCurrentPeriod } from \"../period/periodReducer\";\r\n\r\nexport default function Dashboard() {\r\n  const { currentPeriod, periods } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const monthOptions = [\r\n    { key: \"1\", text: \"1\", value: \"01\" },\r\n    { key: \"2\", text: \"2\", value: \"02\" },\r\n    { key: \"3\", text: \"3\", value: \"03\" },\r\n    { key: \"4\", text: \"4\", value: \"04\" },\r\n    { key: \"5\", text: \"5\", value: \"05\" },\r\n    { key: \"6\", text: \"6\", value: \"06\" },\r\n    { key: \"7\", text: \"7\", value: \"07\" },\r\n    { key: \"8\", text: \"8\", value: \"08\" },\r\n    { key: \"9\", text: \"9\", value: \"09\" },\r\n    { key: \"10\", text: \"10\", value: \"10\" },\r\n    { key: \"11\", text: \"11\", value: \"11\" },\r\n    { key: \"12\", text: \"12\", value: \"12\" },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>DashBoard</Menu.Item>\r\n      </Menu>\r\n      <Segment.Group>\r\n        <Segment>\r\n          <Header as=\"h3\"></Header>\r\n        </Segment>\r\n        <Segment>\r\n          <Grid columns={2} textAlign=\"center\">\r\n            <Grid.Column>\r\n              <p> </p>\r\n              <Dropdown\r\n                pointing=\"top left\"\r\n                text={displayYYYYMMJp(currentPeriod.yearMonth)}>\r\n                <Dropdown.Menu>\r\n                  {periods\r\n                    .filter((n) => n.yearMonth !== currentPeriod.yearMonth)\r\n                    .map((period) => (\r\n                      <Dropdown.Item\r\n                        key={period.yearMonth}\r\n                        onClick={(e) => {\r\n                          dispatch(changeCurrentPeriod(period.yearMonth));\r\n                        }}>\r\n                        <Icon name={period.close ? \"lock\" : \"clock outline\"} />\r\n                        {displayYYYYMMJp(period.yearMonth)}\r\n                      </Dropdown.Item>\r\n                    ))}\r\n                </Dropdown.Menu>\r\n              </Dropdown>\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <p></p>\r\n              <Input type=\"text\">\r\n                <input value=\"2020\" style={{ width: \"5em\" }} />\r\n                <Select compact options={monthOptions} defaultValue=\"12\" />\r\n                <Button color=\"teal\"></Button>\r\n              </Input>\r\n            </Grid.Column>\r\n          </Grid>\r\n          <Divider vertical>Or</Divider>\r\n        </Segment>\r\n      </Segment.Group>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Icon } from \"semantic-ui-react\";\r\n\r\nexport default function ProfilePage() {\r\n  return (\r\n    <h1>\r\n      <Icon name=\"user\" style={{ marginRight: \"0.5em\" }} />\r\n      \r\n    </h1>\r\n  );\r\n}\r\n","const ASYNC_ACTION_START = \"async/action_start\";\r\nconst ASYNC_ACTION_FINISH = \"async/action_finish\";\r\nconst ASYNC_ACTION_ERROR = \"async/action_error\";\r\nexport const APP_LOADED = \"app/loaded\";\r\n\r\nexport function asyncActionStart() {\r\n  return {\r\n    type: ASYNC_ACTION_START,\r\n  };\r\n}\r\n\r\nexport function asyncActionFinish() {\r\n  return {\r\n    type: ASYNC_ACTION_FINISH,\r\n  };\r\n}\r\n\r\nexport function asyncActionError(error) {\r\n  return {\r\n    type: ASYNC_ACTION_ERROR,\r\n    payload: error,\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  initialized: false,\r\n};\r\n\r\nexport default function asyncReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case ASYNC_ACTION_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n      };\r\n    case ASYNC_ACTION_FINISH:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    case ASYNC_ACTION_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: payload,\r\n      };\r\n    case APP_LOADED:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import firebase from \"../config/firebase\";\r\n\r\nexport function dataFromSnapshot(snapshot) {\r\n  if (!snapshot.exists) {\r\n    return undefined;\r\n  }\r\n  const data = snapshot.data();\r\n  for (const prop in data) {\r\n    if (data.hasOwnProperty(prop)) {\r\n      if (data[prop] instanceof firebase.firestore.Timestamp) {\r\n        data[prop] = data[prop].toDate();\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    ...data,\r\n    id: snapshot.id,\r\n  };\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member\";\r\n\r\nexport function fetchMembersFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberFromFirestore(memberId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberId);\r\n}\r\n\r\nexport function addMemberToFirestore(member) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(member.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...member,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberToFirestore(member) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(member.id)\r\n    .update({\r\n      ...lo.omit(member, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberToFirestore,\r\n  fetchMembersFromFirestore,\r\n  updateMemberToFirestore,\r\n} from \"../../../app/firestore/memberService\";\r\n\r\nexport const MEMBER_CREATE = \"member/create\";\r\nexport const MEMBER_UPDATE = \"member/update\";\r\nexport const MEMBERS_FETCH = \"member/fetch\";\r\nexport const MEMBER_LISTEN = \"member/listen\";\r\nexport const MEMBER_SELECTED = \"member/selected\";\r\n\r\nexport function selectMember(member) {\r\n  return {\r\n    type: MEMBER_SELECTED,\r\n    payload: member,\r\n  };\r\n}\r\n\r\nexport function createMember(member) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberToFirestore(member);\r\n      dispatch({\r\n        type: MEMBER_CREATE,\r\n        payload: member,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMember(member) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberToFirestore(member);\r\n      dispatch({\r\n        type: MEMBER_UPDATE,\r\n        payload: member,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMembers(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMembersFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  members: [],\r\n  selectedMember: null,\r\n};\r\n\r\nexport default function memberReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case MEMBER_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMember: payload,\r\n      };\r\n    case MEMBER_CREATE:\r\n      return state;\r\n    case MEMBER_UPDATE:\r\n      return state;\r\n    case MEMBERS_FETCH:\r\n      return {\r\n        ...state,\r\n        members: payload,\r\n      };\r\n    case MEMBER_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMember: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"project\";\r\n\r\nexport function fetchProjectsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromProjectFromFirestore(projectId) {\r\n  return db.collection(COLLECTION_NAME).doc(projectId);\r\n}\r\n\r\nexport function addProjectToFirestore(project) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(project.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...project,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateProjectToFirestore(project) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(project.id)\r\n    .update({\r\n      ...lo.omit(project, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addProjectToFirestore,\r\n  fetchProjectsFromFirestore,\r\n  updateProjectToFirestore,\r\n} from \"../../../app/firestore/projectService\";\r\n\r\nexport const PROJECT_CREATE = \"project/create\";\r\nexport const PROJECT_UPDATE = \"project/update\";\r\nexport const PROJECTS_FETCH = \"project/fetch\";\r\nexport const PROJECT_LISTEN = \"project/listen\";\r\nexport const PROJECT_SELECTED = \"project/selected\";\r\n\r\nexport function selectProject(project) {\r\n  return {\r\n    type: PROJECT_SELECTED,\r\n    payload: project,\r\n  };\r\n}\r\n\r\nexport function createProject(project) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addProjectToFirestore(project);\r\n      dispatch({\r\n        type: PROJECT_CREATE,\r\n        payload: project,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateProject(project) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateProjectToFirestore(project);\r\n      dispatch({\r\n        type: PROJECT_UPDATE,\r\n        payload: project,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchProjects(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchProjectsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: PROJECTS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  projects: [],\r\n  selectedProject: null,\r\n};\r\n\r\nexport default function projectReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case PROJECT_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedProject: payload,\r\n      };\r\n    case PROJECT_CREATE:\r\n      return state;\r\n    case PROJECT_UPDATE:\r\n      return state;\r\n    case PROJECTS_FETCH:\r\n      return {\r\n        ...state,\r\n        projects: payload,\r\n      };\r\n    case PROJECT_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedProject: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const memberOptionsFactory = (members, available = \"true\") => {\r\n  return members\r\n    .filter((member) => member.available === available)\r\n    .map((member) => ({\r\n      key: member.id,\r\n      id: member.id,\r\n      text: member.name,\r\n      name: member.name,\r\n      value: member.id,\r\n    }));\r\n};\r\n","export const projectOptionsFactory = (projects, available = \"true\") => {\r\n  return projects\r\n    .filter((project) => project.available === available)\r\n    .map((project) => ({\r\n      key: project.id,\r\n      id: project.id,\r\n      text: project.name,\r\n      name: project.name,\r\n      value: project.id,\r\n    }));\r\n};\r\n","export const ymjOptions = [\r\n  { key: \"1\", id: \"1\", text: \"\", name: \"\", value: \"1\" },\r\n  { key: \"2\", id: \"2\", text: \"\", name: \"\", value: \"2\" },\r\n  { key: \"3\", id: \"3\", text: \"\", name: \"\", value: \"3\" },\r\n];\r\n","import { memberOptionsFactory } from \"../../app/options/memberOptionsFactory\";\r\nimport { projectOptionsFactory } from \"../../app/options/projectOptionsFactory\";\r\nimport { ymjOptions } from \"../../app/options/ymjOptions\";\r\n\r\nconst columnsOptions = (members, projects) => {\r\n  return [\r\n    {\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      width: \"140px\",\r\n      source: memberOptionsFactory(members),\r\n      autocomplete: true,\r\n    },\r\n    { title: \"/PT\", type: \"text\", width: \"140px\", readOnly: true },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n    {\r\n      title: \"//\",\r\n      type: \"dropdown\",\r\n      width: \"140px\",\r\n      source: ymjOptions,\r\n      autocomplete: true,\r\n    },\r\n    {\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      width: \"140px\",\r\n      source: projectOptionsFactory(projects),\r\n      autocomplete: true,\r\n    },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n    { title: \"\", type: \"url\", width: \"140px\" },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n    { title: \"PT\", type: \"text\", width: \"140px\" },\r\n    { title: \"\", type: \"text\", width: \"140px\" },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n    { title: \"\", type: \"text\", width: \"140px\", readOnly: true },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","const data = [\r\n  [\r\n    \"\",\r\n    \"PT\",\r\n    \"\",\r\n    \"2020/8/1\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"550,000\",\r\n    \"\",\r\n    \"500,000\",\r\n    \"100%\",\r\n    \"500,000\",\r\n    \"50,000\",\r\n    \"9.1%\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"NIPPO\",\r\n    \"BBS\",\r\n    \"\",\r\n    \"\",\r\n    \"960,000\",\r\n    \"700,000\",\r\n    \"\",\r\n    \"80%\",\r\n    \"560,000\",\r\n    \"400,000\",\r\n    \"41.7%\",\r\n    \"\",\r\n    \"1,080,000\",\r\n    \"96,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"0\",\r\n    \"700,000\",\r\n    \"\",\r\n    \"20%\",\r\n    \"140,000\",\r\n    \"-140,000\",\r\n    \"0.0%\",\r\n    \"\",\r\n    \"1,080,000\",\r\n    \"-216,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"0\",\r\n    \"770,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"770,000\",\r\n    \"-770,000\",\r\n    \"0.0%\",\r\n    \"SD\",\r\n    \"1,200,000\",\r\n    \"-1,200,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"RS\",\r\n    \"RS\",\r\n    \"\",\r\n    \"\",\r\n    \"751,653\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"181,653\",\r\n    \"24.2%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"-128,347\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"0\",\r\n    \"850,000\",\r\n    \"\",\r\n    \"20%\",\r\n    \"170,000\",\r\n    \"-170,000\",\r\n    \"0.0%\",\r\n    \"SD\",\r\n    \"1,200,000\",\r\n    \"-240,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"NIPPO\",\r\n    \"BBS\",\r\n    \"\",\r\n    \"\",\r\n    \"720,000\",\r\n    \"850,000\",\r\n    \"\",\r\n    \"80%\",\r\n    \"680,000\",\r\n    \"40,000\",\r\n    \"5.6%\",\r\n    \"SD\",\r\n    \"1,200,000\",\r\n    \"-240,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"UA\",\r\n    \"UA\",\r\n    \"\",\r\n    \"\",\r\n    \"900,000\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"330,000\",\r\n    \"36.7%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"20,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"1,200,000\",\r\n    \"680,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"680,000\",\r\n    \"520,000\",\r\n    \"43.3%\",\r\n    \"DR\",\r\n    \"1,050,000\",\r\n    \"150,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"SGW\",\r\n    \"FA\",\r\n    \"\",\r\n    \"\",\r\n    \"950,000\",\r\n    \"680,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"680,000\",\r\n    \"270,000\",\r\n    \"28.4%\",\r\n    \"DR\",\r\n    \"1,050,000\",\r\n    \"-100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"Dynamics\",\r\n    \"NTSOL\",\r\n    \"\",\r\n    \"\",\r\n    \"703,975\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"133,975\",\r\n    \"19.0%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"-176,025\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"LSX\",\r\n    \"FA\",\r\n    \"\",\r\n    \"\",\r\n    \"880,000\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"310,000\",\r\n    \"35.2%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"0\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"LBZ\",\r\n    \"LBZ\",\r\n    \"\",\r\n    \"\",\r\n    \"840,000\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"270,000\",\r\n    \"32.1%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"-40,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"NIPPO\",\r\n    \"BBS\",\r\n    \"\",\r\n    \"\",\r\n    \"820,000\",\r\n    \"570,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"570,000\",\r\n    \"250,000\",\r\n    \"30.5%\",\r\n    \"MG\",\r\n    \"880,000\",\r\n    \"-60,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"807,550\",\r\n    \"450,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"450,000\",\r\n    \"357,550\",\r\n    \"44.3%\",\r\n    \"AM\",\r\n    \"700,000\",\r\n    \"107,550\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"Dynamics\",\r\n    \"NTSOL\",\r\n    \"\",\r\n    \"\",\r\n    \"600,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"230,000\",\r\n    \"38.3%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"50,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n  [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"2019/9/1\",\r\n    \"\",\r\n    \"PPT\",\r\n    \"PPT\",\r\n    \"\",\r\n    \"\",\r\n    \"650,000\",\r\n    \"370,000\",\r\n    \"\",\r\n    \"100%\",\r\n    \"370,000\",\r\n    \"280,000\",\r\n    \"43.1%\",\r\n    \"SE\",\r\n    \"550,000\",\r\n    \"100,000\",\r\n  ],\r\n];\r\n\r\nexport default data;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport jexcel from \"jexcel\";\r\nimport \"jexcel/dist/jexcel.css\";\r\n\r\nexport default function SpreadSheet({ options, data, setData = null }) {\r\n  const jexcelRef = useRef(null);\r\n\r\n  const handleOnChange = () => {\r\n    if (setData) {\r\n      setData(jexcelRef.current.jexcel.getData());\r\n    }\r\n  };\r\n\r\n  const initialOptions = useRef({\r\n    filters: true,\r\n    allowComments: false,\r\n    defaultColAlign: \"left\",\r\n    contextMenu: () => [],\r\n    onchange: handleOnChange,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const opt = { ...initialOptions.current, ...options.current };\r\n    jexcel(jexcelRef.current, opt);\r\n  }, [options]);\r\n\r\n  useEffect(() => {\r\n    jexcelRef.current.jexcel.setData(data);\r\n  }, [data]);\r\n\r\n  return <div ref={jexcelRef} />;\r\n}\r\n","import React from \"react\";\r\nimport columnsOptions from \"./columnsOptions\";\r\nimport data from \"./assignData\";\r\nimport SpreadSheet from \"../../app/common/form/SpreadSheet\";\r\nimport { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport default function AssignPage() {\r\n  const { members } = useSelector((state) => state.member);\r\n  const { projects } = useSelector((state) => state.project);\r\n\r\n  const handleChange = (instance, cell, x, y, value) => {\r\n    console.log(cell);\r\n    console.log(x);\r\n    console.log(y);\r\n    console.log(value);\r\n  };\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(members, projects),\r\n    onbeforechange: handleChange,\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={data} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../app/common/utils/NowLoading\";\r\nimport { fetchMembers } from \"../master/members/memberReducer\";\r\nimport { fetchProjects } from \"../master/projects/projectReducer\";\r\nimport AssignList from \"./AssignList\";\r\n\r\nexport default function AssignDashboard({ location }) {\r\n  const memberHubId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberHubId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberHubId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMembers(currentPeriod.yearMonth));\r\n    dispatch(fetchProjects(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>Assign</Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <AssignList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member_tag\";\r\n\r\nexport function fetchMemberTagsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberTagFromFirestore(memberTagId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberTagId);\r\n}\r\n\r\nexport function addMemberTagToFirestore(memberTag) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberTag.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...memberTag,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberTagToFirestore(memberTag) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberTag.id)\r\n    .update({\r\n      ...lo.omit(memberTag, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberTagToFirestore,\r\n  fetchMemberTagsFromFirestore,\r\n  updateMemberTagToFirestore,\r\n} from \"../../../app/firestore/memberTagService\";\r\n\r\nexport const MEMBERTAG_CREATE = \"memberTag/create\";\r\nexport const MEMBERTAG_UPDATE = \"memberTag/update\";\r\nexport const MEMBERTAGS_FETCH = \"memberTag/fetch\";\r\nexport const MEMBERTAG_LISTEN = \"memberTag/listen\";\r\nexport const MEMBERTAG_SELECTED = \"memberTag/selected\";\r\n\r\nexport function selectMemberTag(memberTag) {\r\n  return {\r\n    type: MEMBERTAG_SELECTED,\r\n    payload: memberTag,\r\n  };\r\n}\r\n\r\nexport function createMemberTag(memberTag) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberTagToFirestore(memberTag);\r\n      dispatch({\r\n        type: MEMBERTAG_CREATE,\r\n        payload: memberTag,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMemberTag(memberTag) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberTagToFirestore(memberTag);\r\n      dispatch({\r\n        type: MEMBERTAG_UPDATE,\r\n        payload: memberTag,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMemberTags(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMemberTagsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERTAGS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  memberTags: [],\r\n  selectedMemberTag: null,\r\n};\r\n\r\nexport default function memberTagReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case MEMBERTAG_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMemberTag: payload,\r\n      };\r\n    case MEMBERTAG_CREATE:\r\n      return state;\r\n    case MEMBERTAG_UPDATE:\r\n      return state;\r\n    case MEMBERTAGS_FETCH:\r\n      return {\r\n        ...state,\r\n        memberTags: payload,\r\n      };\r\n    case MEMBERTAG_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMemberTag: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\nimport { useField } from \"formik\";\nimport { FormField, Label, Select } from \"semantic-ui-react\";\n\nexport default function MySelectInput({ label, ...props }) {\n  const [field, meta, helpers] = useField(props);\n\n  return (\n    <FormField error={meta.touched && !!meta.error}>\n      <label>{label}</label>\n      <Select\n        value={field.value || null}\n        onChange={(e, d) => helpers.setValue(d.value)}\n        onBlur={() => helpers.setTouched(true)}\n        {...props}\n      />\n      {meta.touched && meta.error ? (\n        <Label pointing color=\"red\">\n          {meta.error}\n        </Label>\n      ) : null}\n    </FormField>\n  );\n}\n","export const availableOptions = [\r\n  { key: \"true\", id: \"true\", text: \"\", name: \"\", value: \"true\" },\r\n  { key: \"false\", id: \"false\", text: \"\", name: \"\", value: \"false\" },\r\n];\r\n","import { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  asyncActionStart,\n  asyncActionError,\n  asyncActionFinish,\n} from \"../async/asyncReducer\";\nimport { dataFromSnapshot } from \"../firestore/firestoreService\";\n\nexport default function useFirestoreDoc({\n  query,\n  data,\n  deps,\n  shouldExecute = true,\n}) {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!shouldExecute) {\n      data(null);\n      return;\n    }\n\n    dispatch(asyncActionStart());\n    const unsubscribe = query().onSnapshot(\n      (snapshot) => {\n        if (!snapshot.exists) {\n          dispatch(\n            asyncActionError({\n              code: \"not-found\",\n              message: \"Could not find document\",\n            })\n          );\n          return;\n        }\n        data(dataFromSnapshot(snapshot));\n        dispatch(asyncActionFinish());\n      },\n      (error) => dispatch(asyncActionError(error))\n    );\n    return () => {\n      unsubscribe();\n    };\n  }, deps); // eslint-disable-line react-hooks/exhaustive-deps\n}\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"client\";\r\n\r\nexport function fetchClientsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromClientFromFirestore(clientId) {\r\n  return db.collection(COLLECTION_NAME).doc(clientId);\r\n}\r\n\r\nexport function addClientToFirestore(client) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(client.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...client,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateClientToFirestore(client) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(client.id)\r\n    .update({\r\n      ...lo.omit(client, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addClientToFirestore,\r\n  fetchClientsFromFirestore,\r\n  updateClientToFirestore,\r\n} from \"../../../app/firestore/clientService\";\r\n\r\nexport const CLIENT_CREATE = \"client/create\";\r\nexport const CLIENT_UPDATE = \"client/update\";\r\nexport const CLIENTS_FETCH = \"client/fetch\";\r\nexport const CLIENT_LISTEN = \"client/listen\";\r\nexport const CLIENT_SELECTED = \"client/selected\";\r\n\r\nexport function selectClient(client) {\r\n  return {\r\n    type: CLIENT_SELECTED,\r\n    payload: client,\r\n  };\r\n}\r\n\r\nexport function createClient(client) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addClientToFirestore(client);\r\n      dispatch({\r\n        type: CLIENT_CREATE,\r\n        payload: client,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateClient(client) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateClientToFirestore(client);\r\n      dispatch({\r\n        type: CLIENT_UPDATE,\r\n        payload: client,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchClients(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchClientsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: CLIENTS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  clients: [],\r\n  selectedClient: null,\r\n};\r\n\r\nexport default function clientReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case CLIENT_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedClient: payload,\r\n      };\r\n    case CLIENT_CREATE:\r\n      return state;\r\n    case CLIENT_UPDATE:\r\n      return state;\r\n    case CLIENTS_FETCH:\r\n      return {\r\n        ...state,\r\n        clients: payload,\r\n      };\r\n    case CLIENT_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedClient: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromClientFromFirestore } from \"../../../app/firestore/clientService\";\r\nimport { createClient, selectClient, updateClient } from \"./clientReducer\";\r\n\r\nexport default function ClientForm({\r\n  clientId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedClient } = useSelector((state) => state.client);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedClient ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!clientId,\r\n    query: () => loadFromClientFromFirestore(clientId),\r\n    data: (item) => dispatch(selectClient(item)),\r\n    deps: [clientId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            clientId\r\n              ? dispatch(updateClient(values))\r\n              : dispatch(createClient(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/clients\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput\r\n              label=\"\"\r\n              name=\"name\"\r\n              placeholder=\"\"\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/clients\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"300px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function ClientList({ refresh }) {\r\n  const { clients } = useSelector((state) => state.client);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={clients} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchMemberTags } from \"../memberTags/memberTagReducer\";\r\nimport ClientForm from \"./ClientForm\";\r\nimport ClientList from \"./ClientList\";\r\nimport { fetchClients } from \"./clientReducer\";\r\n\r\nexport default function ClientDashboard({ location }) {\r\n  const clientId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (clientId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [clientId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberTags(currentPeriod.yearMonth));\r\n    dispatch(fetchClients(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <ClientForm\r\n              clientId={clientId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <ClientList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member_affiliation\";\r\n\r\nexport function fetchMemberAffiliationsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberAffiliationFromFirestore(memberAffiliationId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberAffiliationId);\r\n}\r\n\r\nexport function addMemberAffiliationToFirestore(memberAffiliation) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberAffiliation.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...memberAffiliation,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberAffiliationToFirestore(memberAffiliation) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberAffiliation.id)\r\n    .update({\r\n      ...lo.omit(memberAffiliation, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberAffiliationToFirestore,\r\n  fetchMemberAffiliationsFromFirestore,\r\n  updateMemberAffiliationToFirestore,\r\n} from \"../../../app/firestore/memberAffiliationService\";\r\n\r\nexport const MEMBERAFFILIATION_CREATE = \"memberAffiliation/create\";\r\nexport const MEMBERAFFILIATION_UPDATE = \"memberAffiliation/update\";\r\nexport const MEMBERAFFILIATIONS_FETCH = \"memberAffiliation/fetch\";\r\nexport const MEMBERAFFILIATION_LISTEN = \"memberAffiliation/listen\";\r\nexport const MEMBERAFFILIATION_SELECTED = \"memberAffiliation/selected\";\r\n\r\nexport function selectMemberAffiliation(memberAffiliation) {\r\n  return {\r\n    type: MEMBERAFFILIATION_SELECTED,\r\n    payload: memberAffiliation,\r\n  };\r\n}\r\n\r\nexport function createMemberAffiliation(memberAffiliation) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberAffiliationToFirestore(memberAffiliation);\r\n      dispatch({\r\n        type: MEMBERAFFILIATION_CREATE,\r\n        payload: memberAffiliation,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMemberAffiliation(memberAffiliation) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberAffiliationToFirestore(memberAffiliation);\r\n      dispatch({\r\n        type: MEMBERAFFILIATION_UPDATE,\r\n        payload: memberAffiliation,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMemberAffiliations(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMemberAffiliationsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERAFFILIATIONS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  memberAffiliations: [],\r\n  selectedMemberAffiliation: null,\r\n};\r\n\r\nexport default function memberAffiliationReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case MEMBERAFFILIATION_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMemberAffiliation: payload,\r\n      };\r\n    case MEMBERAFFILIATION_CREATE:\r\n      return state;\r\n    case MEMBERAFFILIATION_UPDATE:\r\n      return state;\r\n    case MEMBERAFFILIATIONS_FETCH:\r\n      return {\r\n        ...state,\r\n        memberAffiliations: payload,\r\n      };\r\n    case MEMBERAFFILIATION_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMemberAffiliation: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member_assign_manager\";\r\n\r\nexport function fetchMemberAssignManagersFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberAssignManagerFromFirestore(\r\n  memberAssignManagerId\r\n) {\r\n  return db.collection(COLLECTION_NAME).doc(memberAssignManagerId);\r\n}\r\n\r\nexport function addMemberAssignManagerToFirestore(memberAssignManager) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberAssignManager.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...memberAssignManager,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberAssignManagerToFirestore(memberAssignManager) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberAssignManager.id)\r\n    .update({\r\n      ...lo.omit(memberAssignManager, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberAssignManagerToFirestore,\r\n  fetchMemberAssignManagersFromFirestore,\r\n  updateMemberAssignManagerToFirestore,\r\n} from \"../../../app/firestore/memberAssignManagerService\";\r\n\r\nexport const MEMBER_ASSIGN_MANAGER_CREATE = \"memberAssignManager/create\";\r\nexport const MEMBER_ASSIGN_MANAGER_UPDATE = \"memberAssignManager/update\";\r\nexport const MEMBER_ASSIGN_MANAGERS_FETCH = \"memberAssignManager/fetch\";\r\nexport const MEMBER_ASSIGN_MANAGER_LISTEN = \"memberAssignManager/listen\";\r\nexport const MEMBER_ASSIGN_MANAGER_SELECTED = \"memberAssignManager/selected\";\r\n\r\nexport function selectMemberAssignManager(memberAssignManager) {\r\n  return {\r\n    type: MEMBER_ASSIGN_MANAGER_SELECTED,\r\n    payload: memberAssignManager,\r\n  };\r\n}\r\n\r\nexport function createMemberAssignManager(memberAssignManager) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberAssignManagerToFirestore(memberAssignManager);\r\n      dispatch({\r\n        type: MEMBER_ASSIGN_MANAGER_CREATE,\r\n        payload: memberAssignManager,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMemberAssignManager(memberAssignManager) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberAssignManagerToFirestore(memberAssignManager);\r\n      dispatch({\r\n        type: MEMBER_ASSIGN_MANAGER_UPDATE,\r\n        payload: memberAssignManager,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMemberAssignManagers(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMemberAssignManagersFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBER_ASSIGN_MANAGERS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  memberAssignManagers: [],\r\n  selectedMemberAssignManager: null,\r\n};\r\n\r\nexport default function memberAssignManagerReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case MEMBER_ASSIGN_MANAGER_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMemberAssignManager: payload,\r\n      };\r\n    case MEMBER_ASSIGN_MANAGER_CREATE:\r\n      return state;\r\n    case MEMBER_ASSIGN_MANAGER_UPDATE:\r\n      return state;\r\n    case MEMBER_ASSIGN_MANAGERS_FETCH:\r\n      return {\r\n        ...state,\r\n        memberAssignManagers: payload,\r\n      };\r\n    case MEMBER_ASSIGN_MANAGER_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMemberAssignManager: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member_hub_cost_sales\";\r\n\r\nexport function fetchMemberHubCostSalessFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberHubCostSalesFromFirestore(memberHubCostSalesId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberHubCostSalesId);\r\n}\r\n\r\nexport function addMemberHubCostSalesToFirestore(memberHubCostSales) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberHubCostSales.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...memberHubCostSales,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberHubCostSalesToFirestore(memberHubCostSales) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberHubCostSales.id)\r\n    .update({\r\n      ...lo.omit(memberHubCostSales, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberHubCostSalesToFirestore,\r\n  fetchMemberHubCostSalessFromFirestore,\r\n  updateMemberHubCostSalesToFirestore,\r\n} from \"../../../app/firestore/memberHubCostSalesService\";\r\n\r\nexport const MEMBERHUB_COST_SALES_CREATE = \"memberHubCostSales/create\";\r\nexport const MEMBERHUB_COST_SALES_UPDATE = \"memberHubCostSales/update\";\r\nexport const MEMBERHUB_COST_SALESS_FETCH = \"memberHubCostSales/fetch\";\r\nexport const MEMBERHUB_COST_SALES_LISTEN = \"memberHubCostSales/listen\";\r\nexport const MEMBERHUB_COST_SALES_SELECTED = \"memberHubCostSales/selected\";\r\n\r\nexport function selectMemberHubCostSales(memberHubCostSales) {\r\n  return {\r\n    type: MEMBERHUB_COST_SALES_SELECTED,\r\n    payload: memberHubCostSales,\r\n  };\r\n}\r\n\r\nexport function createMemberHubCostSales(memberHubCostSales) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberHubCostSalesToFirestore(memberHubCostSales);\r\n      dispatch({\r\n        type: MEMBERHUB_COST_SALES_CREATE,\r\n        payload: memberHubCostSales,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMemberHubCostSales(memberHubCostSales) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberHubCostSalesToFirestore(memberHubCostSales);\r\n      dispatch({\r\n        type: MEMBERHUB_COST_SALES_UPDATE,\r\n        payload: memberHubCostSales,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMemberHubCostSaless(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMemberHubCostSalessFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERHUB_COST_SALESS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param {*} memberHubCostSaless\r\n * @param {*} memberHubId\r\n * @param {*} memberRankId\r\n */\r\nexport function getCostAndSales(\r\n  memberHubCostSaless,\r\n  memberHubId,\r\n  memberRankId\r\n) {\r\n  const costs = memberHubCostSaless.filter(\r\n    (item) =>\r\n      item.hub === memberHubId &&\r\n      item.rank === memberRankId &&\r\n      item.cost_sales_kind === \"1\" &&\r\n      item.available === \"true\"\r\n  );\r\n  const saless = memberHubCostSaless.filter(\r\n    (item) =>\r\n      item.hub === memberHubId &&\r\n      item.rank === memberRankId &&\r\n      item.cost_sales_kind === \"2\" &&\r\n      item.available === \"true\"\r\n  );\r\n\r\n  const cost = costs.length > 0 ? parseInt(costs[0].cost_sales, 10) : 0;\r\n  const sales = saless.length > 0 ? parseInt(saless[0].cost_sales, 10) : 0;\r\n  return { cost, sales };\r\n}\r\n\r\nconst initialState = {\r\n  memberHubCostSaless: [],\r\n  selectedMemberHubCostSales: null,\r\n};\r\n\r\nexport default function memberHubCostSalesReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case MEMBERHUB_COST_SALES_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMemberHubCostSales: payload,\r\n      };\r\n    case MEMBERHUB_COST_SALES_CREATE:\r\n      return state;\r\n    case MEMBERHUB_COST_SALES_UPDATE:\r\n      return state;\r\n    case MEMBERHUB_COST_SALESS_FETCH:\r\n      return {\r\n        ...state,\r\n        memberHubCostSaless: payload,\r\n      };\r\n    case MEMBERHUB_COST_SALES_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMemberHubCostSales: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member_hub\";\r\n\r\nexport function fetchMemberHubsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberHubFromFirestore(memberHubId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberHubId);\r\n}\r\n\r\nexport function addMemberHubToFirestore(memberHub) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberHub.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...memberHub,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberHubToFirestore(memberHub) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberHub.id)\r\n    .update({\r\n      ...lo.omit(memberHub, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberHubToFirestore,\r\n  fetchMemberHubsFromFirestore,\r\n  updateMemberHubToFirestore,\r\n} from \"../../../app/firestore/memberHubService\";\r\n\r\nexport const MEMBERHUB_CREATE = \"memberHub/create\";\r\nexport const MEMBERHUB_UPDATE = \"memberHub/update\";\r\nexport const MEMBERHUBS_FETCH = \"memberHub/fetch\";\r\nexport const MEMBERHUB_LISTEN = \"memberHub/listen\";\r\nexport const MEMBERHUB_SELECTED = \"memberHub/selected\";\r\n\r\nexport function selectMemberHub(memberHub) {\r\n  return {\r\n    type: MEMBERHUB_SELECTED,\r\n    payload: memberHub,\r\n  };\r\n}\r\n\r\nexport function createMemberHub(memberHub) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberHubToFirestore(memberHub);\r\n      dispatch({\r\n        type: MEMBERHUB_CREATE,\r\n        payload: memberHub,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMemberHub(memberHub) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberHubToFirestore(memberHub);\r\n      dispatch({\r\n        type: MEMBERHUB_UPDATE,\r\n        payload: memberHub,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMemberHubs(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMemberHubsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERHUBS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  memberHubs: [],\r\n  selectedMemberHub: null,\r\n};\r\n\r\nexport default function memberHubReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case MEMBERHUB_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMemberHub: payload,\r\n      };\r\n    case MEMBERHUB_CREATE:\r\n      return state;\r\n    case MEMBERHUB_UPDATE:\r\n      return state;\r\n    case MEMBERHUBS_FETCH:\r\n      return {\r\n        ...state,\r\n        memberHubs: payload,\r\n      };\r\n    case MEMBERHUB_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMemberHub: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"member_rank\";\r\n\r\nexport function fetchMemberRanksFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromMemberRankFromFirestore(memberRankId) {\r\n  return db.collection(COLLECTION_NAME).doc(memberRankId);\r\n}\r\n\r\nexport function addMemberRankToFirestore(memberRank) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberRank.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...memberRank,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateMemberRankToFirestore(memberRank) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(memberRank.id)\r\n    .update({\r\n      ...lo.omit(memberRank, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addMemberRankToFirestore,\r\n  fetchMemberRanksFromFirestore,\r\n  updateMemberRankToFirestore,\r\n} from \"../../../app/firestore/memberRankService\";\r\n\r\nexport const MEMBERRANK_CREATE = \"memberRank/create\";\r\nexport const MEMBERRANK_UPDATE = \"memberRank/update\";\r\nexport const MEMBERRANKS_FETCH = \"memberRank/fetch\";\r\nexport const MEMBERRANK_LISTEN = \"memberRank/listen\";\r\nexport const MEMBERRANK_SELECTED = \"memberRank/selected\";\r\n\r\nexport function selectMemberRank(memberRank) {\r\n  return {\r\n    type: MEMBERRANK_SELECTED,\r\n    payload: memberRank,\r\n  };\r\n}\r\n\r\nexport function createMemberRank(memberRank) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addMemberRankToFirestore(memberRank);\r\n      dispatch({\r\n        type: MEMBERRANK_CREATE,\r\n        payload: memberRank,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateMemberRank(memberRank) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateMemberRankToFirestore(memberRank);\r\n      dispatch({\r\n        type: MEMBERRANK_UPDATE,\r\n        payload: memberRank,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchMemberRanks(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchMemberRanksFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: MEMBERRANKS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  memberRanks: [],\r\n  selectedMemberRank: null,\r\n};\r\n\r\nexport default function memberRankReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case MEMBERRANK_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedMemberRank: payload,\r\n      };\r\n    case MEMBERRANK_CREATE:\r\n      return state;\r\n    case MEMBERRANK_UPDATE:\r\n      return state;\r\n    case MEMBERRANKS_FETCH:\r\n      return {\r\n        ...state,\r\n        memberRanks: payload,\r\n      };\r\n    case MEMBERRANK_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedMemberRank: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const memberHubOptionsFactory = (memberHubs, available = \"true\") => {\r\n  return memberHubs\r\n    .filter((hub) => hub.available === available)\r\n    .map((hub) => ({\r\n      key: hub.id,\r\n      id: hub.id,\r\n      text: hub.name,\r\n      name: hub.name,\r\n      value: hub.id,\r\n    }));\r\n};\r\n","export const memberRankOptionsFactory = (memberRanks, available = \"true\") => {\r\n  return memberRanks\r\n    .filter((rank) => rank.available === available)\r\n    .map((rank) => ({\r\n      key: rank.id,\r\n      id: rank.id,\r\n      text: rank.name,\r\n      name: rank.name,\r\n      value: rank.id,\r\n    }));\r\n};\r\n","export const memberAffiliationOptionsFactory = (\r\n  memberAffiliations,\r\n  available = \"true\"\r\n) => {\r\n  return memberAffiliations\r\n    .filter((affiliation) => affiliation.available === available)\r\n    .map((affiliation) => ({\r\n      key: affiliation.id,\r\n      id: affiliation.id,\r\n      text: affiliation.name,\r\n      name: affiliation.name,\r\n      value: affiliation.id,\r\n    }));\r\n};\r\n","export const memberTagOptionsFactory = (\r\n  memberTags,\r\n  available = \"true\",\r\n  use_cost_sales = [\"true\", \"false\"]\r\n) => {\r\n  return memberTags\r\n    .filter(\r\n      (tag) =>\r\n        tag.available === available &&\r\n        use_cost_sales.includes(tag.use_cost_sales)\r\n    )\r\n    .map((tag) => ({\r\n      key: tag.id,\r\n      id: tag.id,\r\n      text: tag.name,\r\n      name: tag.name,\r\n      value: tag.id,\r\n    }));\r\n};\r\n","export const memberAssignManagerOptionsFactory = (\r\n  memberAssignManagers,\r\n  available = \"true\"\r\n) => {\r\n  return memberAssignManagers\r\n    .filter((assignManager) => assignManager.available === available)\r\n    .map((assignManager) => ({\r\n      key: assignManager.id,\r\n      id: assignManager.id,\r\n      text: assignManager.name,\r\n      name: assignManager.name,\r\n      value: assignManager.id,\r\n    }));\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberFromFirestore } from \"../../../app/firestore/memberService\";\r\nimport { createMember, selectMember, updateMember } from \"./memberReducer\";\r\nimport { memberHubOptionsFactory } from \"../../../app/options/memberHubOptionsFactory\";\r\nimport { memberRankOptionsFactory } from \"../../../app/options/memberRankOptionsFactory\";\r\nimport { memberAffiliationOptionsFactory } from \"../../../app/options/memberAffiliationOptionsFactory\";\r\nimport { memberTagOptionsFactory } from \"../../../app/options/memberTagOptionsFactory\";\r\nimport { getCostAndSales } from \"../memberHubCostSaless/memberHubCostSalesReducer\";\r\nimport { memberAssignManagerOptionsFactory } from \"../../../app/options/memberAssignManagerOptionsFactory\";\r\n\r\nexport default function MemberForm({\r\n  memberId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { memberTags } = useSelector((state) => state.memberTag);\r\n  const { memberAffiliations } = useSelector(\r\n    (state) => state.memberAffiliation\r\n  );\r\n  const { memberHubs } = useSelector((state) => state.memberHub);\r\n  const { memberRanks } = useSelector((state) => state.memberRank);\r\n  const { memberAssignManagers } = useSelector(\r\n    (state) => state.memberAssignManager\r\n  );\r\n  const { memberHubCostSaless } = useSelector(\r\n    (state) => state.memberHubCostSales\r\n  );\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMember } = useSelector((state) => state.member);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMember ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    tag: \"\",\r\n    affiliation: \"\",\r\n    hub: \"\",\r\n    rank: \"\",\r\n    cost: 0,\r\n    sales: 0,\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    tag: Yup.string().required(\"\"),\r\n    affiliation: Yup.string().required(\"\"),\r\n    hub: Yup.string().notRequired(),\r\n    rank: Yup.string().notRequired(),\r\n    assign_manager: Yup.string().notRequired(),\r\n    cost: Yup.number().required(\"\"),\r\n    sales: Yup.number().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberId,\r\n    query: () => loadFromMemberFromFirestore(memberId),\r\n    data: (item) => dispatch(selectMember(item)),\r\n    deps: [memberId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberId\r\n              ? dispatch(updateMember(values))\r\n              : dispatch(createMember(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/members\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({\r\n          isSubmitting,\r\n          dirty,\r\n          isValid,\r\n          resetForm,\r\n          setFieldValue,\r\n          values,\r\n        }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"tag\"\r\n              options={memberTagOptionsFactory(memberTags)}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"affiliation\"\r\n              options={memberAffiliationOptionsFactory(memberAffiliations)}\r\n              search\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"hub\"\r\n              options={memberHubOptionsFactory(memberHubs)}\r\n              clearable\r\n              onChange={(e) => {\r\n                // onChangeFormik\r\n                // e.target.id ID\r\n                setFieldValue(\"hub\", e.target.id);\r\n                // \r\n                const { cost, sales } = getCostAndSales(\r\n                  memberHubCostSaless,\r\n                  e.target.id,\r\n                  values.rank\r\n                );\r\n                setFieldValue(\"cost\", cost);\r\n                setFieldValue(\"sales\", sales);\r\n              }}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"rank\"\r\n              options={memberRankOptionsFactory(memberRanks)}\r\n              clearable\r\n              onChange={(e) => {\r\n                // onChangeFormik\r\n                // e.target.id ID\r\n                setFieldValue(\"rank\", e.target.id);\r\n                // \r\n                const { cost, sales } = getCostAndSales(\r\n                  memberHubCostSaless,\r\n                  values.hub,\r\n                  e.target.id\r\n                );\r\n                setFieldValue(\"cost\", cost);\r\n                setFieldValue(\"sales\", sales);\r\n              }}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"assign_manager\"\r\n              options={memberAssignManagerOptionsFactory(memberAssignManagers)}\r\n              search\r\n            />\r\n            <MyTextInput label=\"\" name=\"cost\" placeholder=\"\" />\r\n            <MyTextInput label=\"\" name=\"sales\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/members\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport { memberAffiliationOptionsFactory } from \"../../../app/options/memberAffiliationOptionsFactory\";\r\nimport { memberAssignManagerOptionsFactory } from \"../../../app/options/memberAssignManagerOptionsFactory\";\r\nimport { memberHubOptionsFactory } from \"../../../app/options/memberHubOptionsFactory\";\r\nimport { memberRankOptionsFactory } from \"../../../app/options/memberRankOptionsFactory\";\r\nimport { memberTagOptionsFactory } from \"../../../app/options/memberTagOptionsFactory\";\r\n\r\nconst columnsOptions = (\r\n  memberTags,\r\n  memberAffiliations,\r\n  memberHubs,\r\n  memberRanks,\r\n  memberAssignManagers\r\n) => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"120px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"tag\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberTagOptionsFactory(memberTags),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"affiliation\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberAffiliationOptionsFactory(memberAffiliations),\r\n      width: \"250px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"hub\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberHubOptionsFactory(memberHubs),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"rank\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberRankOptionsFactory(memberRanks),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"assign_manager\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberAssignManagerOptionsFactory(memberAssignManagers),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"cost\",\r\n      title: \"\",\r\n      type: \"numeric\",\r\n      width: \"120px\",\r\n      readOnly: true,\r\n      align: \"right\",\r\n      mask: \"[-]#,##\",\r\n    },\r\n    {\r\n      name: \"sales\",\r\n      title: \"\",\r\n      type: \"numeric\",\r\n      width: \"120px\",\r\n      readOnly: true,\r\n      align: \"right\",\r\n      mask: \"[-]#,##\",\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberList({ refresh }) {\r\n  const { memberTags } = useSelector((state) => state.memberTag);\r\n  const { memberAffiliations } = useSelector(\r\n    (state) => state.memberAffiliation\r\n  );\r\n  const { memberHubs } = useSelector((state) => state.memberHub);\r\n  const { memberRanks } = useSelector((state) => state.memberRank);\r\n  const { memberAssignManagers } = useSelector(\r\n    (state) => state.memberAssignManager\r\n  );\r\n  const { members } = useSelector((state) => state.member);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(\r\n      memberTags,\r\n      memberAffiliations,\r\n      memberHubs,\r\n      memberRanks,\r\n      memberAssignManagers\r\n    ),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={members} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchMemberAffiliations } from \"../memberAffiliations/memberAffiliationReducer\";\r\nimport { fetchMemberAssignManagers } from \"../memberAssignManagers/memberAssignManagerReducer\";\r\nimport { fetchMemberHubCostSaless } from \"../memberHubCostSaless/memberHubCostSalesReducer\";\r\nimport { fetchMemberHubs } from \"../memberHubs/memberHubReducer\";\r\nimport { fetchMemberRanks } from \"../memberRanks/memberRankReducer\";\r\nimport { fetchMemberTags } from \"../memberTags/memberTagReducer\";\r\nimport MemberForm from \"./MemberForm\";\r\nimport MemberList from \"./MemberList\";\r\nimport { fetchMembers } from \"./memberReducer\";\r\n\r\nexport default function MemberDashboard({ location }) {\r\n  const memberId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberTags(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberAffiliations(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberHubs(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberRanks(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberAssignManagers(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberHubCostSaless(currentPeriod.yearMonth));\r\n    dispatch(fetchMembers(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"very wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberForm\r\n              memberId={memberId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"acc_department\";\r\n\r\nexport function fetchAccDepartmentsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromAccDepartmentFromFirestore(accDepartmentId) {\r\n  return db.collection(COLLECTION_NAME).doc(accDepartmentId);\r\n}\r\n\r\nexport function addAccDepartmentToFirestore(accDepartment) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(accDepartment.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...accDepartment,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateAccDepartmentToFirestore(accDepartment) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(accDepartment.id)\r\n    .update({\r\n      ...lo.omit(accDepartment, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addAccDepartmentToFirestore,\r\n  fetchAccDepartmentsFromFirestore,\r\n  updateAccDepartmentToFirestore,\r\n} from \"../../../app/firestore/accDepartmentService\";\r\n\r\nexport const ACC_DEPARTMENT_CREATE = \"accDepartment/create\";\r\nexport const ACC_DEPARTMENT_UPDATE = \"accDepartment/update\";\r\nexport const ACC_DEPARTMENTS_FETCH = \"accDepartment/fetch\";\r\nexport const ACC_DEPARTMENT_LISTEN = \"accDepartment/listen\";\r\nexport const ACC_DEPARTMENT_SELECTED = \"accDepartment/selected\";\r\n\r\nexport function selectAccDepartment(accDepartment) {\r\n  return {\r\n    type: ACC_DEPARTMENT_SELECTED,\r\n    payload: accDepartment,\r\n  };\r\n}\r\n\r\nexport function createAccDepartment(accDepartment) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addAccDepartmentToFirestore(accDepartment);\r\n      dispatch({\r\n        type: ACC_DEPARTMENT_CREATE,\r\n        payload: accDepartment,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateAccDepartment(accDepartment) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateAccDepartmentToFirestore(accDepartment);\r\n      dispatch({\r\n        type: ACC_DEPARTMENT_UPDATE,\r\n        payload: accDepartment,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchAccDepartments(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchAccDepartmentsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: ACC_DEPARTMENTS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  accDepartments: [],\r\n  selectedAccDepartment: null,\r\n};\r\n\r\nexport default function accDepartmentReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case ACC_DEPARTMENT_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedAccDepartment: payload,\r\n      };\r\n    case ACC_DEPARTMENT_CREATE:\r\n      return state;\r\n    case ACC_DEPARTMENT_UPDATE:\r\n      return state;\r\n    case ACC_DEPARTMENTS_FETCH:\r\n      return {\r\n        ...state,\r\n        accDepartments: payload,\r\n      };\r\n    case ACC_DEPARTMENT_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedAccDepartment: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"acc_subject\";\r\n\r\nexport function fetchAccSubjectsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromAccSubjectFromFirestore(accSubjectId) {\r\n  return db.collection(COLLECTION_NAME).doc(accSubjectId);\r\n}\r\n\r\nexport function addAccSubjectToFirestore(accSubject) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(accSubject.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...accSubject,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updateAccSubjectToFirestore(accSubject) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(accSubject.id)\r\n    .update({\r\n      ...lo.omit(accSubject, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addAccSubjectToFirestore,\r\n  fetchAccSubjectsFromFirestore,\r\n  updateAccSubjectToFirestore,\r\n} from \"../../../app/firestore/accSubjectService\";\r\n\r\nexport const ACC_SUBJECT_CREATE = \"accSubject/create\";\r\nexport const ACC_SUBJECT_UPDATE = \"accSubject/update\";\r\nexport const ACC_SUBJECTS_FETCH = \"accSubject/fetch\";\r\nexport const ACC_SUBJECT_LISTEN = \"accSubject/listen\";\r\nexport const ACC_SUBJECT_SELECTED = \"accSubject/selected\";\r\n\r\nexport function selectAccSubject(accSubject) {\r\n  return {\r\n    type: ACC_SUBJECT_SELECTED,\r\n    payload: accSubject,\r\n  };\r\n}\r\n\r\nexport function createAccSubject(accSubject) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addAccSubjectToFirestore(accSubject);\r\n      dispatch({\r\n        type: ACC_SUBJECT_CREATE,\r\n        payload: accSubject,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateAccSubject(accSubject) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updateAccSubjectToFirestore(accSubject);\r\n      dispatch({\r\n        type: ACC_SUBJECT_UPDATE,\r\n        payload: accSubject,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchAccSubjects(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchAccSubjectsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: ACC_SUBJECTS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  accSubjects: [],\r\n  selectedAccSubject: null,\r\n};\r\n\r\nexport default function accSubjectReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case ACC_SUBJECT_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedAccSubject: payload,\r\n      };\r\n    case ACC_SUBJECT_CREATE:\r\n      return state;\r\n    case ACC_SUBJECT_UPDATE:\r\n      return state;\r\n    case ACC_SUBJECTS_FETCH:\r\n      return {\r\n        ...state,\r\n        accSubjects: payload,\r\n      };\r\n    case ACC_SUBJECT_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedAccSubject: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const clientOptionsFactory = (clients, available = \"true\") => {\r\n  return clients\r\n    .filter((client) => client.available === available)\r\n    .map((client) => ({\r\n      key: client.id,\r\n      id: client.id,\r\n      text: client.name,\r\n      name: client.name,\r\n      value: client.id,\r\n    }));\r\n};\r\n","export const accDepartmentOptionsFactory = (\r\n  accDepartments,\r\n  available = \"true\"\r\n) => {\r\n  return accDepartments\r\n    .filter((accDepartment) => accDepartment.available === available)\r\n    .map((accDepartment) => ({\r\n      key: accDepartment.id,\r\n      id: accDepartment.id,\r\n      text: accDepartment.name,\r\n      name: accDepartment.name,\r\n      value: accDepartment.id,\r\n    }));\r\n};\r\n","export const accSubjectOptionsFactory = (accSubjects, available = \"true\") => {\r\n  return accSubjects\r\n    .filter((accSubject) => accSubject.available === available)\r\n    .map((accSubject) => ({\r\n      key: accSubject.id,\r\n      id: accSubject.id,\r\n      text: accSubject.name,\r\n      name: accSubject.name,\r\n      value: accSubject.id,\r\n    }));\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromProjectFromFirestore } from \"../../../app/firestore/projectService\";\r\nimport { createProject, selectProject, updateProject } from \"./projectReducer\";\r\nimport { clientOptionsFactory } from \"../../../app/options/clientOptionsFactory\";\r\nimport { accDepartmentOptionsFactory } from \"../../../app/options/accDepartmentOptionsFactory\";\r\nimport { accSubjectOptionsFactory } from \"../../../app/options/accSubjectOptionsFactory\";\r\n\r\nexport default function ProjectForm({\r\n  projectId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { clients } = useSelector((state) => state.client);\r\n  const { accDepartments } = useSelector((state) => state.accDepartment);\r\n  const { accSubjects } = useSelector((state) => state.accSubject);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedProject } = useSelector((state) => state.project);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedProject ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    client: \"\",\r\n    accDepartment: \"\",\r\n    accSubject: \"\",\r\n    note: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    client: Yup.string().required(\"\"),\r\n    accDepartment: Yup.string().required(\"\"),\r\n    accSubject: Yup.string().notRequired(\"\"),\r\n    note: Yup.string().notRequired(),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!projectId,\r\n    query: () => loadFromProjectFromFirestore(projectId),\r\n    data: (item) => dispatch(selectProject(item)),\r\n    deps: [projectId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            projectId\r\n              ? dispatch(updateProject(values))\r\n              : dispatch(createProject(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/projects\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"client\"\r\n              options={clientOptionsFactory(clients)}\r\n              search\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"accDepartment\"\r\n              options={accDepartmentOptionsFactory(accDepartments)}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"accSubject\"\r\n              options={accSubjectOptionsFactory(accSubjects)}\r\n            />\r\n            <MyTextInput label=\"\" name=\"note\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/projects\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { accDepartmentOptionsFactory } from \"../../../app/options/accDepartmentOptionsFactory\";\r\nimport { accSubjectOptionsFactory } from \"../../../app/options/accSubjectOptionsFactory\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport { clientOptionsFactory } from \"../../../app/options/clientOptionsFactory\";\r\n\r\nconst columnsOptions = (clients, accDepartments, accSubjects) => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"client\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: clientOptionsFactory(clients),\r\n      width: \"250px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"accDepartment\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: accDepartmentOptionsFactory(accDepartments),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"accSubject\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: accSubjectOptionsFactory(accSubjects),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"note\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function ProjectList({ refresh }) {\r\n  const { clients } = useSelector((state) => state.client);\r\n  const { accDepartments } = useSelector((state) => state.accDepartment);\r\n  const { accSubjects } = useSelector((state) => state.accSubject);\r\n  const { projects } = useSelector((state) => state.project);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(clients, accDepartments, accSubjects),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={projects} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchAccDepartments } from \"../accDepartments/accDepartmentReducer\";\r\nimport { fetchAccSubjects } from \"../accSubjects/accSubjectReducer\";\r\nimport { fetchClients } from \"../clients/clientReducer\";\r\nimport ProjectForm from \"./ProjectForm\";\r\nimport ProjectList from \"./ProjectList\";\r\nimport { fetchProjects } from \"./projectReducer\";\r\n\r\nexport default function ProjectDashboard({ location }) {\r\n  const projectId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (projectId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [projectId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchClients(currentPeriod.yearMonth));\r\n    dispatch(fetchAccDepartments(currentPeriod.yearMonth));\r\n    dispatch(fetchAccSubjects(currentPeriod.yearMonth));\r\n    dispatch(fetchProjects(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"very wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <ProjectForm\r\n              projectId={projectId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <ProjectList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","export const useCostSalesOptions = [\r\n  {\r\n    key: \"true\",\r\n    id: \"true\",\r\n    text: \"\",\r\n    name: \"\",\r\n    value: \"true\",\r\n  },\r\n  {\r\n    key: \"false\",\r\n    id: \"false\",\r\n    text: \"\",\r\n    name: \"\",\r\n    value: \"false\",\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { useCostSalesOptions } from \"../../../app/options/useCostSalesOptions\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberTagFromFirestore } from \"../../../app/firestore/memberTagService\";\r\nimport {\r\n  createMemberTag,\r\n  selectMemberTag,\r\n  updateMemberTag,\r\n} from \"./memberTagReducer\";\r\n\r\nexport default function MemberTagForm({\r\n  memberTagId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMemberTag } = useSelector((state) => state.memberTag);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMemberTag ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    use_cost_sales: \"true\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    closing_year_month: Yup.string().required(\"\"),\r\n    name: Yup.string().required(\"\"),\r\n    use_cost_sales: Yup.string().required(\r\n      \"\"\r\n    ),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberTagId,\r\n    query: () => loadFromMemberTagFromFirestore(memberTagId),\r\n    data: (item) => dispatch(selectMemberTag(item)),\r\n    deps: [memberTagId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberTagId\r\n              ? dispatch(updateMemberTag(values))\r\n              : dispatch(createMemberTag(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/membertags\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"use_cost_sales\"\r\n              options={useCostSalesOptions}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/membertags\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { useCostSalesOptions } from \"../../../app/options/useCostSalesOptions\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"use_cost_sales\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: useCostSalesOptions,\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberTagList({ refresh }) {\r\n  const { memberTags } = useSelector((state) => state.memberTag);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={memberTags} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport MemberTagForm from \"./MemberTagForm\";\r\nimport MemberTagList from \"./MemberTagList\";\r\nimport { fetchMemberTags } from \"./memberTagReducer\";\r\n\r\nexport default function MemberTagDashboard({ location }) {\r\n  const memberTagId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberTagId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberTagId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberTags(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberTagForm\r\n              memberTagId={memberTagId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberTagList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberRankFromFirestore } from \"../../../app/firestore/memberRankService\";\r\nimport {\r\n  createMemberRank,\r\n  selectMemberRank,\r\n  updateMemberRank,\r\n} from \"./memberRankReducer\";\r\n\r\nexport default function MemberRankForm({\r\n  memberRankId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMemberRank } = useSelector((state) => state.memberRank);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMemberRank ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberRankId,\r\n    query: () => loadFromMemberRankFromFirestore(memberRankId),\r\n    data: (item) => dispatch(selectMemberRank(item)),\r\n    deps: [memberRankId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberRankId\r\n              ? dispatch(updateMemberRank(values))\r\n              : dispatch(createMemberRank(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/memberranks\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/memberranks\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberRankList({ refresh }) {\r\n  const { memberRanks } = useSelector((state) => state.memberRank);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={memberRanks} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport MemberRankForm from \"./MemberRankForm\";\r\nimport MemberRankList from \"./MemberRankList\";\r\nimport { fetchMemberRanks } from \"./memberRankReducer\";\r\n\r\nexport default function MemberRankDashboard({ location }) {\r\n  const memberRankId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberRankId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberRankId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberRanks(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberRankForm\r\n              memberRankId={memberRankId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberRankList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberAffiliationFromFirestore } from \"../../../app/firestore/memberAffiliationService\";\r\nimport {\r\n  createMemberAffiliation,\r\n  selectMemberAffiliation,\r\n  updateMemberAffiliation,\r\n} from \"./memberAffiliationReducer\";\r\n\r\nexport default function MemberAffiliationForm({\r\n  memberAffiliationId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMemberAffiliation } = useSelector(\r\n    (state) => state.memberAffiliation\r\n  );\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMemberAffiliation ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberAffiliationId,\r\n    query: () => loadFromMemberAffiliationFromFirestore(memberAffiliationId),\r\n    data: (item) => dispatch(selectMemberAffiliation(item)),\r\n    deps: [memberAffiliationId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberAffiliationId\r\n              ? dispatch(updateMemberAffiliation(values))\r\n              : dispatch(createMemberAffiliation(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/memberaffiliations\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/memberaffiliations\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"300px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberAffiliationList({ refresh }) {\r\n  const { memberAffiliations } = useSelector(\r\n    (state) => state.memberAffiliation\r\n  );\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={memberAffiliations} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport MemberAffiliationForm from \"./MemberAffiliationForm\";\r\nimport MemberAffiliationList from \"./MemberAffiliationList\";\r\nimport { fetchMemberAffiliations } from \"./memberAffiliationReducer\";\r\n\r\nexport default function MemberAffiliationDashboard({ location }) {\r\n  const memberAffiliationId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberAffiliationId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberAffiliationId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberAffiliations(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberAffiliationForm\r\n              memberAffiliationId={memberAffiliationId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberAffiliationList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberHubFromFirestore } from \"../../../app/firestore/memberHubService\";\r\nimport {\r\n  createMemberHub,\r\n  selectMemberHub,\r\n  updateMemberHub,\r\n} from \"./memberHubReducer\";\r\n\r\nexport default function MemberHubForm({\r\n  memberHubId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMemberHub } = useSelector((state) => state.memberHub);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMemberHub ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberHubId,\r\n    query: () => loadFromMemberHubFromFirestore(memberHubId),\r\n    data: (item) => dispatch(selectMemberHub(item)),\r\n    deps: [memberHubId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberHubId\r\n              ? dispatch(updateMemberHub(values))\r\n              : dispatch(createMemberHub(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/memberhubs\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/memberhubs\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberHubList({ refresh }) {\r\n  const { memberHubs } = useSelector((state) => state.memberHub);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={memberHubs} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport MemberHubForm from \"./MemberHubForm\";\r\nimport MemberHubList from \"./MemberHubList\";\r\nimport { fetchMemberHubs } from \"./memberHubReducer\";\r\n\r\nexport default function MemberHubDashboard({ location }) {\r\n  const memberHubId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberHubId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberHubId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberHubs(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberHubForm\r\n              memberHubId={memberHubId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberHubList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","export const hubCostSalesKindOptions = [\r\n  { key: \"1\", id: \"1\", text: \"\", name: \"\", value: \"1\" },\r\n  { key: \"2\", id: \"2\", text: \"\", name: \"\", value: \"2\" },\r\n];\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberHubCostSalesFromFirestore } from \"../../../app/firestore/memberHubCostSalesService\";\r\nimport {\r\n  createMemberHubCostSales,\r\n  selectMemberHubCostSales,\r\n  updateMemberHubCostSales,\r\n} from \"./memberHubCostSalesReducer\";\r\nimport { memberHubOptionsFactory } from \"../../../app/options/memberHubOptionsFactory\";\r\nimport { hubCostSalesKindOptions } from \"../../../app/options/hubCostSalesKindOptions\";\r\nimport { memberRankOptionsFactory } from \"../../../app/options/memberRankOptionsFactory\";\r\n\r\nexport default function MemberHubCostSalesForm({\r\n  memberHubCostSalesId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { memberHubs } = useSelector((state) => state.memberHub);\r\n  const { memberRanks } = useSelector((state) => state.memberRank);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMemberHubCostSales } = useSelector(\r\n    (state) => state.memberHubCostSales\r\n  );\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMemberHubCostSales ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    cost_sales_kind: \"\",\r\n    hub: \"\",\r\n    rank: \"\",\r\n    cost_sales: 0,\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    cost_sales_kind: Yup.string().required(\"\"),\r\n    hub: Yup.string().required(\"\"),\r\n    rank: Yup.string().required(\"\"),\r\n    cost_sales: Yup.number()\r\n      .required(\"\")\r\n      .typeError(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberHubCostSalesId,\r\n    query: () => loadFromMemberHubCostSalesFromFirestore(memberHubCostSalesId),\r\n    data: (item) => dispatch(selectMemberHubCostSales(item)),\r\n    deps: [memberHubCostSalesId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberHubCostSalesId\r\n              ? dispatch(updateMemberHubCostSales(values))\r\n              : dispatch(createMemberHubCostSales(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/memberhubcostsaless\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"cost_sales_kind\"\r\n              options={hubCostSalesKindOptions}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"hub\"\r\n              options={memberHubOptionsFactory(memberHubs)}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"rank\"\r\n              options={memberRankOptionsFactory(memberRanks)}\r\n            />\r\n            <MyTextInput label=\"\" name=\"cost_sales\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/memberhubcostsaless\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport { hubCostSalesKindOptions } from \"../../../app/options/hubCostSalesKindOptions\";\r\nimport { memberHubOptionsFactory } from \"../../../app/options/memberHubOptionsFactory\";\r\nimport { memberRankOptionsFactory } from \"../../../app/options/memberRankOptionsFactory\";\r\n\r\nconst columnsOptions = (memberHubs, memberRanks) => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"cost_sales_kind\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: hubCostSalesKindOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"hub\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberHubOptionsFactory(memberHubs),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"rank\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: memberRankOptionsFactory(memberRanks),\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"cost_sales\",\r\n      title: \"\",\r\n      type: \"numeric\",\r\n      width: \"120px\",\r\n      readOnly: true,\r\n      align: \"right\",\r\n      mask: \"[-]#,##\",\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberHubCostSalesList({ refresh }) {\r\n  const { memberHubs } = useSelector((state) => state.memberHub);\r\n  const { memberRanks } = useSelector((state) => state.memberRank);\r\n  const { memberHubCostSaless } = useSelector(\r\n    (state) => state.memberHubCostSales\r\n  );\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(memberHubs, memberRanks),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={memberHubCostSaless} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchMemberHubs } from \"../memberHubs/memberHubReducer\";\r\nimport { fetchMemberRanks } from \"../memberRanks/memberRankReducer\";\r\nimport MemberHubCostSalesForm from \"./MemberHubCostSalesForm\";\r\nimport MemberHubCostSalesList from \"./MemberHubCostSalesList\";\r\nimport { fetchMemberHubCostSaless } from \"./memberHubCostSalesReducer\";\r\n\r\nexport default function MemberHubCostSalesDashboard({ location }) {\r\n  const memberHubCostSalesId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberHubCostSalesId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberHubCostSalesId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberHubs(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberRanks(currentPeriod.yearMonth));\r\n    dispatch(fetchMemberHubCostSaless(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberHubCostSalesForm\r\n              memberHubCostSalesId={memberHubCostSalesId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberHubCostSalesList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromAccDepartmentFromFirestore } from \"../../../app/firestore/accDepartmentService\";\r\nimport {\r\n  createAccDepartment,\r\n  selectAccDepartment,\r\n  updateAccDepartment,\r\n} from \"./accDepartmentReducer\";\r\n\r\nexport default function AccDepartmentForm({\r\n  accDepartmentId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedAccDepartment } = useSelector((state) => state.accDepartment);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedAccDepartment ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!accDepartmentId,\r\n    query: () => loadFromAccDepartmentFromFirestore(accDepartmentId),\r\n    data: (item) => dispatch(selectAccDepartment(item)),\r\n    deps: [accDepartmentId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            accDepartmentId\r\n              ? dispatch(updateAccDepartment(values))\r\n              : dispatch(createAccDepartment(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/accdepartments\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/accdepartments\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function AccDepartmentList({ refresh }) {\r\n  const { accDepartments } = useSelector((state) => state.accDepartment);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={accDepartments} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchMemberTags } from \"../memberTags/memberTagReducer\";\r\nimport AccDepartmentForm from \"./AccDepartmentForm\";\r\nimport AccDepartmentList from \"./AccDepartmentList\";\r\nimport { fetchAccDepartments } from \"./accDepartmentReducer\";\r\n\r\nexport default function AccDepartmentDashboard({ location }) {\r\n  const accDepartmentkId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (accDepartmentkId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [accDepartmentkId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberTags(currentPeriod.yearMonth));\r\n    dispatch(fetchAccDepartments(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <AccDepartmentForm\r\n              accDepartmentkId={accDepartmentkId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <AccDepartmentList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","export const canInputSalesOptions = [\r\n  { key: \"true\", id: \"true\", text: \"\", name: \"\", value: \"true\" },\r\n  {\r\n    key: \"false\",\r\n    id: \"false\",\r\n    text: \"\",\r\n    name: \"\",\r\n    value: \"false\",\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromAccSubjectFromFirestore } from \"../../../app/firestore/accSubjectService\";\r\nimport {\r\n  createAccSubject,\r\n  selectAccSubject,\r\n  updateAccSubject,\r\n} from \"./accSubjectReducer\";\r\nimport { canInputSalesOptions } from \"../../../app/options/canInputSalesOptions\";\r\n\r\nexport default function AccSubjectForm({\r\n  accSubjectId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedAccSubject } = useSelector((state) => state.accSubject);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedAccSubject ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    can_input_sales: \"true\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    can_input_sales: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!accSubjectId,\r\n    query: () => loadFromAccSubjectFromFirestore(accSubjectId),\r\n    data: (item) => dispatch(selectAccSubject(item)),\r\n    deps: [accSubjectId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            accSubjectId\r\n              ? dispatch(updateAccSubject(values))\r\n              : dispatch(createAccSubject(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/accsubjects\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"can_input_sales\"\r\n              options={canInputSalesOptions}\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/accsubjects\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport { canInputSalesOptions } from \"../../../app/options/canInputSalesOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"can_input_sales\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: canInputSalesOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function AccDepartmentList({ refresh }) {\r\n  const { accSubjects } = useSelector((state) => state.accSubject);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={accSubjects} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport { fetchMemberTags } from \"../memberTags/memberTagReducer\";\r\nimport AccSubjectForm from \"./AccSubjectForm\";\r\nimport AccSubjectList from \"./AccSubjectList\";\r\nimport { fetchAccSubjects } from \"./accSubjectReducer\";\r\n\r\nexport default function AccSubjectDashboard({ location }) {\r\n  const accSubjectId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (accSubjectId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [accSubjectId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberTags(currentPeriod.yearMonth));\r\n    dispatch(fetchAccSubjects(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <AccSubjectForm\r\n              accSubjectId={accSubjectId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <AccSubjectList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromMemberAssignManagerFromFirestore } from \"../../../app/firestore/memberAssignManagerService\";\r\nimport {\r\n  createMemberAssignManager,\r\n  selectMemberAssignManager,\r\n  updateMemberAssignManager,\r\n} from \"./memberAssignManagerReducer\";\r\n\r\nexport default function MemberAssignManagerForm({\r\n  memberAssignManagerId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedMemberAssignManager } = useSelector(\r\n    (state) => state.memberAssignManager\r\n  );\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedMemberAssignManager ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!memberAssignManagerId,\r\n    query: () =>\r\n      loadFromMemberAssignManagerFromFirestore(memberAssignManagerId),\r\n    data: (item) => dispatch(selectMemberAssignManager(item)),\r\n    deps: [memberAssignManagerId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}>\r\n          \r\n        </Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            memberAssignManagerId\r\n              ? dispatch(updateMemberAssignManager(values))\r\n              : dispatch(createMemberAssignManager(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/memberassignmanagers\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput\r\n              label=\"\"\r\n              name=\"name\"\r\n              placeholder=\"\"\r\n            />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/memberassignmanagers\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function MemberAssignManagerList({ refresh }) {\r\n  const { memberAssignManagers } = useSelector(\r\n    (state) => state.memberAssignManager\r\n  );\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={memberAssignManagers} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport MemberAssignManagerForm from \"./MemberAssignManagerForm\";\r\nimport MemberAssignManagerList from \"./MemberAssignManagerList\";\r\nimport { fetchMemberAssignManagers } from \"./memberAssignManagerReducer\";\r\n\r\nexport default function MemberAssignManagerDashboard({ location }) {\r\n  const memberAssignManagerId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (memberAssignManagerId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [memberAssignManagerId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchMemberAssignManagers(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <MemberAssignManagerForm\r\n              memberAssignManagerId={memberAssignManagerId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}>\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <MemberAssignManagerList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { useField } from \"formik\";\nimport { FormField, Label } from \"semantic-ui-react\";\n\nexport default function MyTextArea({ label, ...props }) {\n  const [field, meta] = useField(props);\n\n  return (\n    <FormField error={meta.touched && !!meta.error}>\n      <label>{label}</label>\n      <textarea {...field} {...props} />\n      {meta.touched && meta.error ? (\n        <Label pointing color='red'>\n          {meta.error}\n        </Label>\n      ) : null}\n    </FormField>\n  );\n}\n","import cuid from \"cuid\";\r\nimport lo from \"lodash\";\r\nimport firebase from \"../config/firebase\";\r\n\r\nconst db = firebase.firestore();\r\nconst COLLECTION_NAME = \"precision\";\r\n\r\nexport function fetchPrecisionsFromFirestore(yyyyMM) {\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .where(\"closing_year_month\", \"==\", yyyyMM)\r\n    .orderBy(\"created_at\", \"asc\");\r\n}\r\n\r\nexport function loadFromPrecisionFromFirestore(precisionId) {\r\n  return db.collection(COLLECTION_NAME).doc(precisionId);\r\n}\r\n\r\nexport function addPrecisionToFirestore(precision) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(precision.closing_year_month + \"-\" + cuid())\r\n    .set({\r\n      ...precision,\r\n      created_at: now,\r\n      created_user: user.email,\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n\r\nexport function updatePrecisionToFirestore(precision) {\r\n  const user = firebase.auth().currentUser;\r\n  const now = firebase.firestore.FieldValue.serverTimestamp();\r\n  return db\r\n    .collection(COLLECTION_NAME)\r\n    .doc(precision.id)\r\n    .update({\r\n      ...lo.omit(precision, \"id\"),\r\n      updated_at: now,\r\n      updated_user: user.email,\r\n    });\r\n}\r\n","import {\r\n  asyncActionError,\r\n  asyncActionFinish,\r\n  asyncActionStart,\r\n} from \"../../../app/async/asyncReducer\";\r\nimport { dataFromSnapshot } from \"../../../app/firestore/firestoreService\";\r\nimport {\r\n  addPrecisionToFirestore,\r\n  fetchPrecisionsFromFirestore,\r\n  updatePrecisionToFirestore,\r\n} from \"../../../app/firestore/precisionService\";\r\n\r\nexport const PRECISION_CREATE = \"precision/create\";\r\nexport const PRECISION_UPDATE = \"precision/update\";\r\nexport const PRECISIONS_FETCH = \"precision/fetch\";\r\nexport const PRECISION_LISTEN = \"precision/listen\";\r\nexport const PRECISION_SELECTED = \"precision/selected\";\r\n\r\nexport function selectPrecision(precision) {\r\n  return {\r\n    type: PRECISION_SELECTED,\r\n    payload: precision,\r\n  };\r\n}\r\n\r\nexport function createPrecision(precision) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await addPrecisionToFirestore(precision);\r\n      dispatch({\r\n        type: PRECISION_CREATE,\r\n        payload: precision,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function updatePrecision(precision) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      await updatePrecisionToFirestore(precision);\r\n      dispatch({\r\n        type: PRECISION_UPDATE,\r\n        payload: precision,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nexport function fetchPrecisions(yyyyMM) {\r\n  return async function (dispatch) {\r\n    try {\r\n      dispatch(asyncActionStart());\r\n      const snapshot = fetchPrecisionsFromFirestore(yyyyMM).get();\r\n      const data = (await snapshot).docs.map((doc) => {\r\n        const ret = dataFromSnapshot(doc);\r\n        const href = `<a href=\"#${ret.id}\"></a>`;\r\n        return { href, ...ret };\r\n      });\r\n      dispatch({\r\n        type: PRECISIONS_FETCH,\r\n        payload: data,\r\n      });\r\n      dispatch(asyncActionFinish());\r\n      return data;\r\n    } catch (error) {\r\n      dispatch(asyncActionError(error));\r\n    }\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  precisions: [],\r\n  selectedPrecision: null,\r\n};\r\n\r\nexport default function precisionReducer(\r\n  state = initialState,\r\n  { type, payload }\r\n) {\r\n  switch (type) {\r\n    case PRECISION_SELECTED:\r\n      return {\r\n        ...state,\r\n        selectedPrecision: payload,\r\n      };\r\n    case PRECISION_CREATE:\r\n      return state;\r\n    case PRECISION_UPDATE:\r\n      return state;\r\n    case PRECISIONS_FETCH:\r\n      return {\r\n        ...state,\r\n        precisions: payload,\r\n      };\r\n    case PRECISION_LISTEN:\r\n      return {\r\n        ...state,\r\n        selectedPrecision: payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { Button, Menu } from \"semantic-ui-react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MyTextArea from \"../../../app/common/form/MyTextArea\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport useFirestoreDoc from \"../../../app/hooks/useFirestoreDoc\";\r\nimport { loadFromPrecisionFromFirestore } from \"../../../app/firestore/precisionService\";\r\nimport {\r\n  createPrecision,\r\n  selectPrecision,\r\n  updatePrecision,\r\n} from \"./precisionReducer\";\r\nimport { canInputSalesOptions } from \"../../../app/options/canInputSalesOptions\";\r\n\r\nexport default function PrecisionForm({\r\n  precisionId,\r\n  setVisibleDetail,\r\n  handleRefresh,\r\n}) {\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const { selectedPrecision } = useSelector((state) => state.precision);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialValues = selectedPrecision ?? {\r\n    closing_year_month: currentPeriod.yearMonth,\r\n    name: \"\",\r\n    color: \"#ffffff\",\r\n    can_input_sales: \"true\",\r\n    note: \"\",\r\n    available: \"true\",\r\n  };\r\n\r\n  const validationSchema = Yup.object({\r\n    name: Yup.string().required(\"\"),\r\n    color: Yup.string().required(\"\"),\r\n    can_input_sales: Yup.string().required(\"\"),\r\n    note: Yup.string().notRequired(),\r\n    available: Yup.string().required(\"\"),\r\n  });\r\n\r\n  useFirestoreDoc({\r\n    shouldExecute: !!precisionId,\r\n    query: () => loadFromPrecisionFromFirestore(precisionId),\r\n    data: (item) => dispatch(selectPrecision(item)),\r\n    deps: [precisionId, dispatch],\r\n  });\r\n\r\n  if (loading) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu secondary className=\"jmenu\">\r\n        <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n      </Menu>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        validateOnBlur={false}\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={async (values, { setSubmitting }) => {\r\n          try {\r\n            setSubmitting(true);\r\n            precisionId\r\n              ? dispatch(updatePrecision(values))\r\n              : dispatch(createPrecision(values));\r\n            setVisibleDetail(false);\r\n            history.push(\"/precisions\");\r\n            handleRefresh();\r\n          } catch (error) {\r\n            toast.error(error.message);\r\n          } finally {\r\n            setSubmitting(false);\r\n          }\r\n        }}>\r\n        {({ isSubmitting, dirty, isValid, resetForm }) => (\r\n          <Form className=\"ui form\">\r\n            <input type=\"hidden\" name=\"id\" />\r\n            <input type=\"hidden\" name=\"closing_year_month\" />\r\n            <MyTextInput label=\"\" name=\"name\" placeholder=\"\" />\r\n            <MyTextInput label=\"\" name=\"color\" placeholder=\"\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"can_input_sales\"\r\n              options={canInputSalesOptions}\r\n            />\r\n            <MyTextArea label=\"\" name=\"note\" placeholder=\"\" rows=\"5\" />\r\n            <MySelectInput\r\n              label=\"\"\r\n              name=\"available\"\r\n              options={availableOptions}\r\n            />\r\n\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              type=\"submit\"\r\n              positive\r\n              content=\"\"\r\n            />\r\n            <Button\r\n              negative\r\n              content=\"\"\r\n              as={Link}\r\n              to=\"/precisions\"\r\n              onClick={() => {\r\n                setVisibleDetail(false);\r\n                resetForm();\r\n              }}\r\n            />\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { availableOptions } from \"../../../app/options/availableOptions\";\r\nimport { canInputSalesOptions } from \"../../../app/options/canInputSalesOptions\";\r\n\r\nconst columnsOptions = () => {\r\n  return [\r\n    {\r\n      name: \"href\",\r\n      title: \"\",\r\n      type: \"html\",\r\n      width: \"100px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"name\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"200px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"color\",\r\n      title: \"\",\r\n      type: \"color\",\r\n      width: \"100px\",\r\n      render: \"square\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"can_input_sales\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: canInputSalesOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"note\",\r\n      title: \"\",\r\n      type: \"text\",\r\n      width: \"500px\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"available\",\r\n      title: \"\",\r\n      type: \"dropdown\",\r\n      source: availableOptions,\r\n      width: \"140px\",\r\n      readOnly: true,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      name: \"created_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"created_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_at\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"updated_user\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"id\",\r\n      title: \"ID\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n    {\r\n      name: \"closing_year_month\",\r\n      title: \"\",\r\n      type: \"hidden\",\r\n      width: \"0\",\r\n      readOnly: true,\r\n    },\r\n  ];\r\n};\r\n\r\nexport default columnsOptions;\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport SpreadSheet from \"../../../app/common/form/SpreadSheet\";\r\nimport columnsOptions from \"./columnsOptions\";\r\n\r\nexport default function PrecisionList({ refresh }) {\r\n  const { precisions } = useSelector((state) => state.precision);\r\n\r\n  const options = useRef({\r\n    columns: columnsOptions(),\r\n  });\r\n\r\n  return <SpreadSheet options={options} data={precisions} />;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Icon, Menu, Sidebar } from \"semantic-ui-react\";\r\nimport NowLoading from \"../../../app/common/utils/NowLoading\";\r\nimport PrecisionForm from \"./PrecisionForm\";\r\nimport PrecisionList from \"./PrecisionList\";\r\nimport { fetchPrecisions } from \"./precisionReducer\";\r\n\r\nexport default function PrecisionDashboard({ location }) {\r\n  const precisionId = location.hash?.replace(\"#\", \"\");\r\n  const [visibleDetail, setVisibleDetail] = useState(false);\r\n  const { currentPeriod } = useSelector((state) => state.period);\r\n  const dispatch = useDispatch();\r\n  const [refresh, setRefresh] = useState(0);\r\n  const { loading, error } = useSelector((state) => state.async);\r\n\r\n  useEffect(() => {\r\n    if (precisionId) {\r\n      setVisibleDetail(true);\r\n    }\r\n  }, [precisionId]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPrecisions(currentPeriod.yearMonth));\r\n  }, [currentPeriod.yearMonth, dispatch, refresh]);\r\n\r\n  const handleRefresh = () => {\r\n    setRefresh(refresh + 1);\r\n  };\r\n\r\n  if (loading && !visibleDetail) {\r\n    return <NowLoading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Redirect to=\"/error\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Sidebar.Pushable>\r\n        <Sidebar\r\n          width=\"wide\"\r\n          as={Menu}\r\n          animation=\"overlay\"\r\n          direction=\"right\"\r\n          vertical\r\n          visible={visibleDetail}>\r\n          <Menu.Item>\r\n            <PrecisionForm\r\n              precisionId={precisionId}\r\n              setVisibleDetail={setVisibleDetail}\r\n              handleRefresh={handleRefresh}\r\n            />\r\n          </Menu.Item>\r\n        </Sidebar>\r\n\r\n        <Sidebar.Pusher className=\"jpusher\" dimmed={visibleDetail}>\r\n          <Menu secondary className=\"jmenu\">\r\n            <Menu.Item className={\"secondary_toolbar_title\"}></Menu.Item>\r\n            <Menu.Item\r\n              onClick={() => {\r\n                handleRefresh();\r\n              }}>\r\n              <Icon name=\"refresh\" />\r\n              \r\n            </Menu.Item>\r\n            <Menu.Item onClick={() => setVisibleDetail(!visibleDetail)}>\r\n              <Icon name=\"edit\" />\r\n              \r\n            </Menu.Item>\r\n          </Menu>\r\n          <PrecisionList refresh={refresh} />\r\n        </Sidebar.Pusher>\r\n      </Sidebar.Pushable>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport { Container } from \"semantic-ui-react\";\nimport ModalManager from \"../common/modals/ModalManager\";\nimport NowLoading from \"../common/utils/NowLoading\";\nimport ErrorComponent from \"../common/errors/ErrorComponent\";\nimport AuthContainer from \"../../features/auth/AuthContainer\";\nimport HomePage from \"../../features/home/HomePage\";\nimport NavBar from \"../../features/nav/NavBar\";\nimport Dashboard from \"../../features/dashboard/Dashboard\";\nimport ProfilePage from \"../../features/profiles/profilePage/ProfilePage\";\nimport AssignDashboard from \"../../features/assign/AssignDashboard\";\nimport ClientDashboard from \"../../features/master/clients/ClientDashboard\";\nimport MemberDashboard from \"../../features/master/members/MemberDashboard\";\nimport ProjectDashboard from \"../../features/master/projects/ProjectDashboard\";\nimport MemberTagDashboard from \"../../features/master/memberTags/MemberTagDashboard\";\nimport MemberRankDashboard from \"../../features/master/memberRanks/MemberRankDashboard\";\nimport MemberAffiliationDashboard from \"../../features/master/memberAffiliations/MemberAffiliationDashboard\";\nimport MemberHubDashboard from \"../../features/master/memberHubs/MemberHubDashboard\";\nimport MemberHubCostSalesDashboard from \"../../features/master/memberHubCostSaless/MemberHubCostSalesDashboard\";\nimport AccDepartmentDashboard from \"../../features/master/accDepartments/AccDepartmentDashboard\";\nimport AccSubjectDashboard from \"../../features/master/accSubjects/AccSubjectDashboard\";\nimport MemberAssignManagerDashboard from \"../../features/master/memberAssignManagers/MemberAssignManagerDashboard\";\nimport PrecisionDashboard from \"../../features/master/precisions/PrecisionDashboard\";\n\nfunction App() {\n  const { initialized } = useSelector((state) => state.async);\n\n  if (!initialized) {\n    return <NowLoading content=\"Loading Application...\" />;\n  }\n\n  return (\n    <>\n      <ModalManager />\n      <ToastContainer position=\"bottom-right\" hideProgressBar />\n      <Route exact path=\"/\" component={HomePage} />\n      <Route\n        path={\"/(.+)\"}\n        render={() => (\n          <AuthContainer>\n            <NavBar />\n            <Container className=\"wide\">\n              <Route exact path=\"/error\" component={ErrorComponent} />\n              <Route exact path=\"/dashboard\" component={Dashboard} />\n              <Route path=\"/assign/:month\" component={AssignDashboard} />\n              <Route exact path=\"/profile\" component={ProfilePage} />\n              <Route exact path=\"/clients\" component={ClientDashboard} />\n              <Route exact path=\"/members\" component={MemberDashboard} />\n              <Route exact path=\"/projects\" component={ProjectDashboard} />\n              <Route exact path=\"/membertags\" component={MemberTagDashboard} />\n              <Route\n                exact\n                path=\"/memberranks\"\n                component={MemberRankDashboard}\n              />\n              <Route\n                exact\n                path=\"/memberassignmanagers\"\n                component={MemberAssignManagerDashboard}\n              />\n              <Route\n                exact\n                path=\"/memberaffiliations\"\n                component={MemberAffiliationDashboard}\n              />\n              <Route exact path=\"/memberhubs\" component={MemberHubDashboard} />\n              <Route\n                exact\n                path=\"/memberhubcostsaless\"\n                component={MemberHubCostSalesDashboard}\n              />\n              <Route\n                exact\n                path=\"/accdepartments\"\n                component={AccDepartmentDashboard}\n              />\n              <Route\n                exact\n                path=\"/accsubjects\"\n                component={AccSubjectDashboard}\n              />\n              <Route exact path=\"/precisions\" component={PrecisionDashboard} />\n            </Container>\n          </AuthContainer>\n        )}\n      />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { SIGN_IN_USER, SIGN_OUT_USER } from \"./authConstants\";\r\n\r\nconst initialState = {\r\n  authenticated: false,\r\n  currentUser: {\r\n    email: \"\",\r\n    photoURL: \"/assets/user.png\",\r\n  },\r\n};\r\n\r\nexport default function authReducer(state = initialState, { type, payload }) {\r\n  switch (type) {\r\n    case SIGN_IN_USER:\r\n      return {\r\n        ...state,\r\n        authenticated: true,\r\n        currentUser: {\r\n          email: payload.email,\r\n          photoURL: \"/assets/user.png\",\r\n        },\r\n      };\r\n    case SIGN_OUT_USER:\r\n      return {\r\n        ...state,\r\n        authenticated: false,\r\n        currentUser: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"../../features/auth/authReducer\";\r\nimport accDepartmentReducer from \"../../features/master/accDepartments/accDepartmentReducer\";\r\nimport accSubjectReducer from \"../../features/master/accSubjects/accSubjectReducer\";\r\nimport clientReducer from \"../../features/master/clients/clientReducer\";\r\nimport memberAffiliationReducer from \"../../features/master/memberAffiliations/memberAffiliationReducer\";\r\nimport memberAssignManagerReducer from \"../../features/master/memberAssignManagers/memberAssignManagerReducer\";\r\nimport memberHubCostSalesReducer from \"../../features/master/memberHubCostSaless/memberHubCostSalesReducer\";\r\nimport memberHubReducer from \"../../features/master/memberHubs/memberHubReducer\";\r\nimport memberRankReducer from \"../../features/master/memberRanks/memberRankReducer\";\r\nimport memberReducer from \"../../features/master/members/memberReducer\";\r\nimport memberTagReducer from \"../../features/master/memberTags/memberTagReducer\";\r\nimport precisionReducer from \"../../features/master/precisions/precisionReducer\";\r\nimport projectReducer from \"../../features/master/projects/projectReducer\";\r\nimport periodReducer from \"../../features/period/periodReducer\";\r\nimport asyncReducer from \"../async/asyncReducer\";\r\nimport modalReducer from \"../common/modals/modalReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  modals: modalReducer,\r\n  auth: authReducer,\r\n  async: asyncReducer,\r\n  period: periodReducer,\r\n  member: memberReducer,\r\n  memberTag: memberTagReducer,\r\n  memberRank: memberRankReducer,\r\n  memberAssignManager: memberAssignManagerReducer,\r\n  memberAffiliation: memberAffiliationReducer,\r\n  memberHub: memberHubReducer,\r\n  memberHubCostSales: memberHubCostSalesReducer,\r\n  accDepartment: accDepartmentReducer,\r\n  accSubject: accSubjectReducer,\r\n  precision: precisionReducer,\r\n  client: clientReducer,\r\n  project: projectReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","export const SIGN_IN_USER = \"auth/sign_in_user\";\r\nexport const SIGN_OUT_USER = \"auth/sign_out_user\";\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"./app/layout/styles.css\";\r\nimport App from \"./app/layout/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { configureStore } from \"./app/store/configureStore\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nconst store = configureStore();\r\n\r\nconst render = () => {\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </Provider>,\r\n    document.getElementById(\"root\")\r\n  );\r\n};\r\n\r\nif (module.hot) {\r\n  module.hot.accept(\"./app/layout/App\", function () {\r\n    setTimeout(render);\r\n  });\r\n}\r\n\r\nrender();\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import { applyMiddleware, createStore } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport { verifyAuth } from \"../../features/auth/authAction\";\r\nimport { latestPeriod } from \"../../features/period/periodReducer\";\r\nimport rootReducer from \"./rootReducer\";\r\n\r\nexport function configureStore() {\r\n  const store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n  );\r\n  store.dispatch(verifyAuth());\r\n  store.dispatch(latestPeriod());\r\n  return store;\r\n}\r\n","import firebase from \"../../app/config/firebase\";\r\nimport { SIGN_IN_USER, SIGN_OUT_USER } from \"./authConstants\";\r\nimport { APP_LOADED } from \"../../app/async/asyncReducer\";\r\n\r\nexport function signInUser(payload) {\r\n  return {\r\n    type: SIGN_IN_USER,\r\n    payload,\r\n  };\r\n}\r\n\r\nexport function signOutUser(payload) {\r\n  return {\r\n    type: SIGN_OUT_USER,\r\n    payload,\r\n  };\r\n}\r\n\r\nexport function verifyAuth() {\r\n  return function (dispatch) {\r\n    return firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        dispatch(signInUser(user));\r\n      } else {\r\n        dispatch(signOutUser());\r\n      }\r\n      dispatch({ type: APP_LOADED });\r\n    });\r\n  };\r\n}\r\n"],"sourceRoot":""}