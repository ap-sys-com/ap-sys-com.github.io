(this["webpackJsonpforecast-assign-mock"]=this["webpackJsonpforecast-assign-mock"]||[]).push([[0],{200:function(e,t,a){e.exports=a(229)},206:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),i=a.n(c),l=(a(205),a(206),a(25)),o=a(2),u=a(19),s=(a(210),a(244)),m=a(3),d=a.n(m),p=a(7),b=a(121),f=a(231),h=a(14),y=a(10),v=a(13),g=a(108),_=a(251);function E(e){var t=e.label,a=Object(g.a)(e,["label"]),n=Object(h.c)(a),c=Object(v.a)(n,2),i=c[0],l=c[1];return r.a.createElement(_.a,{error:l.touched&&!!l.error},r.a.createElement("label",null,t),r.a.createElement("input",Object.assign({},i,a)),l.touched&&l.error?r.a.createElement(b.a,{pointing:!0,color:"red"},l.error):null)}var O=a(164),j=a.n(O);a(215),a(218),a(220),a(230);j.a.initializeApp({apiKey:"AIzaSyDZ04kYbwSRlCebBOrF_7VlCFauBSaR5_o",authDomain:"system-forecast.firebaseapp.com",databaseURL:"https://system-forecast.firebaseio.com",projectId:"system-forecast",storageBucket:"system-forecast.appspot.com",messagingSenderId:"300878264992",appId:"1:300878264992:web:2c36eb34294ca6ed2b27c5"}),j.a.firestore();var w=j.a;function x(){return w.auth().signOut()}var k=a(248);function C(e){var t=e.children,a=e.size,n=e.header,c=Object(o.b)();return r.a.createElement(k.a,{open:!0,onClose:function(){return c({type:"modal/close"})},size:a},n&&r.a.createElement(k.a.Header,null,n),r.a.createElement(k.a.Content,null,t))}function S(){var e=Object(l.f)();return r.a.createElement(C,{size:"mini",header:"\u30d5\u30a9\u30fc\u30ad\u30e3\u30b9\u30c8\u306b\u30b5\u30a4\u30f3\u30a4\u30f3"},r.a.createElement(h.b,{onSubmit:function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,c=n.setErrors,r(!0),t.prev=2,t.next=5,i=a,w.auth().signInWithEmailAndPassword(i.email,i.password);case 5:e.push("/dashboard"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),c({auth:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3001\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9593\u9055\u3063\u3066\u3044\u307e\u3059"});case 11:return t.prev=11,r(!1),t.finish(11);case 14:case"end":return t.stop()}var i}),t,null,[[2,8,11,14]])})));return function(e,a){return t.apply(this,arguments)}}(),initialValues:{email:"",password:""},validationSchema:y.b({email:y.c().required("Email Address \u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044").email("Email \u5f62\u5f0f\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),password:y.c().required("\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")})},(function(e){var t=e.isSubmitting,a=e.dirty,n=e.isValid,c=e.errors;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement(E,{name:"email",placeholder:"Email Address"}),r.a.createElement(E,{name:"password",placeholder:"password",type:"password"}),c.auth&&r.a.createElement(b.a,{basic:!0,color:"red",style:{marginBottom:10},content:c.auth}),r.a.createElement(f.a,{loading:t,disabled:!n||!a||t,type:"submit",fluid:!0,size:"large",color:"teal",content:"\u30b5\u30a4\u30f3\u30a4\u30f3"}))})))}function M(){var e,t={LoginForm:S},a=Object(o.c)((function(e){return e.modals}));if(a){var n=a.modalType,c=a.modalProps,i=t[n];e=r.a.createElement(i,c)}return r.a.createElement("span",null,e)}var I=a(252),R=a(243);function F(e){var t=e.inverted,a=void 0===t||t,n=e.content,c=void 0===n?"Loading...":n;return r.a.createElement(I.a,{inverted:a,active:!0},r.a.createElement(R.a,{content:c}))}var V=a(11),P=a(254),A=a(255);function D(){var e=Object(o.c)((function(e){return e.async})).error;return r.a.createElement(P.a,{placeholder:!0,basic:!0},r.a.createElement(A.a,{textAlign:"center",content:(null===e||void 0===e?void 0:e.message)||"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"}),r.a.createElement(f.a,{as:V.b,to:"/dashboard",primary:!0,style:{marginTop:20},content:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3078\u623b\u308b"}))}function N(e){var t=e.children,a=Object(o.c)((function(e){return e.auth})).authenticated;return r.a.createElement(r.a.Fragment,null,!0===a?t:r.a.createElement(S,null))}var T=a(188),H=a(86);function q(e){var t=e.history;return r.a.createElement(P.a,{inverted:!0,textAlign:"center",vertical:!0,className:"masthead"},r.a.createElement(s.a,null,r.a.createElement(A.a,{as:"h1",inverted:!0,style:{marginBottom:50}},r.a.createElement(T.a,{size:"massive",src:"/assets/logo.png",style:{marginBottom:12,marginRight:12}}),"Forecast"),r.a.createElement(f.a,{onClick:function(){return t.push("/dashboard")},size:"huge",color:"teal"},"Get Started",r.a.createElement(H.a,{name:"right arrow"}))))}var B=a(250),U=a(124);function z(){return r.a.createElement(B.a.Item,null,r.a.createElement(U.a,{pointing:"top right",text:"\u8a2d\u5b9a"},r.a.createElement(U.a.Menu,null,r.a.createElement(U.a.Item,{as:V.b,to:"/members",text:"\u30e1\u30f3\u30d0\u30fc",icon:"users"}),r.a.createElement(U.a.Item,{as:V.b,to:"/memberaffiliations",text:"\u30e1\u30f3\u30d0\u30fc\u6240\u5c5e",icon:"users"}),r.a.createElement(U.a.Item,{as:V.b,to:"/membertags",text:"\u30e1\u30f3\u30d0\u30fc\u30bf\u30b0",icon:"users"}),r.a.createElement(U.a.Item,{as:V.b,to:"/memberranks",text:"\u30e1\u30f3\u30d0\u30fc\u30e9\u30f3\u30af",icon:"users"}),r.a.createElement(U.a.Item,{as:V.b,to:"/memberassignmanagers",text:"\u30e1\u30f3\u30d0\u30fc\u30a2\u30b5\u30a4\u30f3\u7ba1\u7406\u62c5\u5f53\u8005",icon:"users"}),r.a.createElement(U.a.Item,{as:V.b,to:"/memberhubs",text:"\u30e1\u30f3\u30d0\u30fc\u62e0\u70b9\uff08\u6a19\u6e96\u58f2\u4e0a\u539f\u4fa1\u7528\uff09",icon:"users"}),r.a.createElement(U.a.Item,{as:V.b,to:"/memberhubcostsaless",text:"\u30e1\u30f3\u30d0\u30fc\u62e0\u70b9\u5225\u6a19\u6e96\u539f\u4fa1\u58f2\u4e0a\u8868",icon:"users"}),r.a.createElement(U.a.Divider,null),r.a.createElement(U.a.Item,{as:V.b,to:"/projects",text:"\u6848\u4ef6",icon:"inbox"}),r.a.createElement(U.a.Item,{as:V.b,to:"/clients",text:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8",icon:"building outline"}),r.a.createElement(U.a.Item,{as:V.b,to:"/accdepartments",text:"\u8a08\u4e0a\u90e8\u9580",icon:"chart bar"}),r.a.createElement(U.a.Item,{as:V.b,to:"/accsubjects",text:"\u8cbb\u7528\u79d1\u76ee",icon:"chart bar"}),r.a.createElement(U.a.Item,{as:V.b,to:"/precisions",text:"\u78ba\u5ea6",icon:"chart bar"}))))}function L(e){var t=""+e;return 6!==t.length?t:t.substr(0,4)+"\u5e74"+t.substr(4,2)+"\u6708"}function W(){var e=Object(o.c)((function(e){return e.period})),t=e.currentPeriod,a=e.periods;return r.a.createElement(r.a.Fragment,null,0!==a.length&&r.a.createElement(B.a.Item,null,L(t.yearMonth)))}function Y(){var e=Object(o.c)((function(e){return e.auth})).currentUser,t=Object(l.f)();function a(){return(a=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.push("/"),e.next=4,x();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),u.b.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return r.a.createElement(B.a.Item,null,r.a.createElement(T.a,{avatar:!0,spaced:"right",src:(null===e||void 0===e?void 0:e.photoURL)||"/assets/user.png"}),r.a.createElement(U.a,{pointing:"top right",text:null===e||void 0===e?void 0:e.email},r.a.createElement(U.a.Menu,null,r.a.createElement(U.a.Item,{as:V.b,to:"/profile",text:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831",icon:"user"}),r.a.createElement(U.a.Item,{onClick:function(){return a.apply(this,arguments)},text:"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8",icon:"power"}))))}function G(){return r.a.createElement(B.a,{inverted:!0,fixed:"top"},r.a.createElement(s.a,null,r.a.createElement(B.a.Item,{header:!0,as:V.b,to:"/dashboard"},r.a.createElement("img",{src:"/assets/logo.png",alt:"logo",style:{marginRight:15}}),"Forecast"),r.a.createElement(W,null),r.a.createElement(B.a.Item,{as:V.b,to:"/assign",name:"assign"},"Assign"),r.a.createElement(B.a.Menu,{position:"right"},r.a.createElement(z,null),r.a.createElement(Y,null))))}var X=a(256),J=a(245),K=a(246),Z=a(247),$=a(5);var Q={creating:!1,periods:[],currentPeriod:null,isOpen:!1};function ee(){var e=Object(o.c)((function(e){return e.period})),t=e.currentPeriod,a=e.periods,n=Object(o.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"DashBoard")),r.a.createElement(P.a.Group,null,r.a.createElement(P.a,null,r.a.createElement(A.a,{as:"h3"},"\u7de0\u3081\u5e74\u6708")),r.a.createElement(P.a,null,r.a.createElement(X.a,{columns:2,textAlign:"center"},r.a.createElement(X.a.Column,null,r.a.createElement("p",null," \u7de8\u96c6\u3092\u884c\u3046\u7de0\u3081\u5e74\u6708\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),r.a.createElement(U.a,{pointing:"top left",text:L(t.yearMonth)},r.a.createElement(U.a.Menu,null,a.filter((function(e){return e.yearMonth!==t.yearMonth})).map((function(e){return r.a.createElement(U.a.Item,{key:e.yearMonth,onClick:function(t){n({type:"period/change_current",payload:e.yearMonth})}},r.a.createElement(H.a,{name:e.close?"lock":"clock outline"}),L(e.yearMonth))}))))),r.a.createElement(X.a.Column,null,r.a.createElement("p",null,"\u65b0\u3057\u3044\u5e74\u6708\u3092\u65b0\u898f\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),r.a.createElement(J.a,{type:"text"},r.a.createElement("input",{value:"2020",style:{width:"5em"}}),r.a.createElement(K.a,{compact:!0,options:[{key:"1",text:"1",value:"01"},{key:"2",text:"2",value:"02"},{key:"3",text:"3",value:"03"},{key:"4",text:"4",value:"04"},{key:"5",text:"5",value:"05"},{key:"6",text:"6",value:"06"},{key:"7",text:"7",value:"07"},{key:"8",text:"8",value:"08"},{key:"9",text:"9",value:"09"},{key:"10",text:"10",value:"10"},{key:"11",text:"11",value:"11"},{key:"12",text:"12",value:"12"}],defaultValue:"12"}),r.a.createElement(f.a,{color:"teal"},"\u65b0\u898f\u4f5c\u6210")))),r.a.createElement(Z.a,{vertical:!0},"Or"))))}function te(){return r.a.createElement("h1",null,r.a.createElement(H.a,{name:"user",style:{marginRight:"0.5em"}}),"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831")}var ae=a(257),ne=a(150),re=a(249);function ce(e){e.offsetX,e.offsetY;var t=e.visible;return r.a.createElement(ne.a,{offsetX:15,offsetY:-30,visible:t},r.a.createElement(P.a.Group,null,r.a.createElement(P.a,null,r.a.createElement(A.a,{as:"h4"},"\u6e25\u7f8e\u653f\u5ee3")),r.a.createElement(P.a,null,r.a.createElement(re.a,{compact:"very",size:"small"},r.a.createElement(re.a.Header,null,r.a.createElement(re.a.Row,null,r.a.createElement(re.a.HeaderCell,null,"\u6848\u4ef6"),r.a.createElement(re.a.HeaderCell,null,"\u7a3c\u50cd\u7387"))),r.a.createElement(re.a.Body,null,r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"\u672c\u793e\u696d\u52d9"),r.a.createElement(re.a.Cell,null,"20%")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"NIPPO"),r.a.createElement(re.a.Cell,null,"80%")))))))}function ie(e){e.offsetX,e.offsetY;var t=e.visible;return r.a.createElement(ne.a,{offsetX:15,offsetY:-30,visible:t},r.a.createElement(P.a.Group,null,r.a.createElement(P.a,null,r.a.createElement(A.a,{as:"h3"},"\u6e25\u7f8e\u653f\u5ee3")),r.a.createElement(P.a,null,r.a.createElement(re.a,{compact:"very",size:"small"},r.a.createElement(re.a.Header,null,r.a.createElement(re.a.Row,null,r.a.createElement(re.a.HeaderCell,null,"\u6708"),r.a.createElement(re.a.HeaderCell,null,"\u7a3c\u50cd\u7387"))),r.a.createElement(re.a.Body,null,r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"9\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"10\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"11\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"12\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"1\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"2\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"3\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"4\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"5\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"6\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"7\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")),r.a.createElement(re.a.Row,null,r.a.createElement(re.a.Cell,null,"8\u6708"),r.a.createElement(re.a.Cell,null,"100%(20%)")))))))}var le=a(171),oe=a.n(le);a(225);function ue(e){var t=e.options,a=e.data,c=e.setSpreadSheet,i=void 0===c?null:c,l=e.onReady,u=void 0===l?null:l,s=Object(n.useState)(!1),m=Object(v.a)(s,2),d=m[0],p=m[1],b=Object(o.b)(),f=Object(n.useRef)(null),h=Object(n.useRef)({allowComments:!1,allowInsertRow:!0,allowManualInsertRow:!1,allowManualInsertColumn:!1,defaultColAlign:"left",contextMenu:function(){return[]}});return Object(n.useEffect)((function(){var e=Object($.a)({},h.current,{},t.current);i?i(oe()(f.current,e)):oe()(f.current,e)}),[b,t,i]),Object(n.useEffect)((function(){f.current.jexcel.setData(a)}),[a]),f.current&&!1===d&&(u&&u(f.current.jexcel),p(!0)),r.a.createElement("div",{ref:f})}var se=[{key:"1",id:"1",text:"\u4e88\u7b97",name:"\u4e88\u7b97",value:"1"},{key:"2",id:"2",text:"\u898b\u8fbc",name:"\u898b\u8fbc",value:"2"},{key:"3",id:"3",text:"\u5b9f\u7e3e",name:"\u5b9f\u7e3e",value:"3"}],me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return e.filter((function(e){return e.available===t})).map((function(e){return{key:e.id,id:e.id,text:e.name,name:e.name,value:e.id}}))},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["true","false"];return e.filter((function(e){return e.available===t&&a.includes(e.use_cost_sales)})).map((function(e){return{key:e.id,id:e.id,text:e.name,name:e.name,value:e.id}}))},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return e.filter((function(e){return e.available===t})).map((function(e){return{key:e.id,id:e.id,text:e.name,name:e.name,value:e.id}}))},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return e.filter((function(e){return e.available===t})).map((function(e){return{key:e.id,id:e.id,text:e.name,name:e.name,value:e.id}}))},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return e.filter((function(e){return e.available===t})).map((function(e){return{key:e.id,id:e.id,text:e.name,name:e.name,value:e.id}}))},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return e.filter((function(e){return e.available===t})).map((function(e){return{key:e.id,id:e.id,text:e.name,name:e.name,value:e.id}}))},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return e.filter((function(e){return e.available===t})).map((function(e){return{key:e.id,id:e.id,text:e.name,name:e.name,value:e.id}}))},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return e.filter((function(e){return e.available===t})).map((function(e){return{key:e.id,id:e.id,text:e.name,name:e.name,value:e.id}}))},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return e.filter((function(e){return e.available===t})).map((function(e){return{key:e.id,id:e.id,text:e.name,name:e.name,value:e.id}}))},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return e.filter((function(e){return e.available===t})).map((function(e){return{key:e.id,id:e.id,text:e.name,name:e.name,value:e.id}}))},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return[{name:"add_row",title:"\u8ffd\u52a0",width:"100px",align:"center",readOnly:!0,type:"html"},{name:"remove_row",title:"\u524a\u9664",width:"100px",align:"center",readOnly:!0,type:"html"},{name:"errors",title:"Err/War",width:"140px",readOnly:!0,type:"text"},{name:"member",title:"\u30e1\u30f3\u30d0\u30fc",width:"140px",type:"dropdown",source:me(e),autocomplete:!0},{name:"member_tag",title:"\u793e\u54e1/PT",width:"140px",readOnly:!0,type:"dropdown",source:de(t),autocomplete:!0},{name:"member_affiliations",title:"\u6240\u5c5e",width:"140px",readOnly:!0,type:"dropdown",source:pe(a),autocomplete:!0},{name:"year_month",title:"\u6708\u5ea6",width:"140px",type:"dropdown",source:[{key:"202009",id:"202009",text:"2020/09",name:"2020/09",value:"202009"},{key:"202010",id:"202010",text:"2020/10",name:"2020/10",value:"202010"},{key:"202011",id:"202011",text:"2020/11",name:"2020/11",value:"202011"},{key:"202012",id:"202012",text:"2020/12",name:"2020/12",value:"202012"},{key:"202101",id:"202101",text:"2021/01",name:"2021/01",value:"202101"},{key:"202102",id:"202102",text:"2021/02",name:"2021/02",value:"202102"},{key:"202103",id:"202103",text:"2021/03",name:"2021/03",value:"202103"},{key:"202104",id:"202104",text:"2021/04",name:"2021/04",value:"202104"},{key:"202105",id:"202105",text:"2021/05",name:"2021/05",value:"202105"},{key:"202106",id:"202106",text:"2021/06",name:"2021/06",value:"202106"},{key:"202107",id:"202107",text:"2021/07",name:"2021/07",value:"202107"},{key:"202108",id:"202108",text:"2021/08",name:"2021/08",value:"202108"}],autocomplete:!0},{name:"year_month_show",title:"\u53c2\u7167",align:"center",width:"50px",readOnly:!0,type:"html"},{name:"budget_performance_class",title:"\u4e88\u7b97/\u898b\u8fbc/\u5b9f\u7e3e",width:"140px",type:"dropdown",source:se,autocomplete:!0},{name:"member_assign_manager",title:"\u30a2\u30b5\u30a4\u30f3\u7ba1\u7406\u62c5\u5f53",width:"140px",type:"dropdown",source:fe(n),autocomplete:!0},{name:"project",title:"\u6848\u4ef6",width:"140px",type:"dropdown",source:he(r),autocomplete:!0},{name:"client",title:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8",width:"140px",readOnly:!0,type:"dropdown",source:ye(c),autocomplete:!0},{name:"acc_department",title:"\u8a08\u4e0a\u90e8\u9580",width:"140px",readOnly:!0,type:"dropdown",source:ve(i),autocomplete:!0},{name:"acc_subject",title:"\u8cbb\u7528\u533a\u5206",width:"140px",readOnly:!0,type:"dropdown",source:ge(l),autocomplete:!0},{name:"sales",title:"\u58f2\u4e0a",align:"right",width:"140px",type:"numeric",mask:"[-]#,##"},{name:"cost",title:"\u6a19\u6e96\u539f\u4fa1/PT\u539f\u4fa1",align:"right",width:"140px",readOnly:!0,type:"numeric",mask:"[-]#,##"},{name:"working_ratio",title:"\u7a3c\u50cd\u5272\u5408",align:"right",width:"140px",type:"numeric"},{name:"working_ratio_show",title:"\u53c2\u7167",align:"center",width:"50px",readOnly:!0,type:"html"},{name:"inhouse_cost",title:"\u793e\u5185\u539f\u4fa1",align:"right",width:"140px",readOnly:!0,type:"numeric",mask:"[-]#,##"},{name:"profit",title:"\u5229\u76ca\u984d",align:"right",width:"140px",readOnly:!0,type:"numeric",mask:"[-]#,##"},{name:"profit_ratio",title:"\u5229\u76ca\u7387",align:"right",width:"140px",readOnly:!0,type:"text"},{name:"member_rank",title:"\u30e9\u30f3\u30af",width:"140px",readOnly:!0,type:"dropdown",source:be(o),autocomplete:!0},{name:"member_sales",title:"\u6a19\u6e96\u58f2\u4e0a",align:"right",width:"140px",readOnly:!0,type:"numeric",mask:"[-]#,##"},{name:"member_sales_diff",title:"\u6a19\u6e96\u58f2\u4e0a\u5dee\u7570",align:"right",width:"140px",readOnly:!0,type:"numeric",mask:"[-]#,##"},{name:"precision",title:"\u78ba\u5ea6",width:"140px",type:"dropdown",source:_e(u),autocomplete:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",width:"0",readOnly:!0,type:"hidden"},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",width:"0",readOnly:!0,type:"hidden"},{name:"created_at",title:"\u4f5c\u6210\u65e5",width:"0",readOnly:!0,type:"hidden"},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",width:"0",readOnly:!0,type:"hidden"},{name:"updated_at",title:"\u66f4\u65b0\u65e5",width:"0",readOnly:!0,type:"hidden"},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",width:"0",readOnly:!0,type:"hidden"}]},Oe=a(20),je=a.n(Oe);function we(e){return{type:"async/action_error",payload:e}}var xe={loading:!1,count:0,error:null,initialized:!1};var ke=a(21),Ce=a.n(ke),Se=w.firestore();function Me(e){return Se.collection("last_update").where("closing_year_month","==",e)}function Ie(e,t,a){return a?Se.collection("last_update").doc(t+"-"+e).set({closing_year_month:t,lastupdate:a}):null}var Re=w.firestore();function Fe(e){return Re.collection("assign").where("closing_year_month","==",e).orderBy("created_at","asc")}function Ve(e){if(e.exists){var t=e.data();for(var a in t)t.hasOwnProperty(a)&&t[a]instanceof w.firestore.Timestamp&&(t[a]=t[a].toDate());return Object($.a)({},t,{id:e.id})}}function Pe(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),n=Me(e).get(),r={acc_department:null,acc_subject:null,assign:null,client:null,member:null,member_affiliation:null,member_assign_manager:null,member_hub:null,member_hub_cost_sales:null,member_rank:null,member_tag:null,precision:null,project:null},t.next=6,n;case 6:return t.sent.docs.forEach((function(e){var t=Ve(e),a=t.id.slice(7);r[a]=t.lastupdate})),a({type:"lastupdate/fetch",payload:r}),a({type:"async/action_finish"}),t.abrupt("return",r);case 12:t.prev=12,t.t0=t.catch(0),a(we(t.t0));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function Ae(e,t){if(Array.isArray(e)&&e.length>0&&t){var a=null;return e.forEach((function(e){(!a||e.updated_at.getTime()>a.getTime())&&(a=e.updated_at)})),console.log(a.getTime(),t.getTime()),console.log(a.getTime()===t.getTime()?"not refresh":"refresh"),a.getTime()===t.getTime()?{result:!1,lastupdate:null}:{result:!0,lastupdate:a}}return console.log("refresh"),{result:!0,lastupadte:null}}function De(e){return{type:"assign/addRow",payload:e}}function Ne(e){return{type:"assign/removeRow",payload:e}}function Te(e){return{type:"assign/editRow",payload:e}}function He(e,t){return e.id===t.id&&e.member===t.member&&e.year_month===t.year_month&&e.budget_performance_class===t.budget_performance_class&&e.member_assign_manager===t.member_assign_manager&&e.project===t.project&&e.sales===t.sales&&e.cost===t.cost&&e.working_ratio===t.working_ratio&&e.precision===t.precision&&e.closing_year_month===t.closing_year_month}var qe={assigns:[],add:[],update:[],remove:[]};function Be(e,t,a){var n=e.getRowData(t);return n[7]=Ue(n[3],n[6]),n[2]="",n[10]="",n[11]="",n[12]="",n[13]="",n[14]="0",n[16]="0 %",n[17]=ze(n[3]),n[24]="",n[25]=function(e){return e+"-"+je()()}(a),n[26]=a,n}function Ue(e,t){return"<a href='#' onmouseover='location.href=\"#show".concat(7,"=").concat(e,"&ym=").concat(t,"\"' onmouseout='location.href=\"#\"'>\u53c2\u7167</a>")}function ze(e){return"<a href='#' onmouseover='location.href=\"#show".concat(17,"=").concat(e,"\"' onmouseout='location.href=\"#\"'>\u53c2\u7167</a>")}function Le(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;We(e,t,a,n);var c=e.getRowData(a),i={id:c[25],closing_year_month:c[26],member:c[3],year_month:c[6],budget_performance_class:c[8],member_assign_manager:c[9],project:c[10],sales:it(c[14]),cost:it(c[15]),working_ratio:c[16],precision:c[24]};r&&r(Te(i))}function We(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};3===t?Ye(e,a,n):4===t?Ge(e,a,n):10===t?Xe(e,a,n):13===t?Je(e,a,n):14===t?Ze(e,a):15===t?$e(e,a):16===t?Qe(e,a):24===t&&Ke(e,a,n)}function Ye(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.getValueFromCoords(3,t),r=a.members.filter((function(e){return e.id===n}))[0];r?(e.setValueFromCoords(4,t,r.tag,!0),e.setValueFromCoords(5,t,r.affiliation,!0),e.setValueFromCoords(9,t,r.assign_manager,!0),e.setValueFromCoords(15,t,r.cost,!0),e.setValueFromCoords(21,t,r.rank,!0),e.setValueFromCoords(22,t,r.sales,!0),$e(e,t),et(e,t)):(e.setValueFromCoords(4,t,"",!0),e.setValueFromCoords(5,t,"",!0),e.setValueFromCoords(9,t,"",!0),e.setValueFromCoords(15,t,"0",!0),e.setValueFromCoords(21,t,"",!0),e.setValueFromCoords(22,t,"0",!0),$e(e,t),et(e,t))}function Ge(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.getValueFromCoords(4,t),r=a.memberTags.filter((function(e){return e.id===n}))[0];r&&"true"===r.use_cost_sales.toLowerCase()?e.getCellFromCoords(15,t).classList.add("readonly"):e.getCellFromCoords(15,t).classList.remove("readonly")}function Xe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.getValueFromCoords(10,t),r=a.projects.filter((function(e){return e.id===n}))[0];r?(e.setValueFromCoords(11,t,r.client,!0),e.setValueFromCoords(12,t,r.accDepartment,!0),e.setValueFromCoords(13,t,r.accSubject,!0)):(e.setValueFromCoords(11,t,"",!0),e.setValueFromCoords(12,t,"",!0),e.setValueFromCoords(13,t,"",!0))}function Je(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.getValueFromCoords(13,t),r=a.accSubjects.filter((function(e){return e.id===n}))[0],c=e.getValueFromCoords(24,t),i=a.precisions.filter((function(e){return e.id===c}))[0];r&&("true"===r.can_input_sales.toLowerCase()?e.getCellFromCoords(14,t).classList.remove("readonly"):(e.getCellFromCoords(14,t).classList.add("readonly"),e.setValueFromCoords(14,t,"0",!0))),i&&r&&i.can_input_sales.toLowerCase()!==r.can_input_sales.toLowerCase()&&e.setValueFromCoords(24,t,"",!0)}function Ke(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.getValueFromCoords(13,t),r=a.accSubjects.filter((function(e){return e.id===n}))[0],c=e.getValueFromCoords(24,t),i=a.precisions.filter((function(e){return e.id===c}))[0];i&&("true"===i.can_input_sales.toLowerCase()?e.getCellFromCoords(14,t).classList.remove("readonly"):(e.getCellFromCoords(14,t).classList.add("readonly"),e.setValueFromCoords(14,t,"0",!0))),i&&r&&r.can_input_sales.toLowerCase()!==i.can_input_sales.toLowerCase()&&e.setValueFromCoords(10,t,"",!0)}function Ze(e,t){var a=ct(e.getValueFromCoords(15,t)),n=ct(e.getValueFromCoords(16,t)),r=e.getValueFromCoords(14,t),c=ct(r),i=at(tt(a,n),c),l=nt(i,c),o=rt(c,ct(e.getValueFromCoords(22,t)),n);e.setValueFromCoords(19,t,i,!0),e.setValueFromCoords(20,t,l+" %",!0),e.setValueFromCoords(23,t,o,!0),r||(e.getCellFromCoords(14,t).innerHTML=c)}function $e(e,t){var a=ct(e.getValueFromCoords(15,t)),n=ct(e.getValueFromCoords(16,t)),r=ct(e.getValueFromCoords(14,t)),c=tt(a,n),i=at(c,r),l=nt(i,r);e.setValueFromCoords(18,t,c,!0),e.setValueFromCoords(19,t,i,!0),e.setValueFromCoords(20,t,l+" %",!0)}function Qe(e,t){var a=ct(e.getValueFromCoords(15,t)),n=ct(e.getValueFromCoords(16,t)),r=ct(e.getValueFromCoords(14,t)),c=tt(a,n),i=at(c,r),l=nt(i,r),o=rt(r,ct(e.getValueFromCoords(22,t)),n);e.setValueFromCoords(18,t,c,!0),e.setValueFromCoords(19,t,i,!0),e.setValueFromCoords(20,t,l+" %",!0),e.setValueFromCoords(23,t,o,!0),e.getCellFromCoords(16,t).innerHTML=n+" %"}function et(e,t){var a=ct(e.getValueFromCoords(14,t)),n=ct(e.getValueFromCoords(16,t)),r=rt(a,ct(e.getValueFromCoords(22,t)),n);e.setValueFromCoords(23,t,r,!0)}function tt(e,t){return 0===t?0:Math.round(e*(t/100))}function at(e,t){return t-e}function nt(e,t){return 0===t?0:Math.round(e/t*100*10)/10}function rt(e,t,a){return 0===t?0:0===a?e:Math.round(e-t*(a/100))}function ct(e){return 0===(e=(e=""+e).replace(/[^0-9.-]/g,"")).length&&(e=0),parseFloat(e)}function it(e){return(e=""+e).replace(/[,]/g,"")}function lt(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(l.f)(),i=Object(n.useState)(!1),u=Object(v.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(!1),p=Object(v.a)(d,2),b=p[0],f=p[1],h=Object(o.b)(),y=Object(o.c)((function(e){return e.period})).currentPeriod,g=Object(o.c)((function(e){return e.member})).members,_=Object(o.c)((function(e){return e.memberTag})).memberTags,E=Object(o.c)((function(e){return e.memberAffiliation})).memberAffiliations,O=Object(o.c)((function(e){return e.memberAssignManager})).memberAssignManagers,j=Object(o.c)((function(e){return e.memberRank})).memberRanks,w=Object(o.c)((function(e){return e.project})).projects,x=Object(o.c)((function(e){return e.client})).clients,k=Object(o.c)((function(e){return e.accDepartment})).accDepartments,C=Object(o.c)((function(e){return e.accSubject})).accSubjects,S=Object(o.c)((function(e){return e.precision})).precisions,M=Object(o.c)((function(e){return e.assign})).assigns,I=Object(n.useState)(null),R=Object(v.a)(I,2),F=R[0],V=R[1];Object(n.useEffect)((function(){(null===a||void 0===a?void 0:a.startsWith("add"))?(!function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e){var n=e.getSelectedRows(!0);if(n&&n.length>0){var r=Be(e,n[0],t);e.insertRow(r,n[0]);var c={id:r[25],closing_year_month:r[26],member:r[3],year_month:r[6],budget_performance_class:r[8],member_assign_manager:r[9],project:r[10],sales:it(r[14]),cost:it(r[15]),working_ratio:ct(r[16]),precision:r[24]};a&&a(De(c))}}}(F,y.yearMonth,h),c.push("/assign")):(null===a||void 0===a?void 0:a.startsWith("remove"))?(!0===window.confirm("\u884c\u3092\u524a\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304b\uff1f")&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){var a=e.getSelectedRows(!0);if(a&&a.length>0){e.deleteRow(a[0],1);var n=e.getRowData(a[0]);t&&t(Ne(n[25]))}}}(F,h),c.push("/assign")):(null===a||void 0===a?void 0:a.startsWith("show7"))?m(!0):(null===a||void 0===a?void 0:a.startsWith("show17"))?f(!0):0===a.length&&(m(!1),f(!1))}),[a,y,h,c,F]);var P=Object(n.useRef)({columns:Ee(g,_,E,O,w,x,k,C,j,S),onchange:function(e,t,a,n,r){Le(e.jexcel,parseInt(a),parseInt(n),{members:g,memberTags:_,projects:w,accSubjects:C,precisions:S},h)}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,{options:P,data:M,setSpreadSheet:V,onReady:function(e){for(var t=0;t<M.length;t++)Le(e,parseInt(3),parseInt(t),{members:g,memberTags:_,projects:w,accSubjects:C,precisions:S}),Le(e,parseInt(10),parseInt(t),{members:g,memberTags:_,projects:w,accSubjects:C,precisions:S}),Le(e,parseInt(16),parseInt(t),{members:g,memberTags:_,projects:w,accSubjects:C,precisions:S})}}),r.a.createElement(ce,{visible:s}),r.a.createElement(ie,{visible:b}))}var ot=w.firestore();function ut(e){return ot.collection("acc_department").where("closing_year_month","==",e).orderBy("created_at","asc")}function st(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("acc_department",e.closing_year_month,a),ot.collection("acc_department").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function mt(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("acc_department",e.closing_year_month,a),ot.collection("acc_department").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function dt(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,st(e);case 4:a({type:"accDepartment/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function pt(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,mt(e);case 4:a({type:"accDepartment/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function bt(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().accDepartment.accDepartments,n().lastupdate.acc_department).result){t.next=4;break}return t.abrupt("return",n().accDepartment.accDepartments);case 4:return a({type:"async/action_start"}),r=ut(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"accDepartment/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}var ft={accDepartments:[],selectedAccDepartment:null};var ht=w.firestore();function yt(e){return ht.collection("acc_subject").where("closing_year_month","==",e).orderBy("created_at","asc")}function vt(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("acc_subject",e.closing_year_month,a),ht.collection("acc_subject").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function gt(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("acc_subject",e.closing_year_month,a),ht.collection("acc_subject").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function _t(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,vt(e);case 4:a({type:"accSubject/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Et(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,gt(e);case 4:a({type:"accSubject/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Ot(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().accSubject.accSubjects,n().lastupdate.acc_subject).result){t.next=4;break}return t.abrupt("return",n().accSubject.accSubjects);case 4:return a({type:"async/action_start"}),r=yt(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"accSubject/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}var jt={accSubjects:[],selectedAccSubject:null};var wt=w.firestore();function xt(e){return wt.collection("client").where("closing_year_month","==",e).orderBy("created_at","asc")}function kt(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("client",e.closing_year_month,a),wt.collection("client").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function Ct(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("client",e.closing_year_month,a),wt.collection("client").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function St(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,kt(e);case 4:a({type:"client/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Mt(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,Ct(e);case 4:a({type:"client/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function It(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().client.clients,n().lastupdate.client).result){t.next=4;break}return t.abrupt("return",n().client.clients);case 4:return a({type:"async/action_start"}),r=xt(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"client/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}var Rt={clients:[],selectedClient:null};var Ft=w.firestore();function Vt(e){return Ft.collection("member_affiliation").where("closing_year_month","==",e).orderBy("created_at","asc")}function Pt(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_affiliation",e.closing_year_month,a),Ft.collection("member_affiliation").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function At(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_affiliation",e.closing_year_month,a),Ft.collection("member_affiliation").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function Dt(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,Pt(e);case 4:a({type:"memberAffiliation/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Nt(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,At(e);case 4:a({type:"memberAffiliation/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Tt(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().memberAffiliation.memberAffiliations,n().lastupdate.member_affiliation).result){t.next=4;break}return t.abrupt("return",n().memberAffiliation.memberAffiliations);case 4:return a({type:"async/action_start"}),r=Vt(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"memberAffiliation/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}var Ht={memberAffiliations:[],selectedMemberAffiliation:null};var qt=w.firestore();function Bt(e){return qt.collection("member_assign_manager").where("closing_year_month","==",e).orderBy("created_at","asc")}function Ut(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_assign_manager",e.closing_year_month,a),qt.collection("member_assign_manager").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function zt(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_assign_manager",e.closing_year_month,a),qt.collection("member_assign_manager").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function Lt(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,Ut(e);case 4:a({type:"memberAssignManager/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Wt(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,zt(e);case 4:a({type:"memberAssignManager/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Yt(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().memberAssignManager.memberAssignManagers,n().lastupdate.member_assign_manager).result){t.next=4;break}return t.abrupt("return",n().memberAssignManager.memberAssignManagers);case 4:return a({type:"async/action_start"}),r=Bt(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"memberAssignManager/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}var Gt={memberAssignManagers:[],selectedMemberAssignManager:null};var Xt=w.firestore();function Jt(e){return Xt.collection("member_rank").where("closing_year_month","==",e).orderBy("created_at","asc")}function Kt(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_rank",e.closing_year_month,a),Xt.collection("member_rank").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function Zt(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_rank",e.closing_year_month,a),Xt.collection("member_rank").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function $t(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,Kt(e);case 4:a({type:"memberRank/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Qt(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,Zt(e);case 4:a({type:"memberRank/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function ea(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().memberRank.memberRanks,n().lastupdate.member_rank).result){t.next=4;break}return t.abrupt("return",n().memberRank.memberRanks);case 4:return a({type:"async/action_start"}),r=Jt(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"memberRank/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}var ta={memberRanks:[],selectedMemberRank:null};var aa=w.firestore();function na(e){return aa.collection("member").where("closing_year_month","==",e).orderBy("created_at","asc")}function ra(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member",e.closing_year_month,a),aa.collection("member").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function ca(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member",e.closing_year_month,a),aa.collection("member").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function ia(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,ra(e);case 4:a({type:"member/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function la(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,ca(e);case 4:a({type:"member/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function oa(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().member.members,n().lastupdate.member).result){t.next=4;break}return t.abrupt("return",n().member.members);case 4:return a({type:"async/action_start"}),r=na(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"member/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}var ua={members:[],selectedMember:null};var sa=w.firestore();function ma(e){return sa.collection("member_tag").where("closing_year_month","==",e).orderBy("created_at","asc")}function da(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_tag",e.closing_year_month,a),sa.collection("member_tag").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function pa(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_tag",e.closing_year_month,a),sa.collection("member_tag").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function ba(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,da(e);case 4:a({type:"memberTag/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function fa(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,pa(e);case 4:a({type:"memberTag/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function ha(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().memberTag.memberTags,n().lastupdate.member_tag).result){t.next=4;break}return t.abrupt("return",n().memberTag.memberTags);case 4:return a({type:"async/action_start"}),r=ma(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"memberTag/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}var ya={memberTags:[],selectedMemberTag:null};var va=w.firestore();function ga(e){return va.collection("precision").where("closing_year_month","==",e).orderBy("created_at","asc")}function _a(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("precision",e.closing_year_month,a),va.collection("precision").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function Ea(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("precision",e.closing_year_month,a),va.collection("precision").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function Oa(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,_a(e);case 4:a({type:"precision/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function ja(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,Ea(e);case 4:a({type:"precision/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function wa(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().precision.precisions,n().lastupdate.precision).result){t.next=4;break}return t.abrupt("return",n().precision.precisions);case 4:return a({type:"async/action_start"}),r=ga(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"precision/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}var xa={precisions:[],selectedPrecision:null};var ka=w.firestore();function Ca(e){return ka.collection("project").where("closing_year_month","==",e).orderBy("created_at","asc")}function Sa(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("project",e.closing_year_month,a),ka.collection("project").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function Ma(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("project",e.closing_year_month,a),ka.collection("project").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function Ia(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,Sa(e);case 4:a({type:"project/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Ra(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,Ma(e);case 4:a({type:"project/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Fa(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().project.projects,n().lastupdate.project).result){t.next=4;break}return t.abrupt("return",n().project.projects);case 4:return a({type:"async/action_start"}),r=Ca(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"project/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}var Va={projects:[],selectedProject:null};function Pa(e){var t=e.location,a=Object(o.b)(),c=Object(n.useState)(0),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.c)((function(e){return e.async})),f=b.loading,h=b.error;Object(n.useEffect)((function(){a(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a(oa(m.yearMonth)),a(ha(m.yearMonth)),a(Tt(m.yearMonth)),a(Yt(m.yearMonth)),a(ea(m.yearMonth)),a(Fa(m.yearMonth)),a(bt(m.yearMonth)),a(Ot(m.yearMonth)),a(wa(m.yearMonth)),a(It(m.yearMonth))]).then((function(){var e;a((e=m.yearMonth,function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().assign.assigns,n().lastupdate.assign).result){t.next=4;break}return t.abrupt("return",n().assign.assigns);case 4:return a({type:"async/action_start"}),r=Fe(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e);return Object($.a)({add_row:'<button class="ui positive mini button" onclick=\'location.href="#add"\'>\u8ffd\u52a0</button>',remove_row:'<button class="ui negative mini button" onclick=\'location.href="#remove"\'>\u524a\u9664</button>',year_month_show:Ue(t.member,t.year_month),working_ratio_show:ze(t.member)},t)})),a({type:"assign/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()))}));case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,a,u]);return f?r.a.createElement(F,null):h?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a.Pusher,{className:"jpusher"},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"Assign"),r.a.createElement(B.a.Item,{onClick:function(){s(u+1)}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0")),r.a.createElement(lt,{refresh:u,location:t}))))}function Aa(e){var t=e.label,a=Object(g.a)(e,["label"]),n=Object(h.c)(a),c=Object(v.a)(n,3),i=c[0],l=c[1],o=c[2];return r.a.createElement(_.a,{error:l.touched&&!!l.error},r.a.createElement("label",null,t),r.a.createElement(K.a,Object.assign({value:i.value||null,onChange:function(e,t){return o.setValue(t.value)},onBlur:function(){return o.setTouched(!0)}},a)),l.touched&&l.error?r.a.createElement(b.a,{pointing:!0,color:"red"},l.error):null)}var Da=[{key:"true",id:"true",text:"\u6709\u52b9",name:"\u6709\u52b9",value:"true"},{key:"false",id:"false",text:"\u7121\u52b9",name:"\u7121\u52b9",value:"false"}];function Na(e){var t=e.query,a=e.data,r=e.deps,c=e.shouldExecute,i=void 0===c||c,l=Object(o.b)();Object(n.useEffect)((function(){if(i){l({type:"async/action_start"});var e=t().onSnapshot((function(e){e.exists?(a(Ve(e)),l({type:"async/action_finish"})):l(we({code:"not-found",message:"Could not find document"}))}),(function(e){return l(we(e))}));return function(){e()}}a(null)}),r)}function Ta(e){var t=e.clientId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.period})).currentPeriod,i=Object(o.c)((function(e){return e.client})).selectedClient,s=Object(o.c)((function(e){return e.async})),m=s.loading,b=s.error,v=Object(o.b)(),g=Object(l.f)(),_=null!==i&&void 0!==i?i:{closing_year_month:c.yearMonth,name:"",available:"true"},O=y.b({name:y.c().required("\u53d6\u5f15\u5148\u540d\u79f0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return wt.collection("client").doc(e)}(t)},data:function(e){return v({type:"client/selected",payload:e})},deps:[t,v]}),m?r.a.createElement(F,null):b?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:_,validationSchema:O,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),v(t?Mt(r):St(r)),a(!1),g.push("/clients"),n()}catch(b){u.b.error(b.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,c=e.isValid,i=e.resetForm;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(E,{label:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u540d\u79f0",name:"name",placeholder:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u540d\u79f0"}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!c||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/clients",onClick:function(){a(!1),i()}}))})))}var Ha=function(){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"name",title:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u540d\u79f0",type:"text",width:"300px",readOnly:!0},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function qa(e){e.refresh;var t=Object(o.c)((function(e){return e.client})).clients,a=Object(n.useRef)({columns:Ha()});return r.a.createElement(ue,{options:a,data:t})}function Ba(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(It(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement(Ta,{clientId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(qa,{refresh:y}))))}var Ua=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true";return e.filter((function(e){return e.available===t})).map((function(e){return{key:e.id,id:e.id,text:e.name,name:e.name,value:e.id}}))},za=w.firestore();function La(e){return za.collection("member_hub_cost_sales").where("closing_year_month","==",e).orderBy("created_at","asc")}function Wa(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_hub_cost_sales",e.closing_year_month,a),za.collection("member_hub_cost_sales").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function Ya(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_hub_cost_sales",e.closing_year_month,a),za.collection("member_hub_cost_sales").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function Ga(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,Wa(e);case 4:a({type:"memberHubCostSales/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Xa(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,Ya(e);case 4:a({type:"memberHubCostSales/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Ja(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().memberHubCostSales.memberHubCostSaless,n().lastupdate.member_hub_cost_sales).result){t.next=4;break}return t.abrupt("return",n().memberHubCostSales.memberHubCostSaless);case 4:return a({type:"async/action_start"}),r=La(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"memberHubCostSales/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}function Ka(e,t,a){var n=e.filter((function(e){return e.hub===t&&e.rank===a&&"1"===e.cost_sales_kind&&"true"===e.available})),r=e.filter((function(e){return e.hub===t&&e.rank===a&&"2"===e.cost_sales_kind&&"true"===e.available}));return{cost:n.length>0?parseInt(n[0].cost_sales,10):0,sales:r.length>0?parseInt(r[0].cost_sales,10):0}}var Za={memberHubCostSaless:[],selectedMemberHubCostSales:null};function $a(e){var t=e.memberId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.memberTag})).memberTags,i=Object(o.c)((function(e){return e.memberAffiliation})).memberAffiliations,s=Object(o.c)((function(e){return e.memberHub})).memberHubs,m=Object(o.c)((function(e){return e.memberRank})).memberRanks,b=Object(o.c)((function(e){return e.memberAssignManager})).memberAssignManagers,v=Object(o.c)((function(e){return e.memberHubCostSales})).memberHubCostSaless,g=Object(o.c)((function(e){return e.period})).currentPeriod,_=Object(o.c)((function(e){return e.member})).selectedMember,O=Object(o.c)((function(e){return e.async})),j=O.loading,w=O.error,x=Object(o.b)(),k=Object(l.f)(),C=null!==_&&void 0!==_?_:{closing_year_month:g.yearMonth,name:"",tag:"",affiliation:"",hub:"",rank:"",cost:0,sales:0,available:"true"},S=y.b({name:y.c().required("\u6c0f\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),tag:y.c().required("\u30e1\u30f3\u30d0\u30fc\u30bf\u30b0\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),affiliation:y.c().required("\u30e1\u30f3\u30d0\u30fc\u6240\u5c5e\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),hub:y.c().notRequired(),rank:y.c().notRequired(),assign_manager:y.c().notRequired(),cost:y.a().required("\u6a19\u6e96\u539f\u4fa1\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),sales:y.a().required("\u6a19\u6e96\u58f2\u4e0a\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return aa.collection("member").doc(e)}(t)},data:function(e){return x({type:"member/selected",payload:e})},deps:[t,x]}),j?r.a.createElement(F,null):w?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:C,validationSchema:S,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),x(t?la(r):ia(r)),a(!1),k.push("/members"),n()}catch(w){u.b.error(w.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,l=e.isValid,o=e.resetForm,u=e.setFieldValue,d=e.values;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(E,{label:"\u6c0f\u540d",name:"name",placeholder:"\u6c0f\u540d"}),r.a.createElement(Aa,{label:"\u30e1\u30f3\u30d0\u30fc\u30bf\u30b0",name:"tag",options:de(c)}),r.a.createElement(Aa,{label:"\u30e1\u30f3\u30d0\u30fc\u6240\u5c5e",name:"affiliation",options:pe(i),search:!0}),r.a.createElement(Aa,{label:"\u30e1\u30f3\u30d0\u30fc\u62e0\u70b9",name:"hub",options:Ua(s),clearable:!0,onChange:function(e){u("hub",e.target.id);var t=Ka(v,e.target.id,d.rank),a=t.cost,n=t.sales;u("cost",a),u("sales",n)}}),r.a.createElement(Aa,{label:"\u30e1\u30f3\u30d0\u30fc\u30e9\u30f3\u30af",name:"rank",options:be(m),clearable:!0,onChange:function(e){u("rank",e.target.id);var t=Ka(v,d.hub,e.target.id),a=t.cost,n=t.sales;u("cost",a),u("sales",n)}}),r.a.createElement(Aa,{label:"\u30a2\u30b5\u30a4\u30f3\u7ba1\u7406\u62c5\u5f53\u8005",name:"assign_manager",options:fe(b),search:!0}),r.a.createElement(E,{label:"\u6a19\u6e96\u539f\u4fa1",name:"cost",placeholder:"\u6a19\u6e96\u539f\u4fa1"}),r.a.createElement(E,{label:"\u6a19\u6e96\u58f2\u4e0a",name:"sales",placeholder:"\u6a19\u6e96\u58f2\u4e0a"}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!l||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/members",onClick:function(){a(!1),o()}}))})))}var Qa=function(e,t,a,n,r){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"name",title:"\u6c0f\u540d",type:"text",width:"120px",readOnly:!0},{name:"tag",title:"\u30e1\u30f3\u30d0\u30fc\u30bf\u30b0",type:"dropdown",source:de(e),width:"140px",readOnly:!0},{name:"affiliation",title:"\u30e1\u30f3\u30d0\u30fc\u6240\u5c5e",type:"dropdown",source:pe(t),width:"250px",readOnly:!0},{name:"hub",title:"\u30e1\u30f3\u30d0\u30fc\u62e0\u70b9",type:"dropdown",source:Ua(a),width:"140px",readOnly:!0},{name:"rank",title:"\u30e1\u30f3\u30d0\u30fc\u30e9\u30f3\u30af",type:"dropdown",source:be(n),width:"140px",readOnly:!0},{name:"assign_manager",title:"\u30a2\u30b5\u30a4\u30f3\u7ba1\u7406\u62c5\u5f53\u8005",type:"dropdown",source:fe(r),width:"140px",readOnly:!0},{name:"cost",title:"\u6a19\u6e96\u539f\u4fa1",type:"numeric",width:"120px",readOnly:!0,align:"right",mask:"[-]#,##"},{name:"sales",title:"\u6a19\u6e96\u58f2\u4e0a",type:"numeric",width:"120px",readOnly:!0,align:"right",mask:"[-]#,##"},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function en(e){e.refresh;var t=Object(o.c)((function(e){return e.memberTag})).memberTags,a=Object(o.c)((function(e){return e.memberAffiliation})).memberAffiliations,c=Object(o.c)((function(e){return e.memberHub})).memberHubs,i=Object(o.c)((function(e){return e.memberRank})).memberRanks,l=Object(o.c)((function(e){return e.memberAssignManager})).memberAssignManagers,u=Object(o.c)((function(e){return e.member})).members,s=Object(n.useRef)({columns:Qa(t,a,c,i,l)});return r.a.createElement(ue,{options:s,data:u})}var tn=w.firestore();function an(e){return tn.collection("member_hub").where("closing_year_month","==",e).orderBy("created_at","asc")}function nn(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_hub",e.closing_year_month,a),tn.collection("member_hub").doc(e.closing_year_month+"-"+je()()).set(Object($.a)({},e,{created_at:a,created_user:t.email,updated_at:a,updated_user:t.email}))}function rn(e){var t=w.auth().currentUser,a=w.firestore.Timestamp.now();return Ie("member_hub",e.closing_year_month,a),tn.collection("member_hub").doc(e.id).update(Object($.a)({},Ce.a.omit(e,"id"),{updated_at:a,updated_user:t.email}))}function cn(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,nn(e);case 4:a({type:"memberHub/create",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function ln(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"async/action_start"}),t.next=4,rn(e);case 4:a({type:"memberHub/update",payload:e}),a({type:"async/action_finish"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(we(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function on(e){return function(){var t=Object(p.a)(d.a.mark((function t(a,n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae(n().memberHub.memberHubs,n().lastupdate.member_hub).result){t.next=4;break}return t.abrupt("return",n().memberHub.memberHubs);case 4:return a({type:"async/action_start"}),r=an(e).get(),t.next=8,r;case 8:return c=t.sent.docs.map((function(e){var t=Ve(e),a='<a href="#'.concat(t.id,'">\u7de8\u96c6</a>');return Object($.a)({href:a},t)})),a({type:"memberHub/fetch",payload:c}),a({type:"async/action_finish"}),t.abrupt("return",c);case 14:t.prev=14,t.t0=t.catch(0),a(we(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()}var un={memberHubs:[],selectedMemberHub:null};function sn(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(ha(m.yearMonth)),b(Tt(m.yearMonth)),b(on(m.yearMonth)),b(ea(m.yearMonth)),b(Yt(m.yearMonth)),b(Ja(m.yearMonth)),b(oa(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"very wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement($a,{memberId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(en,{refresh:y}))))}function mn(e){var t=e.projectId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.client})).clients,i=Object(o.c)((function(e){return e.accDepartment})).accDepartments,s=Object(o.c)((function(e){return e.accSubject})).accSubjects,m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.c)((function(e){return e.project})).selectedProject,v=Object(o.c)((function(e){return e.async})),g=v.loading,_=v.error,O=Object(o.b)(),j=Object(l.f)(),w=null!==b&&void 0!==b?b:{closing_year_month:m.yearMonth,name:"",client:"",accDepartment:"",accSubject:"",note:"",available:"true"},x=y.b({name:y.c().required("\u6848\u4ef6\u540d\u79f0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),client:y.c().required("\u53d6\u5f15\u5148\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),accDepartment:y.c().required("\u8a08\u4e0a\u90e8\u9580\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),accSubject:y.c().notRequired("\u8cbb\u7528\u79d1\u76ee"),note:y.c().notRequired(),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return ka.collection("project").doc(e)}(t)},data:function(e){return O({type:"project/selected",payload:e})},deps:[t,O]}),g?r.a.createElement(F,null):_?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u6848\u4ef6")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:w,validationSchema:x,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),O(t?Ra(r):Ia(r)),a(!1),j.push("/projects"),n()}catch(_){u.b.error(_.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,l=e.isValid,o=e.resetForm;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(E,{label:"\u6848\u4ef6\u540d\u79f0",name:"name",placeholder:"\u6848\u4ef6\u540d\u79f0"}),r.a.createElement(Aa,{label:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8",name:"client",options:ye(c),search:!0}),r.a.createElement(Aa,{label:"\u8a08\u4e0a\u90e8\u9580",name:"accDepartment",options:ve(i)}),r.a.createElement(Aa,{label:"\u8cbb\u7528\u79d1\u76ee",name:"accSubject",options:ge(s)}),r.a.createElement(E,{label:"\u5099\u8003",name:"note",placeholder:"\u5099\u8003"}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!l||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/projects",onClick:function(){a(!1),o()}}))})))}var dn=function(e,t,a){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"name",title:"\u6848\u4ef6\u540d",type:"text",width:"200px",readOnly:!0},{name:"client",title:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8",type:"dropdown",source:ye(e),width:"250px",readOnly:!0},{name:"accDepartment",title:"\u8a08\u4e0a\u90e8\u9580",type:"dropdown",source:ve(t),width:"140px",readOnly:!0},{name:"accSubject",title:"\u8cbb\u7528\u79d1\u76ee",type:"dropdown",source:ge(a),width:"140px",readOnly:!0},{name:"note",title:"\u5099\u8003",type:"text",width:"200px",readOnly:!0},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function pn(e){e.refresh;var t=Object(o.c)((function(e){return e.client})).clients,a=Object(o.c)((function(e){return e.accDepartment})).accDepartments,c=Object(o.c)((function(e){return e.accSubject})).accSubjects,i=Object(o.c)((function(e){return e.project})).projects,l=Object(n.useRef)({columns:dn(t,a,c)});return r.a.createElement(ue,{options:l,data:i})}function bn(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(It(m.yearMonth)),b(bt(m.yearMonth)),b(Ot(m.yearMonth)),b(Fa(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"very wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement(mn,{projectId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u6848\u4ef6"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(pn,{refresh:y}))))}var fn=[{key:"true",id:"true",text:"\u5229\u7528\u3059\u308b",name:"\u5229\u7528\u3059\u308b",value:"true"},{key:"false",id:"false",text:"\u5229\u7528\u3057\u306a\u3044\uff08\u624b\u5165\u529b\uff09",name:"\u5229\u7528\u3057\u306a\u3044\uff08\u624b\u5165\u529b\uff09",value:"false"}];function hn(e){var t=e.memberTagId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.period})).currentPeriod,i=Object(o.c)((function(e){return e.memberTag})).selectedMemberTag,s=Object(o.c)((function(e){return e.async})),m=s.loading,b=s.error,v=Object(o.b)(),g=Object(l.f)(),_=null!==i&&void 0!==i?i:{closing_year_month:c.yearMonth,name:"",use_cost_sales:"true",available:"true"},O=y.b({closing_year_month:y.c().required("\u7de0\u3081\u5e74\u6708\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),name:y.c().required("\u540d\u79f0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),use_cost_sales:y.c().required("\u300c\u6a19\u6e96\u58f2\u4e0a\u539f\u4fa1\u5229\u7528\u53ef\u5426\u300d\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return sa.collection("member_tag").doc(e)}(t)},data:function(e){return v({type:"memberTag/selected",payload:e})},deps:[t,v]}),m?r.a.createElement(F,null):b?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u30bf\u30b0")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:_,validationSchema:O,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),v(t?fa(r):ba(r)),a(!1),g.push("/membertags"),n()}catch(b){u.b.error(b.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,c=e.isValid,i=e.resetForm;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(E,{label:"\u30bf\u30b0\u540d\u79f0",name:"name",placeholder:"\u30bf\u30b0\u540d\u79f0"}),r.a.createElement(Aa,{label:"\u6a19\u6e96\u58f2\u4e0a\u539f\u4fa1\u5229\u7528\u53ef\u5426",name:"use_cost_sales",options:fn}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!c||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/membertags",onClick:function(){a(!1),i()}}))})))}var yn=function(){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"name",title:"\u30bf\u30b0\u540d\u79f0",type:"text",width:"200px",readOnly:!0},{name:"use_cost_sales",title:"\u6a19\u6e96\u58f2\u4e0a\u539f\u4fa1\u5229\u7528\u53ef\u5426",type:"dropdown",source:fn,width:"200px",readOnly:!0},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function vn(e){e.refresh;var t=Object(o.c)((function(e){return e.memberTag})).memberTags,a=Object(n.useRef)({columns:yn()});return r.a.createElement(ue,{options:a,data:t})}function gn(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(ha(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement(hn,{memberTagId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u30bf\u30b0"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(vn,{refresh:y}))))}function _n(e){var t=e.memberRankId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.period})).currentPeriod,i=Object(o.c)((function(e){return e.memberRank})).selectedMemberRank,s=Object(o.c)((function(e){return e.async})),m=s.loading,b=s.error,v=Object(o.b)(),g=Object(l.f)(),_=null!==i&&void 0!==i?i:{closing_year_month:c.yearMonth,name:"",available:"true"},O=y.b({name:y.c().required("\u540d\u79f0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return Xt.collection("member_rank").doc(e)}(t)},data:function(e){return v({type:"memberRank/selected",payload:e})},deps:[t,v]}),m?r.a.createElement(F,null):b?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u30e9\u30f3\u30af")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:_,validationSchema:O,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),v(t?Qt(r):$t(r)),a(!1),g.push("/memberranks"),n()}catch(b){u.b.error(b.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,c=e.isValid,i=e.resetForm;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(E,{label:"\u540d\u79f0",name:"name",placeholder:"\u540d\u79f0"}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!c||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/memberranks",onClick:function(){a(!1),i()}}))})))}var En=function(){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"name",title:"\u30e9\u30f3\u30af\u540d\u79f0",type:"text",width:"200px",readOnly:!0},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function On(e){e.refresh;var t=Object(o.c)((function(e){return e.memberRank})).memberRanks,a=Object(n.useRef)({columns:En()});return r.a.createElement(ue,{options:a,data:t})}function jn(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(ea(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement(_n,{memberRankId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u30e9\u30f3\u30af"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(On,{refresh:y}))))}function wn(e){var t=e.memberAffiliationId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.period})).currentPeriod,i=Object(o.c)((function(e){return e.memberAffiliation})).selectedMemberAffiliation,s=Object(o.c)((function(e){return e.async})),m=s.loading,b=s.error,v=Object(o.b)(),g=Object(l.f)(),_=null!==i&&void 0!==i?i:{closing_year_month:c.yearMonth,name:"",available:"true"},O=y.b({name:y.c().required("\u62e0\u70b9\u540d\u79f0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return Ft.collection("member_affiliation").doc(e)}(t)},data:function(e){return v({type:"memberAffiliation/selected",payload:e})},deps:[t,v]}),m?r.a.createElement(F,null):b?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u6240\u5c5e")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:_,validationSchema:O,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),v(t?Nt(r):Dt(r)),a(!1),g.push("/memberaffiliations"),n()}catch(b){u.b.error(b.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,c=e.isValid,i=e.resetForm;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(E,{label:"\u6240\u5c5e\u540d\u79f0",name:"name",placeholder:"\u6240\u5c5e\u540d\u79f0"}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!c||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/memberaffiliations",onClick:function(){a(!1),i()}}))})))}var xn=function(){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"name",title:"\u6240\u5c5e\u540d\u79f0",type:"text",width:"300px",readOnly:!0},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function kn(e){e.refresh;var t=Object(o.c)((function(e){return e.memberAffiliation})).memberAffiliations,a=Object(n.useRef)({columns:xn()});return r.a.createElement(ue,{options:a,data:t})}function Cn(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(Tt(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement(wn,{memberAffiliationId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u6240\u5c5e"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(kn,{refresh:y}))))}function Sn(e){var t=e.memberHubId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.period})).currentPeriod,i=Object(o.c)((function(e){return e.memberHub})).selectedMemberHub,s=Object(o.c)((function(e){return e.async})),m=s.loading,b=s.error,v=Object(o.b)(),g=Object(l.f)(),_=null!==i&&void 0!==i?i:{closing_year_month:c.yearMonth,name:"",available:"true"},O=y.b({name:y.c().required("\u62e0\u70b9\u540d\u79f0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return tn.collection("member_hub").doc(e)}(t)},data:function(e){return v({type:"memberHub/selected",payload:e})},deps:[t,v]}),m?r.a.createElement(F,null):b?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u62e0\u70b9")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:_,validationSchema:O,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),v(t?ln(r):cn(r)),a(!1),g.push("/memberhubs"),n()}catch(b){u.b.error(b.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,c=e.isValid,i=e.resetForm;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(E,{label:"\u62e0\u70b9\u540d\u79f0",name:"name",placeholder:"\u62e0\u70b9\u540d\u79f0"}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!c||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/memberhubs",onClick:function(){a(!1),i()}}))})))}var Mn=function(){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"name",title:"\u62e0\u70b9\u540d\u79f0",type:"text",width:"200px",readOnly:!0},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function In(e){e.refresh;var t=Object(o.c)((function(e){return e.memberHub})).memberHubs,a=Object(n.useRef)({columns:Mn()});return r.a.createElement(ue,{options:a,data:t})}function Rn(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(on(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement(Sn,{memberHubId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u62e0\u70b9"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(In,{refresh:y}))))}var Fn=[{key:"1",id:"1",text:"\u539f\u4fa1",name:"\u539f\u4fa1",value:"1"},{key:"2",id:"2",text:"\u58f2\u4e0a",name:"\u58f2\u4e0a",value:"2"}];function Vn(e){var t=e.memberHubCostSalesId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.memberHub})).memberHubs,i=Object(o.c)((function(e){return e.memberRank})).memberRanks,s=Object(o.c)((function(e){return e.period})).currentPeriod,m=Object(o.c)((function(e){return e.memberHubCostSales})).selectedMemberHubCostSales,b=Object(o.c)((function(e){return e.async})),v=b.loading,g=b.error,_=Object(o.b)(),O=Object(l.f)(),j=null!==m&&void 0!==m?m:{closing_year_month:s.yearMonth,cost_sales_kind:"",hub:"",rank:"",cost_sales:0,available:"true"},w=y.b({cost_sales_kind:y.c().required("\u58f2\u4e0a\u30fb\u539f\u4fa1\u533a\u5206\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),hub:y.c().required("\u62e0\u70b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),rank:y.c().required("\u30e9\u30f3\u30af\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),cost_sales:y.a().required("\u91d1\u984d\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044").typeError("\u6570\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return za.collection("member_hub_cost_sales").doc(e)}(t)},data:function(e){return _({type:"memberHubCostSales/selected",payload:e})},deps:[t,_]}),v?r.a.createElement(F,null):g?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u62e0\u70b9\u5225\u6a19\u6e96\u539f\u4fa1\u58f2\u4e0a\u8868")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:j,validationSchema:w,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),_(t?Xa(r):Ga(r)),a(!1),O.push("/memberhubcostsaless"),n()}catch(g){u.b.error(g.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,l=e.isValid,o=e.resetForm;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(Aa,{label:"\u58f2\u4e0a\u30fb\u539f\u4fa1\u533a\u5206",name:"cost_sales_kind",options:Fn}),r.a.createElement(Aa,{label:"\u62e0\u70b9",name:"hub",options:Ua(c)}),r.a.createElement(Aa,{label:"\u30e9\u30f3\u30af",name:"rank",options:be(i)}),r.a.createElement(E,{label:"\u91d1\u984d",name:"cost_sales",placeholder:"\u91d1\u984d"}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!l||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/memberhubcostsaless",onClick:function(){a(!1),o()}}))})))}var Pn=function(e,t){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"cost_sales_kind",title:"\u58f2\u4e0a\u30fb\u539f\u4fa1\u533a\u5206",type:"dropdown",source:Fn,width:"140px",readOnly:!0},{name:"hub",title:"\u30e1\u30f3\u30d0\u30fc\u62e0\u70b9",type:"dropdown",source:Ua(e),width:"140px",readOnly:!0},{name:"rank",title:"\u30e1\u30f3\u30d0\u30fc\u30e9\u30f3\u30af",type:"dropdown",source:be(t),width:"140px",readOnly:!0},{name:"cost_sales",title:"\u91d1\u984d",type:"numeric",width:"120px",readOnly:!0,align:"right",mask:"[-]#,##"},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function An(e){e.refresh;var t=Object(o.c)((function(e){return e.memberHub})).memberHubs,a=Object(o.c)((function(e){return e.memberRank})).memberRanks,c=Object(o.c)((function(e){return e.memberHubCostSales})).memberHubCostSaless,i=Object(n.useRef)({columns:Pn(t,a)});return r.a.createElement(ue,{options:i,data:c})}function Dn(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(on(m.yearMonth)),b(ea(m.yearMonth)),b(Ja(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement(Vn,{memberHubCostSalesId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u62e0\u70b9\u5225\u6a19\u6e96\u539f\u4fa1\u58f2\u4e0a\u8868"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(An,{refresh:y}))))}function Nn(e){var t=e.accDepartmentId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.period})).currentPeriod,i=Object(o.c)((function(e){return e.accDepartment})).selectedAccDepartment,s=Object(o.c)((function(e){return e.async})),m=s.loading,b=s.error,v=Object(o.b)(),g=Object(l.f)(),_=null!==i&&void 0!==i?i:{closing_year_month:c.yearMonth,name:"",available:"true"},O=y.b({name:y.c().required("\u8a08\u4e0a\u90e8\u9580\u540d\u79f0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return ot.collection("acc_department").doc(e)}(t)},data:function(e){return v({type:"accDepartment/selected",payload:e})},deps:[t,v]}),m?r.a.createElement(F,null):b?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u8a08\u4e0a\u90e8\u9580")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:_,validationSchema:O,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),v(t?pt(r):dt(r)),a(!1),g.push("/accdepartments"),n()}catch(b){u.b.error(b.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,c=e.isValid,i=e.resetForm;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(E,{label:"\u8a08\u4e0a\u90e8\u9580\u540d\u79f0",name:"name",placeholder:"\u540d\u79f0"}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!c||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/accdepartments",onClick:function(){a(!1),i()}}))})))}var Tn=function(){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"name",title:"\u8a08\u4e0a\u90e8\u9580\u540d\u79f0",type:"text",width:"200px",readOnly:!0},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function Hn(e){e.refresh;var t=Object(o.c)((function(e){return e.accDepartment})).accDepartments,a=Object(n.useRef)({columns:Tn()});return r.a.createElement(ue,{options:a,data:t})}function qn(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(bt(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement(Nn,{accDepartmentId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u8a08\u4e0a\u90e8\u9580"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(Hn,{refresh:y}))))}var Bn=[{key:"true",id:"true",text:"\u5165\u529b\u53ef",name:"\u5165\u529b\u53ef",value:"true"},{key:"false",id:"false",text:"\u5165\u529b\u4e0d\u53ef",name:"\u5165\u529b\u4e0d\u53ef",value:"false"}];function Un(e){var t=e.accSubjectId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.period})).currentPeriod,i=Object(o.c)((function(e){return e.accSubject})).selectedAccSubject,s=Object(o.c)((function(e){return e.async})),m=s.loading,b=s.error,v=Object(o.b)(),g=Object(l.f)(),_=null!==i&&void 0!==i?i:{closing_year_month:c.yearMonth,name:"",can_input_sales:"true",available:"true"},O=y.b({name:y.c().required("\u8cbb\u7528\u79d1\u76ee\u540d\u79f0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),can_input_sales:y.c().required("\u58f2\u4e0a\u5165\u529b\u53ef\u5426\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return ht.collection("acc_subject").doc(e)}(t)},data:function(e){return v({type:"accSubject/selected",payload:e})},deps:[t,v]}),m?r.a.createElement(F,null):b?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u8cbb\u7528\u79d1\u76ee")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:_,validationSchema:O,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),v(t?Et(r):_t(r)),a(!1),g.push("/accsubjects"),n()}catch(b){u.b.error(b.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,c=e.isValid,i=e.resetForm;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(E,{label:"\u8cbb\u7528\u79d1\u76ee\u540d\u79f0",name:"name",placeholder:"\u540d\u79f0"}),r.a.createElement(Aa,{label:"\u58f2\u4e0a\u5165\u529b\u53ef\u5426",name:"can_input_sales",options:Bn}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!c||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/accsubjects",onClick:function(){a(!1),i()}}))})))}var zn=function(){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"name",title:"\u8cbb\u7528\u79d1\u76ee\u540d\u79f0",type:"text",width:"200px",readOnly:!0},{name:"can_input_sales",title:"\u58f2\u4e0a\u5165\u529b\u53ef\u5426",type:"dropdown",source:Bn,width:"140px",readOnly:!0},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function Ln(e){e.refresh;var t=Object(o.c)((function(e){return e.accSubject})).accSubjects,a=Object(n.useRef)({columns:zn()});return r.a.createElement(ue,{options:a,data:t})}function Wn(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(Ot(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement(Un,{accSubjectId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u8cbb\u7528\u79d1\u76ee"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(Ln,{refresh:y}))))}function Yn(e){var t=e.memberAssignManagerId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.period})).currentPeriod,i=Object(o.c)((function(e){return e.memberAssignManager})).selectedMemberAssignManager,s=Object(o.c)((function(e){return e.async})),m=s.loading,b=s.error,v=Object(o.b)(),g=Object(l.f)(),_=null!==i&&void 0!==i?i:{closing_year_month:c.yearMonth,name:"",available:"true"},O=y.b({name:y.c().required("\u62c5\u5f53\u8005\u540d\u79f0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return qt.collection("member_assign_manager").doc(e)}(t)},data:function(e){return v({type:"memberAssignManager/selected",payload:e})},deps:[t,v]}),m?r.a.createElement(F,null):b?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u30a2\u30b5\u30a4\u30f3\u7ba1\u7406\u62c5\u5f53\u8005")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:_,validationSchema:O,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),v(t?Wt(r):Lt(r)),a(!1),g.push("/memberassignmanagers"),n()}catch(b){u.b.error(b.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,c=e.isValid,i=e.resetForm;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(E,{label:"\u62c5\u5f53\u8005\u540d\u79f0",name:"name",placeholder:"\u62c5\u5f53\u8005\u540d\u79f0"}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!c||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/memberassignmanagers",onClick:function(){a(!1),i()}}))})))}var Gn=function(){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"name",title:"\u62c5\u5f53\u8005\u540d\u79f0",type:"text",width:"200px",readOnly:!0},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function Xn(e){e.refresh;var t=Object(o.c)((function(e){return e.memberAssignManager})).memberAssignManagers,a=Object(n.useRef)({columns:Gn()});return r.a.createElement(ue,{options:a,data:t})}function Jn(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(Yt(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement(Yn,{memberAssignManagerId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u30e1\u30f3\u30d0\u30fc\u30a2\u30b5\u30a4\u30f3\u7ba1\u7406\u62c5\u5f53\u8005"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(Xn,{refresh:y}))))}function Kn(e){var t=e.label,a=Object(g.a)(e,["label"]),n=Object(h.c)(a),c=Object(v.a)(n,2),i=c[0],l=c[1];return r.a.createElement(_.a,{error:l.touched&&!!l.error},r.a.createElement("label",null,t),r.a.createElement("textarea",Object.assign({},i,a)),l.touched&&l.error?r.a.createElement(b.a,{pointing:!0,color:"red"},l.error):null)}function Zn(e){var t=e.precisionId,a=e.setVisibleDetail,n=e.handleRefresh,c=Object(o.c)((function(e){return e.period})).currentPeriod,i=Object(o.c)((function(e){return e.precision})).selectedPrecision,s=Object(o.c)((function(e){return e.async})),m=s.loading,b=s.error,v=Object(o.b)(),g=Object(l.f)(),_=null!==i&&void 0!==i?i:{closing_year_month:c.yearMonth,name:"",color:"#ffffff",can_input_sales:"true",note:"",available:"true"},O=y.b({name:y.c().required("\u540d\u79f0\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),color:y.c().required("\u8272\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),can_input_sales:y.c().required("\u58f2\u4e0a\u5165\u529b\u53ef\u5426\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044"),note:y.c().notRequired(),available:y.c().required("\u6709\u52b9\u30fb\u7121\u52b9\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044")});return Na({shouldExecute:!!t,query:function(){return function(e){return va.collection("precision").doc(e)}(t)},data:function(e){return v({type:"precision/selected",payload:e})},deps:[t,v]}),m?r.a.createElement(F,null):b?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u78ba\u5ea6")),r.a.createElement(h.b,{enableReinitialize:!0,validateOnBlur:!1,initialValues:_,validationSchema:O,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(r,c){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=c.setSubmitting;try{i(!0),v(t?ja(r):Oa(r)),a(!1),g.push("/precisions"),n()}catch(b){u.b.error(b.message)}finally{i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.dirty,c=e.isValid,i=e.resetForm;return r.a.createElement(h.a,{className:"ui form"},r.a.createElement("input",{type:"hidden",name:"id"}),r.a.createElement("input",{type:"hidden",name:"closing_year_month"}),r.a.createElement(E,{label:"\u78ba\u5ea6\u540d\u79f0",name:"name",placeholder:"\u78ba\u5ea6\u540d\u79f0"}),r.a.createElement(E,{label:"\u8272",name:"color",placeholder:"\u8272"}),r.a.createElement(Aa,{label:"\u58f2\u4e0a\u5165\u529b\u53ef\u5426",name:"can_input_sales",options:Bn}),r.a.createElement(Kn,{label:"\u5185\u5bb9",name:"note",placeholder:"\u5185\u5bb9",rows:"5"}),r.a.createElement(Aa,{label:"\u6709\u52b9\u30fb\u7121\u52b9",name:"available",options:Da}),r.a.createElement(f.a,{loading:t,disabled:!c||!n||t,type:"submit",positive:!0,content:"\u4fdd\u5b58"}),r.a.createElement(f.a,{negative:!0,content:"\u30ad\u30e3\u30f3\u30bb\u30eb",as:V.b,to:"/precisions",onClick:function(){a(!1),i()}}))})))}var $n=function(){return[{name:"href",title:"\u30ea\u30f3\u30af",type:"html",width:"100px",readOnly:!0,align:"center"},{name:"name",title:"\u78ba\u5ea6\u540d\u79f0",type:"text",width:"200px",readOnly:!0},{name:"color",title:"\u8272",type:"color",width:"100px",render:"square",readOnly:!0},{name:"can_input_sales",title:"\u58f2\u4e0a\u5165\u529b\u53ef\u5426",type:"dropdown",source:Bn,width:"140px",readOnly:!0},{name:"note",title:"\u5185\u5bb9",type:"text",width:"500px",readOnly:!0},{name:"available",title:"\u6709\u52b9\u30fb\u7121\u52b9",type:"dropdown",source:Da,width:"140px",readOnly:!0,align:"center"},{name:"created_at",title:"\u4f5c\u6210\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"created_user",title:"\u4f5c\u6210\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"updated_at",title:"\u66f4\u65b0\u65e5",type:"hidden",width:"0",readOnly:!0},{name:"updated_user",title:"\u66f4\u65b0\u30e6\u30fc\u30b6\u30fc",type:"hidden",width:"0",readOnly:!0},{name:"id",title:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8ID",type:"hidden",width:"0",readOnly:!0},{name:"closing_year_month",title:"\u7de0\u3081\u5e74\u6708",type:"hidden",width:"0",readOnly:!0}]};function Qn(e){e.refresh;var t=Object(o.c)((function(e){return e.precision})).precisions,a=Object(n.useRef)({columns:$n()});return r.a.createElement(ue,{options:a,data:t})}function er(e){var t,a=null===(t=e.location.hash)||void 0===t?void 0:t.replace("#",""),c=Object(n.useState)(!1),i=Object(v.a)(c,2),u=i[0],s=i[1],m=Object(o.c)((function(e){return e.period})).currentPeriod,b=Object(o.b)(),f=Object(n.useState)(0),h=Object(v.a)(f,2),y=h[0],g=h[1],_=Object(o.c)((function(e){return e.async})),E=_.loading,O=_.error;Object(n.useEffect)((function(){a&&s(!0)}),[a]),Object(n.useEffect)((function(){b(Pe(m.yearMonth)).then(Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([b(wa(m.yearMonth))]);case 2:case"end":return e.stop()}}),e)}))))}),[m.yearMonth,b,y]);var j=function(){g(y+1)};return E&&!u?r.a.createElement(F,null):O?r.a.createElement(l.a,{to:"/error"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a.Pushable,null,r.a.createElement(ae.a,{width:"wide",as:B.a,animation:"overlay",direction:"right",vertical:!0,visible:u},r.a.createElement(B.a.Item,null,r.a.createElement(Zn,{precisionId:a,setVisibleDetail:s,handleRefresh:j}))),r.a.createElement(ae.a.Pusher,{className:"jpusher",dimmed:u},r.a.createElement(B.a,{secondary:!0,className:"jmenu"},r.a.createElement(B.a.Item,{className:"secondary_toolbar_title"},"\u78ba\u5ea6"),r.a.createElement(B.a.Item,{onClick:function(){j()}},r.a.createElement(H.a,{name:"refresh"}),"\u6700\u65b0\u306e\u72b6\u614b\u306b\u66f4\u65b0"),r.a.createElement(B.a.Item,{onClick:function(){return s(!u)}},r.a.createElement(H.a,{name:"edit"}),"\u65b0\u3057\u3044\u30ec\u30b3\u30fc\u30c9")),r.a.createElement(Qn,{refresh:y}))))}var tr=function(){return Object(o.c)((function(e){return e.async})).initialized?r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),r.a.createElement(u.a,{position:"bottom-right",hideProgressBar:!0}),r.a.createElement(l.b,{exact:!0,path:"/",component:q}),r.a.createElement(l.b,{path:"/(.+)",render:function(){return r.a.createElement(N,null,r.a.createElement(G,null),r.a.createElement(s.a,{className:"wide"},r.a.createElement(l.b,{exact:!0,path:"/error",component:D}),r.a.createElement(l.b,{exact:!0,path:"/dashboard",component:ee}),r.a.createElement(l.b,{exact:!0,path:"/assign",component:Pa}),r.a.createElement(l.b,{exact:!0,path:"/profile",component:te}),r.a.createElement(l.b,{exact:!0,path:"/clients",component:Ba}),r.a.createElement(l.b,{exact:!0,path:"/members",component:sn}),r.a.createElement(l.b,{exact:!0,path:"/projects",component:bn}),r.a.createElement(l.b,{exact:!0,path:"/membertags",component:gn}),r.a.createElement(l.b,{exact:!0,path:"/memberranks",component:jn}),r.a.createElement(l.b,{exact:!0,path:"/memberassignmanagers",component:Jn}),r.a.createElement(l.b,{exact:!0,path:"/memberaffiliations",component:Cn}),r.a.createElement(l.b,{exact:!0,path:"/memberhubs",component:Rn}),r.a.createElement(l.b,{exact:!0,path:"/memberhubcostsaless",component:Dn}),r.a.createElement(l.b,{exact:!0,path:"/accdepartments",component:qn}),r.a.createElement(l.b,{exact:!0,path:"/accsubjects",component:Wn}),r.a.createElement(l.b,{exact:!0,path:"/precisions",component:er})))}})):r.a.createElement(F,{content:"Loading Application..."})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ar=a(60),nr=a(186),rr=a(187);var cr={authenticated:!1,currentUser:{email:"",photoURL:"/assets/user.png"}};var ir=Object(ar.combineReducers)({modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"modal/open":var r=n.modalType,c=n.modalProps;return{modalType:r,modalProps:c};case"modal/close":return null;default:return e}},async:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"async/action_start":return e.count++,Object($.a)({},e,{loading:!0,error:null});case"async/action_finish":return e.count--,Object($.a)({},e,{loading:!(e.count<=0)});case"async/action_error":return Object($.a)({},e,{loading:!1,error:n});case"app/loaded":return Object($.a)({},e,{initialized:!0});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"auth/sign_in_user":return Object($.a)({},e,{authenticated:!0,currentUser:{email:n.email,photoURL:"/assets/user.png"}});case"auth/sign_out_user":return Object($.a)({},e,{authenticated:!1,currentUser:null});default:return e}},lastupdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"lastupdate/fetch":return n;case"lastupdate/update":default:return e}},period:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"period/latest":return Object($.a)({},e,{periods:n,currentPeriod:0===n.length?null:n[0]});case"period/change_current":return Object($.a)({},e,{currentPeriod:e.periods.filter((function(e){return e.yearMonth===n}))[0]});default:return e}},assign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"assign/addRow":return e.add.push(n),e;case"assign/removeRow":return e.remove.push(n),e;case"assign/editRow":var r=e.assigns.filter((function(e){return e.id===n.id}));return r.length>0&&(He(r[0],n)||e.update.push(n)),e;case"assign/fetch":return Object($.a)({},e,{assigns:n});default:return e}},member:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"member/selected":return Object($.a)({},e,{selectedMember:n});case"member/create":case"member/update":return e;case"member/fetch":return Object($.a)({},e,{members:n});case"member/listen":return Object($.a)({},e,{selectedMember:n});default:return e}},memberTag:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"memberTag/selected":return Object($.a)({},e,{selectedMemberTag:n});case"memberTag/create":case"memberTag/update":return e;case"memberTag/fetch":return Object($.a)({},e,{memberTags:n});case"memberTag/listen":return Object($.a)({},e,{selectedMemberTag:n});default:return e}},memberRank:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"memberRank/selected":return Object($.a)({},e,{selectedMemberRank:n});case"memberRank/create":case"memberRank/update":return e;case"memberRank/fetch":return Object($.a)({},e,{memberRanks:n});case"memberRank/listen":return Object($.a)({},e,{selectedMemberRank:n});default:return e}},memberAssignManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"memberAssignManager/selected":return Object($.a)({},e,{selectedMemberAssignManager:n});case"memberAssignManager/create":case"memberAssignManager/update":return e;case"memberAssignManager/fetch":return Object($.a)({},e,{memberAssignManagers:n});case"memberAssignManager/listen":return Object($.a)({},e,{selectedMemberAssignManager:n});default:return e}},memberAffiliation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"memberAffiliation/selected":return Object($.a)({},e,{selectedMemberAffiliation:n});case"memberAffiliation/create":case"memberAffiliation/update":return e;case"memberAffiliation/fetch":return Object($.a)({},e,{memberAffiliations:n});case"memberAffiliation/listen":return Object($.a)({},e,{selectedMemberAffiliation:n});default:return e}},memberHub:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"memberHub/selected":return Object($.a)({},e,{selectedMemberHub:n});case"memberHub/create":case"memberHub/update":return e;case"memberHub/fetch":return Object($.a)({},e,{memberHubs:n});case"memberHub/listen":return Object($.a)({},e,{selectedMemberHub:n});default:return e}},memberHubCostSales:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"memberHubCostSales/selected":return Object($.a)({},e,{selectedMemberHubCostSales:n});case"memberHubCostSales/create":case"memberHubCostSales/update":return e;case"memberHubCostSales/fetch":return Object($.a)({},e,{memberHubCostSaless:n});case"memberHubCostSales/listen":return Object($.a)({},e,{selectedMemberHubCostSales:n});default:return e}},accDepartment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"accDepartment/selected":return Object($.a)({},e,{selectedAccDepartment:n});case"accDepartment/create":case"accDepartment/update":return e;case"accDepartment/fetch":return Object($.a)({},e,{accDepartments:n});case"accDepartment/listen":return Object($.a)({},e,{selectedAccDepartment:n});default:return e}},accSubject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"accSubject/selected":return Object($.a)({},e,{selectedAccSubject:n});case"accSubject/create":case"accSubject/update":return e;case"accSubject/fetch":return Object($.a)({},e,{accSubjects:n});case"accSubject/listen":return Object($.a)({},e,{selectedAccSubject:n});default:return e}},precision:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"precision/selected":return Object($.a)({},e,{selectedPrecision:n});case"precision/create":case"precision/update":return e;case"precision/fetch":return Object($.a)({},e,{precisions:n});case"precision/listen":return Object($.a)({},e,{selectedPrecision:n});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"client/selected":return Object($.a)({},e,{selectedClient:n});case"client/create":case"client/update":return e;case"client/fetch":return Object($.a)({},e,{clients:n});case"client/listen":return Object($.a)({},e,{selectedClient:n});default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"project/selected":return Object($.a)({},e,{selectedProject:n});case"project/create":case"project/update":return e;case"project/fetch":return Object($.a)({},e,{projects:n});case"project/listen":return Object($.a)({},e,{selectedProject:n});default:return e}}});var lr=function(){var e=Object(ar.createStore)(ir,Object(nr.composeWithDevTools)(Object(ar.applyMiddleware)(rr.a)));return e.dispatch((function(e){return w.auth().onAuthStateChanged((function(t){e(t?{type:"auth/sign_in_user",payload:t}:function(e){return{type:"auth/sign_out_user",payload:e}}()),e({type:"app/loaded"})}))})),e.dispatch((function(e){e({type:"period/latest",payload:[{yearMonth:202011,close:!1},{yearMonth:202010,close:!1},{yearMonth:202009,close:!0},{yearMonth:202008,close:!0},{yearMonth:202007,close:!0},{yearMonth:202006,close:!0},{yearMonth:202005,close:!0}]})})),e}();i.a.render(r.a.createElement(o.a,{store:lr},r.a.createElement(V.a,null,r.a.createElement(tr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[200,1,2]]]);
//# sourceMappingURL=main.93eaebf0.chunk.js.map